<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<title>MIDS-MLS-Project-Criteo-CTR</title>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<style type="text/css">
    /*!
*
* Twitter Bootstrap
*
*//*! normalize.css v3.0.2 | MIT License | git.io/normalize */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-size:10px;-webkit-tap-highlight-color:transparent}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0;vertical-align:middle}svg:not(:root){overflow:hidden}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */@media print{*,:after,:before{background:0 0!important;color:#000!important;box-shadow:none!important;text-shadow:none!important}a,a:visited{text-decoration:underline}a[href]:after{content:" (" attr(href)")"}abbr[title]:after{content:" (" attr(title)")"}a[href^="javascript:"]:after,a[href^="#"]:after{content:""}blockquote,pre{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}img,tr{page-break-inside:avoid}img{max-width:100%!important}h2,h3,p{orphans:3;widows:3}h2,h3{page-break-after:avoid}select{background:#fff!important}.navbar{display:none}.btn>.caret,.dropup>.btn>.caret{border-top-color:#000!important}.label{border:1px solid #000}.table{border-collapse:collapse!important}.table td,.table th{background-color:#fff!important}.table-bordered td,.table-bordered th{border:1px solid #ddd!important}}@font-face{font-family:'Glyphicons Halflings';src:url(../components/bootstrap/fonts/glyphicons-halflings-regular.eot);src:url(../components/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix)format('embedded-opentype'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.woff2)format('woff2'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.woff)format('woff'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.ttf)format('truetype'),url(../components/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular)format('svg')}.glyphicon{position:relative;top:1px;display:inline-block;font-family:'Glyphicons Halflings';font-style:normal;font-weight:400;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glyphicon-asterisk:before{content:"\2a"}.glyphicon-plus:before{content:"\2b"}.glyphicon-eur:before,.glyphicon-euro:before{content:"\20ac"}.glyphicon-minus:before{content:"\2212"}.glyphicon-cloud:before{content:"\2601"}.glyphicon-envelope:before{content:"\2709"}.glyphicon-pencil:before{content:"\270f"}.glyphicon-glass:before{content:"\e001"}.glyphicon-music:before{content:"\e002"}.glyphicon-search:before{content:"\e003"}.glyphicon-heart:before{content:"\e005"}.glyphicon-star:before{content:"\e006"}.glyphicon-star-empty:before{content:"\e007"}.glyphicon-user:before{content:"\e008"}.glyphicon-film:before{content:"\e009"}.glyphicon-th-large:before{content:"\e010"}.glyphicon-th:before{content:"\e011"}.glyphicon-th-list:before{content:"\e012"}.glyphicon-ok:before{content:"\e013"}.glyphicon-remove:before{content:"\e014"}.glyphicon-zoom-in:before{content:"\e015"}.glyphicon-zoom-out:before{content:"\e016"}.glyphicon-off:before{content:"\e017"}.glyphicon-signal:before{content:"\e018"}.glyphicon-cog:before{content:"\e019"}.glyphicon-trash:before{content:"\e020"}.glyphicon-home:before{content:"\e021"}.glyphicon-file:before{content:"\e022"}.glyphicon-time:before{content:"\e023"}.glyphicon-road:before{content:"\e024"}.glyphicon-download-alt:before{content:"\e025"}.glyphicon-download:before{content:"\e026"}.glyphicon-upload:before{content:"\e027"}.glyphicon-inbox:before{content:"\e028"}.glyphicon-play-circle:before{content:"\e029"}.glyphicon-repeat:before{content:"\e030"}.glyphicon-refresh:before{content:"\e031"}.glyphicon-list-alt:before{content:"\e032"}.glyphicon-lock:before{content:"\e033"}.glyphicon-flag:before{content:"\e034"}.glyphicon-headphones:before{content:"\e035"}.glyphicon-volume-off:before{content:"\e036"}.glyphicon-volume-down:before{content:"\e037"}.glyphicon-volume-up:before{content:"\e038"}.glyphicon-qrcode:before{content:"\e039"}.glyphicon-barcode:before{content:"\e040"}.glyphicon-tag:before{content:"\e041"}.glyphicon-tags:before{content:"\e042"}.glyphicon-book:before{content:"\e043"}.glyphicon-bookmark:before{content:"\e044"}.glyphicon-print:before{content:"\e045"}.glyphicon-camera:before{content:"\e046"}.glyphicon-font:before{content:"\e047"}.glyphicon-bold:before{content:"\e048"}.glyphicon-italic:before{content:"\e049"}.glyphicon-text-height:before{content:"\e050"}.glyphicon-text-width:before{content:"\e051"}.glyphicon-align-left:before{content:"\e052"}.glyphicon-align-center:before{content:"\e053"}.glyphicon-align-right:before{content:"\e054"}.glyphicon-align-justify:before{content:"\e055"}.glyphicon-list:before{content:"\e056"}.glyphicon-indent-left:before{content:"\e057"}.glyphicon-indent-right:before{content:"\e058"}.glyphicon-facetime-video:before{content:"\e059"}.glyphicon-picture:before{content:"\e060"}.glyphicon-map-marker:before{content:"\e062"}.glyphicon-adjust:before{content:"\e063"}.glyphicon-tint:before{content:"\e064"}.glyphicon-edit:before{content:"\e065"}.glyphicon-share:before{content:"\e066"}.glyphicon-check:before{content:"\e067"}.glyphicon-move:before{content:"\e068"}.glyphicon-step-backward:before{content:"\e069"}.glyphicon-fast-backward:before{content:"\e070"}.glyphicon-backward:before{content:"\e071"}.glyphicon-play:before{content:"\e072"}.glyphicon-pause:before{content:"\e073"}.glyphicon-stop:before{content:"\e074"}.glyphicon-forward:before{content:"\e075"}.glyphicon-fast-forward:before{content:"\e076"}.glyphicon-step-forward:before{content:"\e077"}.glyphicon-eject:before{content:"\e078"}.glyphicon-chevron-left:before{content:"\e079"}.glyphicon-chevron-right:before{content:"\e080"}.glyphicon-plus-sign:before{content:"\e081"}.glyphicon-minus-sign:before{content:"\e082"}.glyphicon-remove-sign:before{content:"\e083"}.glyphicon-ok-sign:before{content:"\e084"}.glyphicon-question-sign:before{content:"\e085"}.glyphicon-info-sign:before{content:"\e086"}.glyphicon-screenshot:before{content:"\e087"}.glyphicon-remove-circle:before{content:"\e088"}.glyphicon-ok-circle:before{content:"\e089"}.glyphicon-ban-circle:before{content:"\e090"}.glyphicon-arrow-left:before{content:"\e091"}.glyphicon-arrow-right:before{content:"\e092"}.glyphicon-arrow-up:before{content:"\e093"}.glyphicon-arrow-down:before{content:"\e094"}.glyphicon-share-alt:before{content:"\e095"}.glyphicon-resize-full:before{content:"\e096"}.glyphicon-resize-small:before{content:"\e097"}.glyphicon-exclamation-sign:before{content:"\e101"}.glyphicon-gift:before{content:"\e102"}.glyphicon-leaf:before{content:"\e103"}.glyphicon-fire:before{content:"\e104"}.glyphicon-eye-open:before{content:"\e105"}.glyphicon-eye-close:before{content:"\e106"}.glyphicon-warning-sign:before{content:"\e107"}.glyphicon-plane:before{content:"\e108"}.glyphicon-calendar:before{content:"\e109"}.glyphicon-random:before{content:"\e110"}.glyphicon-comment:before{content:"\e111"}.glyphicon-magnet:before{content:"\e112"}.glyphicon-chevron-up:before{content:"\e113"}.glyphicon-chevron-down:before{content:"\e114"}.glyphicon-retweet:before{content:"\e115"}.glyphicon-shopping-cart:before{content:"\e116"}.glyphicon-folder-close:before{content:"\e117"}.glyphicon-folder-open:before{content:"\e118"}.glyphicon-resize-vertical:before{content:"\e119"}.glyphicon-resize-horizontal:before{content:"\e120"}.glyphicon-hdd:before{content:"\e121"}.glyphicon-bullhorn:before{content:"\e122"}.glyphicon-bell:before{content:"\e123"}.glyphicon-certificate:before{content:"\e124"}.glyphicon-thumbs-up:before{content:"\e125"}.glyphicon-thumbs-down:before{content:"\e126"}.glyphicon-hand-right:before{content:"\e127"}.glyphicon-hand-left:before{content:"\e128"}.glyphicon-hand-up:before{content:"\e129"}.glyphicon-hand-down:before{content:"\e130"}.glyphicon-circle-arrow-right:before{content:"\e131"}.glyphicon-circle-arrow-left:before{content:"\e132"}.glyphicon-circle-arrow-up:before{content:"\e133"}.glyphicon-circle-arrow-down:before{content:"\e134"}.glyphicon-globe:before{content:"\e135"}.glyphicon-wrench:before{content:"\e136"}.glyphicon-tasks:before{content:"\e137"}.glyphicon-filter:before{content:"\e138"}.glyphicon-briefcase:before{content:"\e139"}.glyphicon-fullscreen:before{content:"\e140"}.glyphicon-dashboard:before{content:"\e141"}.glyphicon-paperclip:before{content:"\e142"}.glyphicon-heart-empty:before{content:"\e143"}.glyphicon-link:before{content:"\e144"}.glyphicon-phone:before{content:"\e145"}.glyphicon-pushpin:before{content:"\e146"}.glyphicon-usd:before{content:"\e148"}.glyphicon-gbp:before{content:"\e149"}.glyphicon-sort:before{content:"\e150"}.glyphicon-sort-by-alphabet:before{content:"\e151"}.glyphicon-sort-by-alphabet-alt:before{content:"\e152"}.glyphicon-sort-by-order:before{content:"\e153"}.glyphicon-sort-by-order-alt:before{content:"\e154"}.glyphicon-sort-by-attributes:before{content:"\e155"}.glyphicon-sort-by-attributes-alt:before{content:"\e156"}.glyphicon-unchecked:before{content:"\e157"}.glyphicon-expand:before{content:"\e158"}.glyphicon-collapse-down:before{content:"\e159"}.glyphicon-collapse-up:before{content:"\e160"}.glyphicon-log-in:before{content:"\e161"}.glyphicon-flash:before{content:"\e162"}.glyphicon-log-out:before{content:"\e163"}.glyphicon-new-window:before{content:"\e164"}.glyphicon-record:before{content:"\e165"}.glyphicon-save:before{content:"\e166"}.glyphicon-open:before{content:"\e167"}.glyphicon-saved:before{content:"\e168"}.glyphicon-import:before{content:"\e169"}.glyphicon-export:before{content:"\e170"}.glyphicon-send:before{content:"\e171"}.glyphicon-floppy-disk:before{content:"\e172"}.glyphicon-floppy-saved:before{content:"\e173"}.glyphicon-floppy-remove:before{content:"\e174"}.glyphicon-floppy-save:before{content:"\e175"}.glyphicon-floppy-open:before{content:"\e176"}.glyphicon-credit-card:before{content:"\e177"}.glyphicon-transfer:before{content:"\e178"}.glyphicon-cutlery:before{content:"\e179"}.glyphicon-header:before{content:"\e180"}.glyphicon-compressed:before{content:"\e181"}.glyphicon-earphone:before{content:"\e182"}.glyphicon-phone-alt:before{content:"\e183"}.glyphicon-tower:before{content:"\e184"}.glyphicon-stats:before{content:"\e185"}.glyphicon-sd-video:before{content:"\e186"}.glyphicon-hd-video:before{content:"\e187"}.glyphicon-subtitles:before{content:"\e188"}.glyphicon-sound-stereo:before{content:"\e189"}.glyphicon-sound-dolby:before{content:"\e190"}.glyphicon-sound-5-1:before{content:"\e191"}.glyphicon-sound-6-1:before{content:"\e192"}.glyphicon-sound-7-1:before{content:"\e193"}.glyphicon-copyright-mark:before{content:"\e194"}.glyphicon-registration-mark:before{content:"\e195"}.glyphicon-cloud-download:before{content:"\e197"}.glyphicon-cloud-upload:before{content:"\e198"}.glyphicon-tree-conifer:before{content:"\e199"}.glyphicon-tree-deciduous:before{content:"\e200"}.glyphicon-cd:before{content:"\e201"}.glyphicon-save-file:before{content:"\e202"}.glyphicon-open-file:before{content:"\e203"}.glyphicon-level-up:before{content:"\e204"}.glyphicon-copy:before{content:"\e205"}.glyphicon-paste:before{content:"\e206"}.glyphicon-alert:before{content:"\e209"}.glyphicon-equalizer:before{content:"\e210"}.glyphicon-king:before{content:"\e211"}.glyphicon-queen:before{content:"\e212"}.glyphicon-pawn:before{content:"\e213"}.glyphicon-bishop:before{content:"\e214"}.glyphicon-knight:before{content:"\e215"}.glyphicon-baby-formula:before{content:"\e216"}.glyphicon-tent:before{content:"\26fa"}.glyphicon-blackboard:before{content:"\e218"}.glyphicon-bed:before{content:"\e219"}.glyphicon-apple:before{content:"\f8ff"}.glyphicon-erase:before{content:"\e221"}.glyphicon-hourglass:before{content:"\231b"}.glyphicon-lamp:before{content:"\e223"}.glyphicon-duplicate:before{content:"\e224"}.glyphicon-piggy-bank:before{content:"\e225"}.glyphicon-scissors:before{content:"\e226"}.glyphicon-bitcoin:before,.glyphicon-btc:before,.glyphicon-xbt:before{content:"\e227"}.glyphicon-jpy:before,.glyphicon-yen:before{content:"\00a5"}.glyphicon-rub:before,.glyphicon-ruble:before{content:"\20bd"}.glyphicon-scale:before{content:"\e230"}.glyphicon-ice-lolly:before{content:"\e231"}.glyphicon-ice-lolly-tasted:before{content:"\e232"}.glyphicon-education:before{content:"\e233"}.glyphicon-option-horizontal:before{content:"\e234"}.glyphicon-option-vertical:before{content:"\e235"}.glyphicon-menu-hamburger:before{content:"\e236"}.glyphicon-modal-window:before{content:"\e237"}.glyphicon-oil:before{content:"\e238"}.glyphicon-grain:before{content:"\e239"}.glyphicon-sunglasses:before{content:"\e240"}.glyphicon-text-size:before{content:"\e241"}.glyphicon-text-color:before{content:"\e242"}.glyphicon-text-background:before{content:"\e243"}.glyphicon-object-align-top:before{content:"\e244"}.glyphicon-object-align-bottom:before{content:"\e245"}.glyphicon-object-align-horizontal:before{content:"\e246"}.glyphicon-object-align-left:before{content:"\e247"}.glyphicon-object-align-vertical:before{content:"\e248"}.glyphicon-object-align-right:before{content:"\e249"}.glyphicon-triangle-right:before{content:"\e250"}.glyphicon-triangle-left:before{content:"\e251"}.glyphicon-triangle-bottom:before{content:"\e252"}.glyphicon-triangle-top:before{content:"\e253"}.glyphicon-console:before{content:"\e254"}.glyphicon-superscript:before{content:"\e255"}.glyphicon-subscript:before{content:"\e256"}.glyphicon-menu-left:before{content:"\e257"}.glyphicon-menu-right:before{content:"\e258"}.glyphicon-menu-down:before{content:"\e259"}.glyphicon-menu-up:before{content:"\e260"}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body{margin:0;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;line-height:1.42857143;color:#000;background-color:#fff}button,input,select,textarea{font-family:inherit;font-size:inherit;line-height:inherit}a{color:#337ab7;text-decoration:none}a:focus,a:hover{color:#23527c;text-decoration:underline}a:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}figure{margin:0}.carousel-inner>.item>a>img,.carousel-inner>.item>img,.img-responsive,.thumbnail a>img,.thumbnail>img{display:block;max-width:100%;height:auto}.img-rounded{border-radius:3px}.img-thumbnail{padding:4px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:2px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;display:inline-block;max-width:100%;height:auto}.img-circle{border-radius:50%}hr{margin-top:18px;margin-bottom:18px;border:0;border-top:1px solid #eee}.sr-only{position:absolute;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable:active,.sr-only-focusable:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}[role=button]{cursor:pointer}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{font-family:inherit;font-weight:500;line-height:1.1;color:inherit}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-weight:400;line-height:1;color:#777}.h1,.h2,.h3,h1,h2,h3{margin-top:18px;margin-bottom:9px}.h1 .small,.h1 small,.h2 .small,.h2 small,.h3 .small,.h3 small,h1 .small,h1 small,h2 .small,h2 small,h3 .small,h3 small{font-size:65%}.h4,.h5,.h6,h4,h5,h6{margin-top:9px;margin-bottom:9px}.h4 .small,.h4 small,.h5 .small,.h5 small,.h6 .small,.h6 small,h4 .small,h4 small,h5 .small,h5 small,h6 .small,h6 small{font-size:75%}.h1,h1{font-size:33px}.h2,h2{font-size:27px}.h3,h3{font-size:23px}.h4,h4{font-size:17px}.h5,h5{font-size:13px}.h6,h6{font-size:12px}p{margin:0 0 9px}.lead{margin-bottom:18px;font-size:14px;font-weight:300;line-height:1.4}@media (min-width:768px){.lead{font-size:19.5px}}.small,small{font-size:92%}.mark,mark{background-color:#fcf8e3;padding:.2em}.text-left{text-align:left}.text-right{text-align:right}.text-center{text-align:center}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-lowercase{text-transform:lowercase}.text-uppercase{text-transform:uppercase}.text-capitalize{text-transform:capitalize}.text-muted{color:#777}.text-primary{color:#337ab7}a.text-primary:hover{color:#286090}.text-success{color:#3c763d}a.text-success:hover{color:#2b542c}.text-info{color:#31708f}a.text-info:hover{color:#245269}.text-warning{color:#8a6d3b}a.text-warning:hover{color:#66512c}.text-danger{color:#a94442}a.text-danger:hover{color:#843534}.bg-primary{color:#fff;background-color:#337ab7}a.bg-primary:hover{background-color:#286090}.bg-success{background-color:#dff0d8}a.bg-success:hover{background-color:#c1e2b3}.bg-info{background-color:#d9edf7}a.bg-info:hover{background-color:#afd9ee}.bg-warning{background-color:#fcf8e3}a.bg-warning:hover{background-color:#f7ecb5}.bg-danger{background-color:#f2dede}a.bg-danger:hover{background-color:#e4b9b9}.page-header{padding-bottom:8px;margin:36px 0 18px;border-bottom:1px solid #eee}ol,ul{margin-top:0;margin-bottom:9px}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none;margin-left:-5px}.list-inline>li{display:inline-block;padding-left:5px;padding-right:5px}dl{margin-top:0;margin-bottom:18px}dd,dt{line-height:1.42857143}dt{font-weight:700}dd{margin-left:0}@media (min-width:541px){.dl-horizontal dt{float:left;width:160px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.dl-horizontal dd{margin-left:180px}}abbr[data-original-title],abbr[title]{cursor:help;border-bottom:1px dotted #777}.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:9px 18px;margin:0 0 18px;font-size:inherit;border-left:5px solid #eee}blockquote ol:last-child,blockquote p:last-child,blockquote ul:last-child{margin-bottom:0}blockquote .small,blockquote footer,blockquote small{display:block;font-size:80%;line-height:1.42857143;color:#777}blockquote .small:before,blockquote footer:before,blockquote small:before{content:'\2014 \00A0'}.blockquote-reverse,blockquote.pull-right{padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0;text-align:right}.blockquote-reverse .small:before,.blockquote-reverse footer:before,.blockquote-reverse small:before,blockquote.pull-right .small:before,blockquote.pull-right footer:before,blockquote.pull-right small:before{content:''}.blockquote-reverse .small:after,.blockquote-reverse footer:after,.blockquote-reverse small:after,blockquote.pull-right .small:after,blockquote.pull-right footer:after,blockquote.pull-right small:after{content:'\00A0 \2014'}address{margin-bottom:18px;font-style:normal;line-height:1.42857143}code,kbd,pre,samp{font-family:monospace}code{padding:2px 4px;font-size:90%;background-color:#f9f2f4;border-radius:2px}kbd{padding:2px 4px;font-size:90%;color:#fff;background-color:#333;border-radius:1px;box-shadow:inset 0 -1px 0 rgba(0,0,0,.25)}kbd kbd{padding:0;font-size:100%;font-weight:700;box-shadow:none}pre{display:block;padding:8.5px;margin:0 0 9px;word-break:break-all;word-wrap:break-word;color:#333;background-color:#f5f5f5;border:1px solid #ccc;border-radius:2px}pre code{padding:0;font-size:inherit;color:inherit;white-space:pre-wrap;background-color:transparent;border-radius:0}.pre-scrollable{max-height:340px;overflow-y:scroll}.container{margin-right:auto;margin-left:auto;padding-left:0;padding-right:0}@media (min-width:768px){.container{width:768px}}@media (min-width:992px){.container{width:940px}}@media (min-width:1200px){.container{width:1140px}}.container-fluid{margin-right:auto;margin-left:auto;padding-left:0;padding-right:0}.row{margin-left:0;margin-right:0}.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{position:relative;min-height:1px;padding-left:0;padding-right:0}.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9{float:left}.col-xs-12{width:100%}.col-xs-11{width:91.66666667%}.col-xs-10{width:83.33333333%}.col-xs-9{width:75%}.col-xs-8{width:66.66666667%}.col-xs-7{width:58.33333333%}.col-xs-6{width:50%}.col-xs-5{width:41.66666667%}.col-xs-4{width:33.33333333%}.col-xs-3{width:25%}.col-xs-2{width:16.66666667%}.col-xs-1{width:8.33333333%}.col-xs-pull-12{right:100%}.col-xs-pull-11{right:91.66666667%}.col-xs-pull-10{right:83.33333333%}.col-xs-pull-9{right:75%}.col-xs-pull-8{right:66.66666667%}.col-xs-pull-7{right:58.33333333%}.col-xs-pull-6{right:50%}.col-xs-pull-5{right:41.66666667%}.col-xs-pull-4{right:33.33333333%}.col-xs-pull-3{right:25%}.col-xs-pull-2{right:16.66666667%}.col-xs-pull-1{right:8.33333333%}.col-xs-pull-0{right:auto}.col-xs-push-12{left:100%}.col-xs-push-11{left:91.66666667%}.col-xs-push-10{left:83.33333333%}.col-xs-push-9{left:75%}.col-xs-push-8{left:66.66666667%}.col-xs-push-7{left:58.33333333%}.col-xs-push-6{left:50%}.col-xs-push-5{left:41.66666667%}.col-xs-push-4{left:33.33333333%}.col-xs-push-3{left:25%}.col-xs-push-2{left:16.66666667%}.col-xs-push-1{left:8.33333333%}.col-xs-push-0{left:auto}.col-xs-offset-12{margin-left:100%}.col-xs-offset-11{margin-left:91.66666667%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-0{margin-left:0}@media (min-width:768px){.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9{float:left}.col-sm-12{width:100%}.col-sm-11{width:91.66666667%}.col-sm-10{width:83.33333333%}.col-sm-9{width:75%}.col-sm-8{width:66.66666667%}.col-sm-7{width:58.33333333%}.col-sm-6{width:50%}.col-sm-5{width:41.66666667%}.col-sm-4{width:33.33333333%}.col-sm-3{width:25%}.col-sm-2{width:16.66666667%}.col-sm-1{width:8.33333333%}.col-sm-pull-12{right:100%}.col-sm-pull-11{right:91.66666667%}.col-sm-pull-10{right:83.33333333%}.col-sm-pull-9{right:75%}.col-sm-pull-8{right:66.66666667%}.col-sm-pull-7{right:58.33333333%}.col-sm-pull-6{right:50%}.col-sm-pull-5{right:41.66666667%}.col-sm-pull-4{right:33.33333333%}.col-sm-pull-3{right:25%}.col-sm-pull-2{right:16.66666667%}.col-sm-pull-1{right:8.33333333%}.col-sm-pull-0{right:auto}.col-sm-push-12{left:100%}.col-sm-push-11{left:91.66666667%}.col-sm-push-10{left:83.33333333%}.col-sm-push-9{left:75%}.col-sm-push-8{left:66.66666667%}.col-sm-push-7{left:58.33333333%}.col-sm-push-6{left:50%}.col-sm-push-5{left:41.66666667%}.col-sm-push-4{left:33.33333333%}.col-sm-push-3{left:25%}.col-sm-push-2{left:16.66666667%}.col-sm-push-1{left:8.33333333%}.col-sm-push-0{left:auto}.col-sm-offset-12{margin-left:100%}.col-sm-offset-11{margin-left:91.66666667%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-0{margin-left:0}}@media (min-width:992px){.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9{float:left}.col-md-12{width:100%}.col-md-11{width:91.66666667%}.col-md-10{width:83.33333333%}.col-md-9{width:75%}.col-md-8{width:66.66666667%}.col-md-7{width:58.33333333%}.col-md-6{width:50%}.col-md-5{width:41.66666667%}.col-md-4{width:33.33333333%}.col-md-3{width:25%}.col-md-2{width:16.66666667%}.col-md-1{width:8.33333333%}.col-md-pull-12{right:100%}.col-md-pull-11{right:91.66666667%}.col-md-pull-10{right:83.33333333%}.col-md-pull-9{right:75%}.col-md-pull-8{right:66.66666667%}.col-md-pull-7{right:58.33333333%}.col-md-pull-6{right:50%}.col-md-pull-5{right:41.66666667%}.col-md-pull-4{right:33.33333333%}.col-md-pull-3{right:25%}.col-md-pull-2{right:16.66666667%}.col-md-pull-1{right:8.33333333%}.col-md-pull-0{right:auto}.col-md-push-12{left:100%}.col-md-push-11{left:91.66666667%}.col-md-push-10{left:83.33333333%}.col-md-push-9{left:75%}.col-md-push-8{left:66.66666667%}.col-md-push-7{left:58.33333333%}.col-md-push-6{left:50%}.col-md-push-5{left:41.66666667%}.col-md-push-4{left:33.33333333%}.col-md-push-3{left:25%}.col-md-push-2{left:16.66666667%}.col-md-push-1{left:8.33333333%}.col-md-push-0{left:auto}.col-md-offset-12{margin-left:100%}.col-md-offset-11{margin-left:91.66666667%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-9{margin-left:75%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-6{margin-left:50%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-3{margin-left:25%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-0{margin-left:0}}@media (min-width:1200px){.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9{float:left}.col-lg-12{width:100%}.col-lg-11{width:91.66666667%}.col-lg-10{width:83.33333333%}.col-lg-9{width:75%}.col-lg-8{width:66.66666667%}.col-lg-7{width:58.33333333%}.col-lg-6{width:50%}.col-lg-5{width:41.66666667%}.col-lg-4{width:33.33333333%}.col-lg-3{width:25%}.col-lg-2{width:16.66666667%}.col-lg-1{width:8.33333333%}.col-lg-pull-12{right:100%}.col-lg-pull-11{right:91.66666667%}.col-lg-pull-10{right:83.33333333%}.col-lg-pull-9{right:75%}.col-lg-pull-8{right:66.66666667%}.col-lg-pull-7{right:58.33333333%}.col-lg-pull-6{right:50%}.col-lg-pull-5{right:41.66666667%}.col-lg-pull-4{right:33.33333333%}.col-lg-pull-3{right:25%}.col-lg-pull-2{right:16.66666667%}.col-lg-pull-1{right:8.33333333%}.col-lg-pull-0{right:auto}.col-lg-push-12{left:100%}.col-lg-push-11{left:91.66666667%}.col-lg-push-10{left:83.33333333%}.col-lg-push-9{left:75%}.col-lg-push-8{left:66.66666667%}.col-lg-push-7{left:58.33333333%}.col-lg-push-6{left:50%}.col-lg-push-5{left:41.66666667%}.col-lg-push-4{left:33.33333333%}.col-lg-push-3{left:25%}.col-lg-push-2{left:16.66666667%}.col-lg-push-1{left:8.33333333%}.col-lg-push-0{left:auto}.col-lg-offset-12{margin-left:100%}.col-lg-offset-11{margin-left:91.66666667%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-0{margin-left:0}}table{background-color:transparent}caption{padding-top:8px;padding-bottom:8px;color:#777;text-align:left}th{text-align:left}.table{width:100%;max-width:100%;margin-bottom:18px}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}.table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #ddd}.table>caption+thead>tr:first-child>td,.table>caption+thead>tr:first-child>th,.table>colgroup+thead>tr:first-child>td,.table>colgroup+thead>tr:first-child>th,.table>thead:first-child>tr:first-child>td,.table>thead:first-child>tr:first-child>th{border-top:0}.table>tbody+tbody{border-top:2px solid #ddd}.table .table{background-color:#fff}.table-condensed>tbody>tr>td,.table-condensed>tbody>tr>th,.table-condensed>tfoot>tr>td,.table-condensed>tfoot>tr>th,.table-condensed>thead>tr>td,.table-condensed>thead>tr>th{padding:5px}.table-bordered,.table-bordered>tbody>tr>td,.table-bordered>tbody>tr>th,.table-bordered>tfoot>tr>td,.table-bordered>tfoot>tr>th,.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border:1px solid #ddd}.table-bordered>thead>tr>td,.table-bordered>thead>tr>th{border-bottom-width:2px}.table-striped>tbody>tr:nth-of-type(odd){background-color:#f9f9f9}.table-hover>tbody>tr:hover{background-color:#f5f5f5}table col[class*=col-]{position:static;float:none;display:table-column}table td[class*=col-],table th[class*=col-]{position:static;float:none;display:table-cell}.table>tbody>tr.active>td,.table>tbody>tr.active>th,.table>tbody>tr>td.active,.table>tbody>tr>th.active,.table>tfoot>tr.active>td,.table>tfoot>tr.active>th,.table>tfoot>tr>td.active,.table>tfoot>tr>th.active,.table>thead>tr.active>td,.table>thead>tr.active>th,.table>thead>tr>td.active,.table>thead>tr>th.active{background-color:#f5f5f5}.table-hover>tbody>tr.active:hover>td,.table-hover>tbody>tr.active:hover>th,.table-hover>tbody>tr:hover>.active,.table-hover>tbody>tr>td.active:hover,.table-hover>tbody>tr>th.active:hover{background-color:#e8e8e8}.table>tbody>tr.success>td,.table>tbody>tr.success>th,.table>tbody>tr>td.success,.table>tbody>tr>th.success,.table>tfoot>tr.success>td,.table>tfoot>tr.success>th,.table>tfoot>tr>td.success,.table>tfoot>tr>th.success,.table>thead>tr.success>td,.table>thead>tr.success>th,.table>thead>tr>td.success,.table>thead>tr>th.success{background-color:#dff0d8}.table-hover>tbody>tr.success:hover>td,.table-hover>tbody>tr.success:hover>th,.table-hover>tbody>tr:hover>.success,.table-hover>tbody>tr>td.success:hover,.table-hover>tbody>tr>th.success:hover{background-color:#d0e9c6}.table>tbody>tr.info>td,.table>tbody>tr.info>th,.table>tbody>tr>td.info,.table>tbody>tr>th.info,.table>tfoot>tr.info>td,.table>tfoot>tr.info>th,.table>tfoot>tr>td.info,.table>tfoot>tr>th.info,.table>thead>tr.info>td,.table>thead>tr.info>th,.table>thead>tr>td.info,.table>thead>tr>th.info{background-color:#d9edf7}.table-hover>tbody>tr.info:hover>td,.table-hover>tbody>tr.info:hover>th,.table-hover>tbody>tr:hover>.info,.table-hover>tbody>tr>td.info:hover,.table-hover>tbody>tr>th.info:hover{background-color:#c4e3f3}.table>tbody>tr.warning>td,.table>tbody>tr.warning>th,.table>tbody>tr>td.warning,.table>tbody>tr>th.warning,.table>tfoot>tr.warning>td,.table>tfoot>tr.warning>th,.table>tfoot>tr>td.warning,.table>tfoot>tr>th.warning,.table>thead>tr.warning>td,.table>thead>tr.warning>th,.table>thead>tr>td.warning,.table>thead>tr>th.warning{background-color:#fcf8e3}.table-hover>tbody>tr.warning:hover>td,.table-hover>tbody>tr.warning:hover>th,.table-hover>tbody>tr:hover>.warning,.table-hover>tbody>tr>td.warning:hover,.table-hover>tbody>tr>th.warning:hover{background-color:#faf2cc}.table>tbody>tr.danger>td,.table>tbody>tr.danger>th,.table>tbody>tr>td.danger,.table>tbody>tr>th.danger,.table>tfoot>tr.danger>td,.table>tfoot>tr.danger>th,.table>tfoot>tr>td.danger,.table>tfoot>tr>th.danger,.table>thead>tr.danger>td,.table>thead>tr.danger>th,.table>thead>tr>td.danger,.table>thead>tr>th.danger{background-color:#f2dede}.table-hover>tbody>tr.danger:hover>td,.table-hover>tbody>tr.danger:hover>th,.table-hover>tbody>tr:hover>.danger,.table-hover>tbody>tr>td.danger:hover,.table-hover>tbody>tr>th.danger:hover{background-color:#ebcccc}.table-responsive{overflow-x:auto;min-height:.01%}@media screen and (max-width:767px){.table-responsive{width:100%;margin-bottom:13.5px;overflow-y:hidden;-ms-overflow-style:-ms-autohiding-scrollbar;border:1px solid #ddd}.table-responsive>.table{margin-bottom:0}.table-responsive>.table>tbody>tr>td,.table-responsive>.table>tbody>tr>th,.table-responsive>.table>tfoot>tr>td,.table-responsive>.table>tfoot>tr>th,.table-responsive>.table>thead>tr>td,.table-responsive>.table>thead>tr>th{white-space:nowrap}.table-responsive>.table-bordered{border:0}.table-responsive>.table-bordered>tbody>tr>td:first-child,.table-responsive>.table-bordered>tbody>tr>th:first-child,.table-responsive>.table-bordered>tfoot>tr>td:first-child,.table-responsive>.table-bordered>tfoot>tr>th:first-child,.table-responsive>.table-bordered>thead>tr>td:first-child,.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.table-responsive>.table-bordered>tbody>tr>td:last-child,.table-responsive>.table-bordered>tbody>tr>th:last-child,.table-responsive>.table-bordered>tfoot>tr>td:last-child,.table-responsive>.table-bordered>tfoot>tr>th:last-child,.table-responsive>.table-bordered>thead>tr>td:last-child,.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.table-responsive>.table-bordered>tbody>tr:last-child>td,.table-responsive>.table-bordered>tbody>tr:last-child>th,.table-responsive>.table-bordered>tfoot>tr:last-child>td,.table-responsive>.table-bordered>tfoot>tr:last-child>th{border-bottom:0}}fieldset{padding:0;margin:0;border:0;min-width:0}legend{display:block;width:100%;padding:0;margin-bottom:18px;font-size:19.5px;line-height:inherit;color:#333;border:0;border-bottom:1px solid #e5e5e5}label{display:inline-block;max-width:100%;margin-bottom:5px}input[type=search]{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none}input[type=checkbox],input[type=radio]{margin:4px 0 0;margin-top:1px \9;line-height:normal}input[type=file]{display:block}input[type=range]{display:block;width:100%}select[multiple],select[size]{height:auto}input[type=file]:focus,input[type=checkbox]:focus,input[type=radio]:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}output{display:block;padding-top:7px;font-size:13px;line-height:1.42857143;color:#555}.form-control{display:block;width:100%;height:32px;padding:6px 12px;font-size:13px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:2px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.form-control::-moz-placeholder{color:#999;opacity:1}.form-control:-ms-input-placeholder{color:#999}.form-control::-webkit-input-placeholder{color:#999}.form-control[disabled],.form-control[readonly],fieldset[disabled] .form-control{background-color:#eee;opacity:1}.form-control[disabled],fieldset[disabled] .form-control{cursor:not-allowed}textarea.form-control{height:auto}@media screen and (-webkit-min-device-pixel-ratio:0){input[type=date],input[type=time],input[type=datetime-local],input[type=month]{line-height:32px}.input-group-sm input[type=date],.input-group-sm input[type=time],.input-group-sm input[type=datetime-local],.input-group-sm input[type=month],input[type=date].input-sm,input[type=time].input-sm,input[type=datetime-local].input-sm,input[type=month].input-sm{line-height:30px}.input-group-lg input[type=date],.input-group-lg input[type=time],.input-group-lg input[type=datetime-local],.input-group-lg input[type=month],input[type=date].input-lg,input[type=time].input-lg,input[type=datetime-local].input-lg,input[type=month].input-lg{line-height:45px}}.form-group{margin-bottom:15px}.checkbox,.radio{position:relative;display:block;margin-top:10px;margin-bottom:10px}.checkbox label,.radio label{min-height:18px;padding-left:20px;margin-bottom:0;font-weight:400;cursor:pointer}.checkbox input[type=checkbox],.checkbox-inline input[type=checkbox],.radio input[type=radio],.radio-inline input[type=radio]{position:absolute;margin-left:-20px;margin-top:4px \9}.checkbox+.checkbox,.radio+.radio{margin-top:-5px}.checkbox-inline,.radio-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:400;cursor:pointer}.checkbox-inline+.checkbox-inline,.radio-inline+.radio-inline{margin-top:0;margin-left:10px}.checkbox-inline.disabled,.checkbox.disabled label,.radio-inline.disabled,.radio.disabled label,fieldset[disabled] .checkbox label,fieldset[disabled] .checkbox-inline,fieldset[disabled] .radio label,fieldset[disabled] .radio-inline,fieldset[disabled] input[type=checkbox],fieldset[disabled] input[type=radio],input[type=checkbox].disabled,input[type=checkbox][disabled],input[type=radio].disabled,input[type=radio][disabled]{cursor:not-allowed}.form-control-static{padding-top:7px;padding-bottom:7px;margin-bottom:0;min-height:31px}.form-control-static.input-lg,.form-control-static.input-sm{padding-left:0;padding-right:0}.input-sm{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.input-sm{height:30px;line-height:30px}select[multiple].input-sm,textarea.input-sm{height:auto}.form-group-sm .form-control{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.form-group-sm .form-control{height:30px;line-height:30px}select[multiple].form-group-sm .form-control,textarea.form-group-sm .form-control{height:auto}.form-group-sm .form-control-static{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;min-height:30px}.input-lg{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.input-lg{height:45px;line-height:45px}select[multiple].input-lg,textarea.input-lg{height:auto}.form-group-lg .form-control{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.form-group-lg .form-control{height:45px;line-height:45px}select[multiple].form-group-lg .form-control,textarea.form-group-lg .form-control{height:auto}.form-group-lg .form-control-static{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;min-height:35px}.has-feedback{position:relative}.has-feedback .form-control{padding-right:40px}.form-control-feedback{position:absolute;top:0;right:0;z-index:2;display:block;width:32px;height:32px;line-height:32px;text-align:center;pointer-events:none}.input-lg+.form-control-feedback{width:45px;height:45px;line-height:45px}.input-sm+.form-control-feedback{width:30px;height:30px;line-height:30px}.has-success .checkbox,.has-success .checkbox-inline,.has-success .control-label,.has-success .help-block,.has-success .radio,.has-success .radio-inline,.has-success.checkbox label,.has-success.checkbox-inline label,.has-success.radio label,.has-success.radio-inline label{color:#3c763d}.has-success .form-control{border-color:#3c763d;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-success .form-control:focus{border-color:#2b542c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #67b168}.has-success .input-group-addon{color:#3c763d;border-color:#3c763d;background-color:#dff0d8}.has-success .form-control-feedback{color:#3c763d}.has-warning .checkbox,.has-warning .checkbox-inline,.has-warning .control-label,.has-warning .help-block,.has-warning .radio,.has-warning .radio-inline,.has-warning.checkbox label,.has-warning.checkbox-inline label,.has-warning.radio label,.has-warning.radio-inline label{color:#8a6d3b}.has-warning .form-control{border-color:#8a6d3b;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-warning .form-control:focus{border-color:#66512c;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #c0a16b}.has-warning .input-group-addon{color:#8a6d3b;border-color:#8a6d3b;background-color:#fcf8e3}.has-warning .form-control-feedback{color:#8a6d3b}.has-error .checkbox,.has-error .checkbox-inline,.has-error .control-label,.has-error .help-block,.has-error .radio,.has-error .radio-inline,.has-error.checkbox label,.has-error.checkbox-inline label,.has-error.radio label,.has-error.radio-inline label{color:#a94442}.has-error .form-control{border-color:#a94442;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075)}.has-error .form-control:focus{border-color:#843534;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 6px #ce8483}.has-error .input-group-addon{color:#a94442;border-color:#a94442;background-color:#f2dede}.has-error .form-control-feedback{color:#a94442}.has-feedback label~.form-control-feedback{top:23px}.has-feedback label.sr-only~.form-control-feedback{top:0}.help-block{display:block;margin-top:5px;margin-bottom:10px;color:#404040}.form-horizontal .checkbox,.form-horizontal .checkbox-inline,.form-horizontal .radio,.form-horizontal .radio-inline{margin-top:0;margin-bottom:0;padding-top:7px}.form-horizontal .checkbox,.form-horizontal .radio{min-height:25px}.form-horizontal .form-group{margin-left:0;margin-right:0}.form-horizontal .has-feedback .form-control-feedback{right:0}@media (min-width:768px){.form-inline .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.form-inline .form-control{display:inline-block;width:auto;vertical-align:middle}.form-inline .form-control-static{display:inline-block}.form-inline .input-group{display:inline-table;vertical-align:middle}.form-inline .input-group .form-control,.form-inline .input-group .input-group-addon,.form-inline .input-group .input-group-btn{width:auto}.form-inline .input-group>.form-control{width:100%}.form-inline .control-label{margin-bottom:0;vertical-align:middle}.form-inline .checkbox,.form-inline .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.form-inline .checkbox label,.form-inline .radio label{padding-left:0}.form-inline .checkbox input[type=checkbox],.form-inline .radio input[type=radio]{position:relative;margin-left:0}.form-inline .has-feedback .form-control-feedback{top:0}.form-horizontal .control-label{text-align:right;margin-bottom:0;padding-top:7px}.form-horizontal .form-group-lg .control-label{padding-top:14.33px}.form-horizontal .form-group-sm .control-label{padding-top:6px}}.btn{display:inline-block;margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;touch-action:manipulation;cursor:pointer;background-image:none;border:1px solid transparent;white-space:nowrap;padding:6px 12px;font-size:13px;line-height:1.42857143;border-radius:2px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.btn.active.focus,.btn.active:focus,.btn.focus,.btn:active.focus,.btn:active:focus,.btn:focus{outline:dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.btn.focus,.btn:focus,.btn:hover{color:#333;text-decoration:none}.btn.active,.btn:active{outline:0;background-image:none;-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn.disabled,.btn[disabled],fieldset[disabled] .btn{cursor:not-allowed;pointer-events:none;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;box-shadow:none}.btn-default{color:#333;background-color:#fff;border-color:#ccc}.btn-default.active,.btn-default.focus,.btn-default:active,.btn-default:focus,.btn-default:hover,.open>.dropdown-toggle.btn-default{color:#333;background-color:#e6e6e6;border-color:#adadad}.btn-default.active,.btn-default:active,.open>.dropdown-toggle.btn-default{background-image:none}.btn-default.disabled,.btn-default.disabled.active,.btn-default.disabled.focus,.btn-default.disabled:active,.btn-default.disabled:focus,.btn-default.disabled:hover,.btn-default[disabled],.btn-default[disabled].active,.btn-default[disabled].focus,.btn-default[disabled]:active,.btn-default[disabled]:focus,.btn-default[disabled]:hover,fieldset[disabled] .btn-default,fieldset[disabled] .btn-default.active,fieldset[disabled] .btn-default.focus,fieldset[disabled] .btn-default:active,fieldset[disabled] .btn-default:focus,fieldset[disabled] .btn-default:hover{background-color:#fff;border-color:#ccc}.btn-default .badge{color:#fff;background-color:#333}.btn-primary{color:#fff;background-color:#337ab7;border-color:#2e6da4}.btn-primary.active,.btn-primary.focus,.btn-primary:active,.btn-primary:focus,.btn-primary:hover,.open>.dropdown-toggle.btn-primary{color:#fff;background-color:#286090;border-color:#204d74}.btn-primary.active,.btn-primary:active,.open>.dropdown-toggle.btn-primary{background-image:none}.btn-primary.disabled,.btn-primary.disabled.active,.btn-primary.disabled.focus,.btn-primary.disabled:active,.btn-primary.disabled:focus,.btn-primary.disabled:hover,.btn-primary[disabled],.btn-primary[disabled].active,.btn-primary[disabled].focus,.btn-primary[disabled]:active,.btn-primary[disabled]:focus,.btn-primary[disabled]:hover,fieldset[disabled] .btn-primary,fieldset[disabled] .btn-primary.active,fieldset[disabled] .btn-primary.focus,fieldset[disabled] .btn-primary:active,fieldset[disabled] .btn-primary:focus,fieldset[disabled] .btn-primary:hover{background-color:#337ab7;border-color:#2e6da4}.btn-primary .badge{color:#337ab7;background-color:#fff}.btn-success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.btn-success.active,.btn-success.focus,.btn-success:active,.btn-success:focus,.btn-success:hover,.open>.dropdown-toggle.btn-success{color:#fff;background-color:#449d44;border-color:#398439}.btn-success.active,.btn-success:active,.open>.dropdown-toggle.btn-success{background-image:none}.btn-success.disabled,.btn-success.disabled.active,.btn-success.disabled.focus,.btn-success.disabled:active,.btn-success.disabled:focus,.btn-success.disabled:hover,.btn-success[disabled],.btn-success[disabled].active,.btn-success[disabled].focus,.btn-success[disabled]:active,.btn-success[disabled]:focus,.btn-success[disabled]:hover,fieldset[disabled] .btn-success,fieldset[disabled] .btn-success.active,fieldset[disabled] .btn-success.focus,fieldset[disabled] .btn-success:active,fieldset[disabled] .btn-success:focus,fieldset[disabled] .btn-success:hover{background-color:#5cb85c;border-color:#4cae4c}.btn-success .badge{color:#5cb85c;background-color:#fff}.btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.btn-info.active,.btn-info.focus,.btn-info:active,.btn-info:focus,.btn-info:hover,.open>.dropdown-toggle.btn-info{color:#fff;background-color:#31b0d5;border-color:#269abc}.btn-info.active,.btn-info:active,.open>.dropdown-toggle.btn-info{background-image:none}.btn-info.disabled,.btn-info.disabled.active,.btn-info.disabled.focus,.btn-info.disabled:active,.btn-info.disabled:focus,.btn-info.disabled:hover,.btn-info[disabled],.btn-info[disabled].active,.btn-info[disabled].focus,.btn-info[disabled]:active,.btn-info[disabled]:focus,.btn-info[disabled]:hover,fieldset[disabled] .btn-info,fieldset[disabled] .btn-info.active,fieldset[disabled] .btn-info.focus,fieldset[disabled] .btn-info:active,fieldset[disabled] .btn-info:focus,fieldset[disabled] .btn-info:hover{background-color:#5bc0de;border-color:#46b8da}.btn-info .badge{color:#5bc0de;background-color:#fff}.btn-warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.btn-warning.active,.btn-warning.focus,.btn-warning:active,.btn-warning:focus,.btn-warning:hover,.open>.dropdown-toggle.btn-warning{color:#fff;background-color:#ec971f;border-color:#d58512}.btn-warning.active,.btn-warning:active,.open>.dropdown-toggle.btn-warning{background-image:none}.btn-warning.disabled,.btn-warning.disabled.active,.btn-warning.disabled.focus,.btn-warning.disabled:active,.btn-warning.disabled:focus,.btn-warning.disabled:hover,.btn-warning[disabled],.btn-warning[disabled].active,.btn-warning[disabled].focus,.btn-warning[disabled]:active,.btn-warning[disabled]:focus,.btn-warning[disabled]:hover,fieldset[disabled] .btn-warning,fieldset[disabled] .btn-warning.active,fieldset[disabled] .btn-warning.focus,fieldset[disabled] .btn-warning:active,fieldset[disabled] .btn-warning:focus,fieldset[disabled] .btn-warning:hover{background-color:#f0ad4e;border-color:#eea236}.btn-warning .badge{color:#f0ad4e;background-color:#fff}.btn-danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.btn-danger.active,.btn-danger.focus,.btn-danger:active,.btn-danger:focus,.btn-danger:hover,.open>.dropdown-toggle.btn-danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.btn-danger.active,.btn-danger:active,.open>.dropdown-toggle.btn-danger{background-image:none}.btn-danger.disabled,.btn-danger.disabled.active,.btn-danger.disabled.focus,.btn-danger.disabled:active,.btn-danger.disabled:focus,.btn-danger.disabled:hover,.btn-danger[disabled],.btn-danger[disabled].active,.btn-danger[disabled].focus,.btn-danger[disabled]:active,.btn-danger[disabled]:focus,.btn-danger[disabled]:hover,fieldset[disabled] .btn-danger,fieldset[disabled] .btn-danger.active,fieldset[disabled] .btn-danger.focus,fieldset[disabled] .btn-danger:active,fieldset[disabled] .btn-danger:focus,fieldset[disabled] .btn-danger:hover{background-color:#d9534f;border-color:#d43f3a}.btn-danger .badge{color:#d9534f;background-color:#fff}.btn-link{color:#337ab7;font-weight:400;border-radius:0}.btn-link,.btn-link.active,.btn-link:active,.btn-link[disabled],fieldset[disabled] .btn-link{background-color:transparent;-webkit-box-shadow:none;box-shadow:none}.btn-link,.btn-link:active,.btn-link:focus,.btn-link:hover{border-color:transparent}.btn-link:focus,.btn-link:hover{color:#23527c;text-decoration:underline;background-color:transparent}.btn-link[disabled]:focus,.btn-link[disabled]:hover,fieldset[disabled] .btn-link:focus,fieldset[disabled] .btn-link:hover{color:#777;text-decoration:none}.btn-group-lg>.btn,.btn-lg{padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}.btn-group-sm>.btn,.btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}.btn-group-xs>.btn,.btn-xs{padding:1px 5px;font-size:12px;line-height:1.5;border-radius:1px}.btn-block{display:block;width:100%}.btn-block+.btn-block{margin-top:5px}input[type=button].btn-block,input[type=reset].btn-block,input[type=submit].btn-block{width:100%}.fade{opacity:0;-webkit-transition:opacity .15s linear;-o-transition:opacity .15s linear;transition:opacity .15s linear}.fade.in{opacity:1}.collapse{display:none}.collapse.in{display:block}tr.collapse.in{display:table-row}tbody.collapse.in{display:table-row-group}.collapsing{position:relative;height:0;overflow:hidden;-webkit-transition-property:height,visibility;transition-property:height,visibility;-webkit-transition-duration:.35s;transition-duration:.35s;-webkit-transition-timing-function:ease;transition-timing-function:ease}.caret{display:inline-block;width:0;height:0;margin-left:2px;vertical-align:middle;border-top:4px dashed;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown,.dropup{position:relative}.dropdown-toggle:focus{outline:0}.dropdown-menu{position:absolute;top:100%;left:0;z-index:1000;display:none;float:left;min-width:160px;padding:5px 0;margin:2px 0 0;list-style:none;font-size:13px;text-align:left;background-color:#fff;border:1px solid #ccc;border:1px solid rgba(0,0,0,.15);border-radius:2px;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175);background-clip:padding-box}.dropdown-menu.pull-right{right:0;left:auto}.dropdown-menu .divider{height:1px;margin:8px 0;overflow:hidden;background-color:#e5e5e5}.dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#333;white-space:nowrap}.dropdown-menu>li>a:focus,.dropdown-menu>li>a:hover{text-decoration:none;color:#262626;background-color:#f5f5f5}.dropdown-menu>.active>a,.dropdown-menu>.active>a:focus,.dropdown-menu>.active>a:hover{color:#fff;text-decoration:none;outline:0;background-color:#337ab7}.dropdown-menu>.disabled>a,.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{color:#777}.dropdown-menu>.disabled>a:focus,.dropdown-menu>.disabled>a:hover{text-decoration:none;background-color:transparent;background-image:none;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);cursor:not-allowed}.open>.dropdown-menu{display:block}.open>a{outline:0}.dropdown-menu-right{left:auto;right:0}.dropdown-menu-left{left:0;right:auto}.dropdown-header{display:block;padding:3px 20px;font-size:12px;line-height:1.42857143;color:#777;white-space:nowrap}.dropdown-backdrop{position:fixed;left:0;right:0;bottom:0;top:0;z-index:990}.pull-right>.dropdown-menu{right:0;left:auto}.dropup .caret,.navbar-fixed-bottom .dropdown .caret{border-top:0;border-bottom:4px solid;content:""}.dropup .dropdown-menu,.navbar-fixed-bottom .dropdown .dropdown-menu{top:auto;bottom:100%;margin-bottom:2px}@media (min-width:541px){.navbar-right .dropdown-menu{left:auto;right:0}.navbar-right .dropdown-menu-left{left:0;right:auto}}.btn-group,.btn-group-vertical{position:relative;display:inline-block;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;float:left}.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:2}.btn-group .btn+.btn,.btn-group .btn+.btn-group,.btn-group .btn-group+.btn,.btn-group .btn-group+.btn-group{margin-left:-1px}.btn-toolbar{margin-left:-5px}.btn-toolbar .btn-group,.btn-toolbar .input-group{float:left}.btn-toolbar>.btn,.btn-toolbar>.btn-group,.btn-toolbar>.input-group{margin-left:5px}.btn-group>.btn:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.btn-group>.btn:first-child{margin-left:0}.btn-group>.btn:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.btn-group>.btn:last-child:not(:first-child),.btn-group>.dropdown-toggle:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0}.btn-group>.btn-group{float:left}.btn-group>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-top-right-radius:0}.btn-group>.btn-group:last-child:not(:first-child)>.btn:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.btn-group .dropdown-toggle:active,.btn-group.open .dropdown-toggle{outline:0}.btn-group>.btn+.dropdown-toggle{padding-left:8px;padding-right:8px}.btn-group>.btn-lg+.dropdown-toggle{padding-left:12px;padding-right:12px}.btn-group.open .dropdown-toggle{-webkit-box-shadow:inset 0 3px 5px rgba(0,0,0,.125);box-shadow:inset 0 3px 5px rgba(0,0,0,.125)}.btn-group.open .dropdown-toggle.btn-link{-webkit-box-shadow:none;box-shadow:none}.btn .caret{margin-left:0}.btn-lg .caret{border-width:5px 5px 0}.dropup .btn-lg .caret{border-width:0 5px 5px}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group,.btn-group-vertical>.btn-group>.btn{display:block;float:none;width:100%;max-width:100%}.btn-group-vertical>.btn-group>.btn{float:none}.btn-group-vertical>.btn+.btn,.btn-group-vertical>.btn+.btn-group,.btn-group-vertical>.btn-group+.btn,.btn-group-vertical>.btn-group+.btn-group{margin-top:-1px;margin-left:0}.btn-group-vertical>.btn:not(:first-child):not(:last-child){border-radius:0}.btn-group-vertical>.btn:first-child:not(:last-child){border-top-right-radius:2px;border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn:last-child:not(:first-child){border-bottom-left-radius:2px;border-top-right-radius:0;border-top-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child):not(:last-child)>.btn{border-radius:0}.btn-group-vertical>.btn-group:first-child:not(:last-child)>.btn:last-child,.btn-group-vertical>.btn-group:first-child:not(:last-child)>.dropdown-toggle{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:last-child:not(:first-child)>.btn:first-child{border-top-right-radius:0;border-top-left-radius:0}.btn-group-justified{display:table;width:100%;table-layout:fixed;border-collapse:separate}.btn-group-justified>.btn,.btn-group-justified>.btn-group{float:none;display:table-cell;width:1%}.btn-group-justified>.btn-group .btn{width:100%}.btn-group-justified>.btn-group .dropdown-menu{left:auto}[data-toggle=buttons]>.btn input[type=checkbox],[data-toggle=buttons]>.btn input[type=radio],[data-toggle=buttons]>.btn-group>.btn input[type=checkbox],[data-toggle=buttons]>.btn-group>.btn input[type=radio]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.input-group{position:relative;display:table;border-collapse:separate}.input-group[class*=col-]{float:none;padding-left:0;padding-right:0}.input-group .form-control{position:relative;z-index:2;float:left;width:100%;margin-bottom:0}.input-group-lg>.form-control,.input-group-lg>.input-group-addon,.input-group-lg>.input-group-btn>.btn{height:45px;padding:10px 16px;font-size:17px;line-height:1.3333333;border-radius:3px}select.input-group-lg>.form-control,select.input-group-lg>.input-group-addon,select.input-group-lg>.input-group-btn>.btn{height:45px;line-height:45px}select[multiple].input-group-lg>.form-control,select[multiple].input-group-lg>.input-group-addon,select[multiple].input-group-lg>.input-group-btn>.btn,textarea.input-group-lg>.form-control,textarea.input-group-lg>.input-group-addon,textarea.input-group-lg>.input-group-btn>.btn{height:auto}.input-group-sm>.form-control,.input-group-sm>.input-group-addon,.input-group-sm>.input-group-btn>.btn{height:30px;padding:5px 10px;font-size:12px;line-height:1.5;border-radius:1px}select.input-group-sm>.form-control,select.input-group-sm>.input-group-addon,select.input-group-sm>.input-group-btn>.btn{height:30px;line-height:30px}select[multiple].input-group-sm>.form-control,select[multiple].input-group-sm>.input-group-addon,select[multiple].input-group-sm>.input-group-btn>.btn,textarea.input-group-sm>.form-control,textarea.input-group-sm>.input-group-addon,textarea.input-group-sm>.input-group-btn>.btn{height:auto}.input-group .form-control,.input-group-addon,.input-group-btn{display:table-cell}.input-group .form-control:not(:first-child):not(:last-child),.input-group-addon:not(:first-child):not(:last-child),.input-group-btn:not(:first-child):not(:last-child){border-radius:0}.input-group-addon,.input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.input-group-addon{padding:6px 12px;font-size:13px;font-weight:400;line-height:1;color:#555;text-align:center;background-color:#eee;border:1px solid #ccc;border-radius:2px}.input-group-addon.input-sm{padding:5px 10px;font-size:12px;border-radius:1px}.input-group-addon.input-lg{padding:10px 16px;font-size:17px;border-radius:3px}.input-group-addon input[type=checkbox],.input-group-addon input[type=radio]{margin-top:0}.input-group .form-control:first-child,.input-group-addon:first-child,.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group>.btn,.input-group-btn:first-child>.dropdown-toggle,.input-group-btn:last-child>.btn-group:not(:last-child)>.btn,.input-group-btn:last-child>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.input-group-addon:first-child{border-right:0}.input-group .form-control:last-child,.input-group-addon:last-child,.input-group-btn:first-child>.btn-group:not(:first-child)>.btn,.input-group-btn:first-child>.btn:not(:first-child),.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group>.btn,.input-group-btn:last-child>.dropdown-toggle{border-bottom-left-radius:0;border-top-left-radius:0}.input-group-addon:last-child{border-left:0}.input-group-btn{position:relative;font-size:0;white-space:nowrap}.input-group-btn>.btn{position:relative}.input-group-btn>.btn+.btn{margin-left:-1px}.input-group-btn>.btn:active,.input-group-btn>.btn:focus,.input-group-btn>.btn:hover{z-index:2}.input-group-btn:first-child>.btn,.input-group-btn:first-child>.btn-group{margin-right:-1px}.input-group-btn:last-child>.btn,.input-group-btn:last-child>.btn-group{margin-left:-1px}.nav{margin-bottom:0;padding-left:0;list-style:none}.nav>li{position:relative;display:block}.nav>li>a{position:relative;display:block;padding:10px 15px}.nav>li>a:focus,.nav>li>a:hover{text-decoration:none;background-color:#eee}.nav>li.disabled>a{color:#777}.nav>li.disabled>a:focus,.nav>li.disabled>a:hover{color:#777;text-decoration:none;background-color:transparent;cursor:not-allowed}.nav .open>a,.nav .open>a:focus,.nav .open>a:hover{background-color:#eee;border-color:#337ab7}.nav .nav-divider{height:1px;margin:8px 0;overflow:hidden;background-color:#e5e5e5}.nav>li>a>img{max-width:none}.nav-tabs{border-bottom:1px solid #ddd}.nav-tabs>li{float:left;margin-bottom:-1px}.nav-tabs>li>a{margin-right:2px;line-height:1.42857143;border:1px solid transparent;border-radius:2px 2px 0 0}.nav-tabs>li>a:hover{border-color:#eee #eee #ddd}.nav-tabs>li.active>a,.nav-tabs>li.active>a:focus,.nav-tabs>li.active>a:hover{color:#555;background-color:#fff;border:1px solid #ddd;border-bottom-color:transparent;cursor:default}.nav-tabs.nav-justified{width:100%;border-bottom:0}.nav-tabs.nav-justified>li{float:none}.nav-tabs.nav-justified>li>a{text-align:center;margin-bottom:5px;margin-right:0;border-radius:2px}.nav-tabs.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-tabs.nav-justified>li{display:table-cell;width:1%}.nav-tabs.nav-justified>li>a{margin-bottom:0;border-bottom:1px solid #ddd;border-radius:2px 2px 0 0}.nav-tabs.nav-justified>.active>a,.nav-tabs.nav-justified>.active>a:focus,.nav-tabs.nav-justified>.active>a:hover{border-bottom-color:#fff}}.nav-pills>li{float:left}.nav-pills>li>a{border-radius:2px}.nav-pills>li+li{margin-left:2px}.nav-pills>li.active>a,.nav-pills>li.active>a:focus,.nav-pills>li.active>a:hover{color:#fff;background-color:#337ab7}.nav-stacked>li{float:none}.nav-stacked>li+li{margin-top:2px;margin-left:0}.nav-justified{width:100%}.nav-justified>li{float:none}.nav-justified>li>a{text-align:center;margin-bottom:5px}.nav-justified>.dropdown .dropdown-menu{top:auto;left:auto}.nav-tabs-justified{border-bottom:0}.nav-tabs-justified>li>a{margin-right:0;border-radius:2px}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border:1px solid #ddd}@media (min-width:768px){.nav-justified>li{display:table-cell;width:1%}.nav-justified>li>a{margin-bottom:0}.nav-tabs-justified>li>a{border-bottom:1px solid #ddd;border-radius:2px 2px 0 0}.nav-tabs-justified>.active>a,.nav-tabs-justified>.active>a:focus,.nav-tabs-justified>.active>a:hover{border-bottom-color:#fff}}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.nav-tabs .dropdown-menu{margin-top:-1px;border-top-right-radius:0;border-top-left-radius:0}.navbar{position:relative;min-height:30px;margin-bottom:18px;border:1px solid transparent}.navbar-collapse{overflow-x:visible;padding-right:0;padding-left:0;border-top:1px solid transparent;box-shadow:inset 0 1px 0 rgba(255,255,255,.1);-webkit-overflow-scrolling:touch}.navbar-collapse.in{overflow-y:auto}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:340px}@media (max-device-width:540px)and (orientation:landscape){.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse{max-height:200px}}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-static-top{z-index:1000;border-width:0 0 1px}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030}@media (min-width:541px){.navbar{border-radius:2px}.navbar-header{float:left}.navbar-collapse{width:auto;border-top:0;box-shadow:none}.navbar-collapse.collapse{display:block!important;height:auto!important;padding-bottom:0;overflow:visible!important}.navbar-collapse.in{overflow-y:visible}.navbar-fixed-bottom .navbar-collapse,.navbar-fixed-top .navbar-collapse,.navbar-static-top .navbar-collapse{padding-left:0;padding-right:0}.container-fluid>.navbar-collapse,.container-fluid>.navbar-header,.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-fixed-bottom,.navbar-fixed-top,.navbar-static-top{border-radius:0}}.navbar-fixed-top{top:0;border-width:0 0 1px}.navbar-fixed-bottom{bottom:0;margin-bottom:0;border-width:1px 0 0}.navbar-brand{float:left;padding:6px 0;font-size:17px;line-height:18px;height:30px}.navbar-brand:focus,.navbar-brand:hover{text-decoration:none}.navbar-brand>img{display:block}.navbar-toggle{position:relative;float:right;margin-right:0;padding:9px 10px;margin-top:-2px;margin-bottom:-2px;background-color:transparent;background-image:none;border:1px solid transparent;border-radius:2px}.navbar-toggle:focus{outline:0}.navbar-toggle .icon-bar{display:block;width:22px;height:2px;border-radius:1px}.navbar-toggle .icon-bar+.icon-bar{margin-top:4px}@media (min-width:541px){.navbar>.container .navbar-brand,.navbar>.container-fluid .navbar-brand{margin-left:0}.navbar-toggle{display:none}}.navbar-nav{margin:3px 0}.navbar-nav>li>a{padding-top:10px;padding-bottom:10px;line-height:18px}@media (max-width:540px){.navbar-nav .open .dropdown-menu{position:static;float:none;width:auto;margin-top:0;background-color:transparent;border:0;box-shadow:none}.navbar-nav .open .dropdown-menu .dropdown-header,.navbar-nav .open .dropdown-menu>li>a{padding:5px 15px 5px 25px}.navbar-nav .open .dropdown-menu>li>a{line-height:18px}.navbar-nav .open .dropdown-menu>li>a:focus,.navbar-nav .open .dropdown-menu>li>a:hover{background-image:none}}@media (min-width:541px){.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:6px;padding-bottom:6px}}.navbar-form{padding:10px 0;border-top:1px solid transparent;border-bottom:1px solid transparent;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.1);margin:-1px 0}@media (min-width:768px){.navbar-form .form-group{display:inline-block;margin-bottom:0;vertical-align:middle}.navbar-form .form-control{display:inline-block;width:auto;vertical-align:middle}.navbar-form .form-control-static{display:inline-block}.navbar-form .input-group{display:inline-table;vertical-align:middle}.navbar-form .input-group .form-control,.navbar-form .input-group .input-group-addon,.navbar-form .input-group .input-group-btn{width:auto}.navbar-form .input-group>.form-control{width:100%}.navbar-form .control-label{margin-bottom:0;vertical-align:middle}.navbar-form .checkbox,.navbar-form .radio{display:inline-block;margin-top:0;margin-bottom:0;vertical-align:middle}.navbar-form .checkbox label,.navbar-form .radio label{padding-left:0}.navbar-form .checkbox input[type=checkbox],.navbar-form .radio input[type=radio]{position:relative;margin-left:0}.navbar-form .has-feedback .form-control-feedback{top:0}}@media (max-width:540px){.navbar-form .form-group{margin-bottom:5px}.navbar-form .form-group:last-child{margin-bottom:0}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-right-radius:0;border-top-left-radius:0}.navbar-fixed-bottom .navbar-nav>li>.dropdown-menu{margin-bottom:0;border-radius:2px 2px 0 0}.navbar-btn{margin-top:-1px;margin-bottom:-1px}.navbar-btn.btn-sm{margin-top:0;margin-bottom:0}.navbar-btn.btn-xs{margin-top:4px;margin-bottom:4px}.navbar-text{margin-top:6px;margin-bottom:6px}@media (min-width:541px){.navbar-form{width:auto;border:0;margin-left:0;margin-right:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:none;box-shadow:none}.navbar-text{float:left;margin-left:0;margin-right:0}.navbar-left{float:left!important;float:left}.navbar-right{float:right!important;float:right;margin-right:0}.navbar-right~.navbar-right{margin-right:0}}.navbar-default{background-color:#f8f8f8;border-color:#e7e7e7}.navbar-default .navbar-brand{color:#777}.navbar-default .navbar-brand:focus,.navbar-default .navbar-brand:hover{color:#5e5e5e;background-color:transparent}.navbar-default .navbar-nav>li>a,.navbar-default .navbar-text{color:#777}.navbar-default .navbar-nav>li>a:focus,.navbar-default .navbar-nav>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav>.active>a,.navbar-default .navbar-nav>.active>a:focus,.navbar-default .navbar-nav>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav>.disabled>a,.navbar-default .navbar-nav>.disabled>a:focus,.navbar-default .navbar-nav>.disabled>a:hover{color:#ccc;background-color:transparent}.navbar-default .navbar-toggle{border-color:#ddd}.navbar-default .navbar-toggle:focus,.navbar-default .navbar-toggle:hover{background-color:#ddd}.navbar-default .navbar-toggle .icon-bar{background-color:#888}.navbar-default .navbar-collapse,.navbar-default .navbar-form{border-color:#e7e7e7}.navbar-default .navbar-nav>.open>a,.navbar-default .navbar-nav>.open>a:focus,.navbar-default .navbar-nav>.open>a:hover{background-color:#e7e7e7;color:#555}@media (max-width:540px){.navbar-default .navbar-nav .open .dropdown-menu>li>a{color:#777}.navbar-default .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>li>a:hover{color:#333;background-color:transparent}.navbar-default .navbar-nav .open .dropdown-menu>.active>a,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.active>a:hover{color:#555;background-color:#e7e7e7}.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-default .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#ccc;background-color:transparent}}.navbar-default .navbar-link{color:#777}.navbar-default .navbar-link:hover{color:#333}.navbar-default .btn-link{color:#777}.navbar-default .btn-link:focus,.navbar-default .btn-link:hover{color:#333}.navbar-default .btn-link[disabled]:focus,.navbar-default .btn-link[disabled]:hover,fieldset[disabled] .navbar-default .btn-link:focus,fieldset[disabled] .navbar-default .btn-link:hover{color:#ccc}.navbar-inverse{background-color:#222;border-color:#080808}.navbar-inverse .navbar-brand{color:#9d9d9d}.navbar-inverse .navbar-brand:focus,.navbar-inverse .navbar-brand:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>li>a,.navbar-inverse .navbar-text{color:#9d9d9d}.navbar-inverse .navbar-nav>li>a:focus,.navbar-inverse .navbar-nav>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav>.active>a,.navbar-inverse .navbar-nav>.active>a:focus,.navbar-inverse .navbar-nav>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav>.disabled>a,.navbar-inverse .navbar-nav>.disabled>a:focus,.navbar-inverse .navbar-nav>.disabled>a:hover{color:#444;background-color:transparent}.navbar-inverse .navbar-toggle{border-color:#333}.navbar-inverse .navbar-toggle:focus,.navbar-inverse .navbar-toggle:hover{background-color:#333}.navbar-inverse .navbar-toggle .icon-bar{background-color:#fff}.navbar-inverse .navbar-collapse,.navbar-inverse .navbar-form{border-color:#101010}.navbar-inverse .navbar-nav>.open>a,.navbar-inverse .navbar-nav>.open>a:focus,.navbar-inverse .navbar-nav>.open>a:hover{background-color:#080808;color:#fff}@media (max-width:540px){.navbar-inverse .navbar-nav .open .dropdown-menu>.dropdown-header{border-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu .divider{background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a{color:#9d9d9d}.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>li>a:hover{color:#fff;background-color:transparent}.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.active>a:hover{color:#fff;background-color:#080808}.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:focus,.navbar-inverse .navbar-nav .open .dropdown-menu>.disabled>a:hover{color:#444;background-color:transparent}}.navbar-inverse .navbar-link{color:#9d9d9d}.navbar-inverse .navbar-link:hover{color:#fff}.navbar-inverse .btn-link{color:#9d9d9d}.navbar-inverse .btn-link:focus,.navbar-inverse .btn-link:hover{color:#fff}.navbar-inverse .btn-link[disabled]:focus,.navbar-inverse .btn-link[disabled]:hover,fieldset[disabled] .navbar-inverse .btn-link:focus,fieldset[disabled] .navbar-inverse .btn-link:hover{color:#444}.breadcrumb{padding:8px 15px;margin-bottom:18px;list-style:none;background-color:#f5f5f5;border-radius:2px}.breadcrumb>li{display:inline-block}.breadcrumb>li+li:before{content:"/\00a0";padding:0 5px;color:#5e5e5e}.breadcrumb>.active{color:#777}.pagination{display:inline-block;padding-left:0;margin:18px 0;border-radius:2px}.pagination>li{display:inline}.pagination>li>a,.pagination>li>span{position:relative;float:left;padding:6px 12px;line-height:1.42857143;text-decoration:none;color:#337ab7;background-color:#fff;border:1px solid #ddd;margin-left:-1px}.pagination>li:first-child>a,.pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:2px;border-top-left-radius:2px}.pagination>li:last-child>a,.pagination>li:last-child>span{border-bottom-right-radius:2px;border-top-right-radius:2px}.pagination>li>a:focus,.pagination>li>a:hover,.pagination>li>span:focus,.pagination>li>span:hover{color:#23527c;background-color:#eee;border-color:#ddd}.pagination>.active>a,.pagination>.active>a:focus,.pagination>.active>a:hover,.pagination>.active>span,.pagination>.active>span:focus,.pagination>.active>span:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7;cursor:default}.pagination>.disabled>a,.pagination>.disabled>a:focus,.pagination>.disabled>a:hover,.pagination>.disabled>span,.pagination>.disabled>span:focus,.pagination>.disabled>span:hover{color:#777;background-color:#fff;border-color:#ddd;cursor:not-allowed}.pagination-lg>li>a,.pagination-lg>li>span{padding:10px 16px;font-size:17px}.pagination-lg>li:first-child>a,.pagination-lg>li:first-child>span{border-bottom-left-radius:3px;border-top-left-radius:3px}.pagination-lg>li:last-child>a,.pagination-lg>li:last-child>span{border-bottom-right-radius:3px;border-top-right-radius:3px}.pagination-sm>li>a,.pagination-sm>li>span{padding:5px 10px;font-size:12px}.pagination-sm>li:first-child>a,.pagination-sm>li:first-child>span{border-bottom-left-radius:1px;border-top-left-radius:1px}.pagination-sm>li:last-child>a,.pagination-sm>li:last-child>span{border-bottom-right-radius:1px;border-top-right-radius:1px}.pager{padding-left:0;margin:18px 0;list-style:none;text-align:center}.pager li{display:inline}.pager li>a,.pager li>span{display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid #ddd;border-radius:15px}.pager li>a:focus,.pager li>a:hover{text-decoration:none;background-color:#eee}.pager .next>a,.pager .next>span{float:right}.pager .previous>a,.pager .previous>span{float:left}.pager .disabled>a,.pager .disabled>a:focus,.pager .disabled>a:hover,.pager .disabled>span{color:#777;background-color:#fff;cursor:not-allowed}.label{display:inline;padding:.2em .6em .3em;font-size:75%;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25em}a.label:focus,a.label:hover{color:#fff;text-decoration:none;cursor:pointer}.label:empty{display:none}.btn .label{position:relative;top:-1px}.label-default{background-color:#777}.label-default[href]:focus,.label-default[href]:hover{background-color:#5e5e5e}.label-primary{background-color:#337ab7}.label-primary[href]:focus,.label-primary[href]:hover{background-color:#286090}.label-success{background-color:#5cb85c}.label-success[href]:focus,.label-success[href]:hover{background-color:#449d44}.label-info{background-color:#5bc0de}.label-info[href]:focus,.label-info[href]:hover{background-color:#31b0d5}.label-warning{background-color:#f0ad4e}.label-warning[href]:focus,.label-warning[href]:hover{background-color:#ec971f}.label-danger{background-color:#d9534f}.label-danger[href]:focus,.label-danger[href]:hover{background-color:#c9302c}.badge{display:inline-block;min-width:10px;padding:3px 7px;font-size:12px;font-weight:700;color:#fff;line-height:1;vertical-align:baseline;white-space:nowrap;text-align:center;background-color:#777;border-radius:10px}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.btn-group-xs>.btn .badge,.btn-xs .badge{top:0;padding:1px 5px}a.badge:focus,a.badge:hover{color:#fff;text-decoration:none;cursor:pointer}.list-group-item.active>.badge,.nav-pills>.active>a>.badge{color:#337ab7;background-color:#fff}.list-group-item>.badge{float:right}.list-group-item>.badge+.badge{margin-right:5px}.nav-pills>li>a>.badge{margin-left:3px}.jumbotron{padding:30px 15px;margin-bottom:30px;color:inherit;background-color:#eee}.jumbotron .h1,.jumbotron h1{color:inherit}.jumbotron p{margin-bottom:15px;font-size:20px;font-weight:200}.jumbotron>hr{border-top-color:#d5d5d5}.container .jumbotron,.container-fluid .jumbotron{border-radius:3px}.jumbotron .container{max-width:100%}@media screen and (min-width:768px){.jumbotron{padding:48px 0}.container .jumbotron,.container-fluid .jumbotron{padding-left:60px;padding-right:60px}.jumbotron .h1,.jumbotron h1{font-size:58.5px}}.thumbnail{display:block;padding:4px;margin-bottom:18px;line-height:1.42857143;background-color:#fff;border:1px solid #ddd;border-radius:2px;-webkit-transition:border .2s ease-in-out;-o-transition:border .2s ease-in-out;transition:border .2s ease-in-out}.thumbnail a>img,.thumbnail>img{margin-left:auto;margin-right:auto}a.thumbnail.active,a.thumbnail:focus,a.thumbnail:hover{border-color:#337ab7}.thumbnail .caption{padding:9px;color:#000}.alert{padding:15px;margin-bottom:18px;border:1px solid transparent;border-radius:2px}.alert h4{margin-top:0;color:inherit}.alert .alert-link{font-weight:700}.alert>p,.alert>ul{margin-bottom:0}.alert>p+p{margin-top:5px}.alert-dismissable,.alert-dismissible{padding-right:35px}.alert-dismissable .close,.alert-dismissible .close{position:relative;top:-2px;right:-21px;color:inherit}.alert-success{background-color:#dff0d8;border-color:#d6e9c6;color:#3c763d}.alert-success hr{border-top-color:#c9e2b3}.alert-success .alert-link{color:#2b542c}.alert-info{background-color:#d9edf7;border-color:#bce8f1;color:#31708f}.alert-info hr{border-top-color:#a6e1ec}.alert-info .alert-link{color:#245269}.alert-warning{background-color:#fcf8e3;border-color:#faebcc;color:#8a6d3b}.alert-warning hr{border-top-color:#f7e1b5}.alert-warning .alert-link{color:#66512c}.alert-danger{background-color:#f2dede;border-color:#ebccd1;color:#a94442}.alert-danger hr{border-top-color:#e4b9c0}.alert-danger .alert-link{color:#843534}@-webkit-keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}@keyframes progress-bar-stripes{from{background-position:40px 0}to{background-position:0 0}}.progress{overflow:hidden;height:18px;margin-bottom:18px;background-color:#f5f5f5;border-radius:2px;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.progress-bar{float:left;width:0;height:100%;font-size:12px;line-height:18px;color:#fff;text-align:center;background-color:#337ab7;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.progress-bar-striped,.progress-striped .progress-bar{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:40px 40px}.progress-bar.active,.progress.active .progress-bar{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-bar-success{background-color:#5cb85c}.progress-striped .progress-bar-success{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-info{background-color:#5bc0de}.progress-striped .progress-bar-info{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-warning{background-color:#f0ad4e}.progress-striped .progress-bar-warning{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.progress-bar-danger{background-color:#d9534f}.progress-striped .progress-bar-danger{background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:-o-linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent)}.media{margin-top:15px}.media:first-child{margin-top:0}.media,.media-body{zoom:1;overflow:hidden}.media-body{width:10000px}.media-object{display:block}.media-right,.media>.pull-right{padding-left:10px}.media-left,.media>.pull-left{padding-right:10px}.media-body,.media-left,.media-right{display:table-cell;vertical-align:top}.media-middle{vertical-align:middle}.media-bottom{vertical-align:bottom}.media-heading{margin-top:0;margin-bottom:5px}.media-list{padding-left:0;list-style:none}.list-group{margin-bottom:20px;padding-left:0}.list-group-item{position:relative;display:block;padding:10px 15px;margin-bottom:-1px;background-color:#fff;border:1px solid #ddd}.list-group-item:first-child{border-top-right-radius:2px;border-top-left-radius:2px}.list-group-item:last-child{margin-bottom:0;border-bottom-right-radius:2px;border-bottom-left-radius:2px}a.list-group-item{color:#555}a.list-group-item .list-group-item-heading{color:#333}a.list-group-item:focus,a.list-group-item:hover{text-decoration:none;color:#555;background-color:#f5f5f5}.list-group-item.disabled,.list-group-item.disabled:focus,.list-group-item.disabled:hover{background-color:#eee;color:#777;cursor:not-allowed}.list-group-item.disabled .list-group-item-heading,.list-group-item.disabled:focus .list-group-item-heading,.list-group-item.disabled:hover .list-group-item-heading{color:inherit}.list-group-item.disabled .list-group-item-text,.list-group-item.disabled:focus .list-group-item-text,.list-group-item.disabled:hover .list-group-item-text{color:#777}.list-group-item.active,.list-group-item.active:focus,.list-group-item.active:hover{z-index:2;color:#fff;background-color:#337ab7;border-color:#337ab7}.list-group-item.active .list-group-item-heading,.list-group-item.active .list-group-item-heading>.small,.list-group-item.active .list-group-item-heading>small,.list-group-item.active:focus .list-group-item-heading,.list-group-item.active:focus .list-group-item-heading>.small,.list-group-item.active:focus .list-group-item-heading>small,.list-group-item.active:hover .list-group-item-heading,.list-group-item.active:hover .list-group-item-heading>.small,.list-group-item.active:hover .list-group-item-heading>small{color:inherit}.list-group-item.active .list-group-item-text,.list-group-item.active:focus .list-group-item-text,.list-group-item.active:hover .list-group-item-text{color:#c7ddef}.list-group-item-success{color:#3c763d;background-color:#dff0d8}a.list-group-item-success{color:#3c763d}a.list-group-item-success .list-group-item-heading{color:inherit}a.list-group-item-success:focus,a.list-group-item-success:hover{color:#3c763d;background-color:#d0e9c6}a.list-group-item-success.active,a.list-group-item-success.active:focus,a.list-group-item-success.active:hover{color:#fff;background-color:#3c763d;border-color:#3c763d}.list-group-item-info{color:#31708f;background-color:#d9edf7}a.list-group-item-info{color:#31708f}a.list-group-item-info .list-group-item-heading{color:inherit}a.list-group-item-info:focus,a.list-group-item-info:hover{color:#31708f;background-color:#c4e3f3}a.list-group-item-info.active,a.list-group-item-info.active:focus,a.list-group-item-info.active:hover{color:#fff;background-color:#31708f;border-color:#31708f}.list-group-item-warning{color:#8a6d3b;background-color:#fcf8e3}a.list-group-item-warning{color:#8a6d3b}a.list-group-item-warning .list-group-item-heading{color:inherit}a.list-group-item-warning:focus,a.list-group-item-warning:hover{color:#8a6d3b;background-color:#faf2cc}a.list-group-item-warning.active,a.list-group-item-warning.active:focus,a.list-group-item-warning.active:hover{color:#fff;background-color:#8a6d3b;border-color:#8a6d3b}.list-group-item-danger{color:#a94442;background-color:#f2dede}a.list-group-item-danger{color:#a94442}a.list-group-item-danger .list-group-item-heading{color:inherit}a.list-group-item-danger:focus,a.list-group-item-danger:hover{color:#a94442;background-color:#ebcccc}a.list-group-item-danger.active,a.list-group-item-danger.active:focus,a.list-group-item-danger.active:hover{color:#fff;background-color:#a94442;border-color:#a94442}.list-group-item-heading{margin-top:0;margin-bottom:5px}.list-group-item-text{margin-bottom:0;line-height:1.3}.panel{margin-bottom:18px;background-color:#fff;border:1px solid transparent;border-radius:2px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.05);box-shadow:0 1px 1px rgba(0,0,0,.05)}.panel-body{padding:15px}.panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:1px;border-top-left-radius:1px}.panel-heading>.dropdown .dropdown-toggle{color:inherit}.panel-title{margin-top:0;margin-bottom:0;font-size:15px;color:inherit}.panel-title>.small,.panel-title>.small>a,.panel-title>a,.panel-title>small,.panel-title>small>a{color:inherit}.panel-footer{padding:10px 15px;background-color:#f5f5f5;border-top:1px solid #ddd;border-bottom-right-radius:1px;border-bottom-left-radius:1px}.panel>.list-group,.panel>.panel-collapse>.list-group{margin-bottom:0}.panel>.list-group .list-group-item,.panel>.panel-collapse>.list-group .list-group-item{border-width:1px 0;border-radius:0}.panel>.list-group:first-child .list-group-item:first-child,.panel>.panel-collapse>.list-group:first-child .list-group-item:first-child{border-top:0;border-top-right-radius:1px;border-top-left-radius:1px}.panel>.list-group:last-child .list-group-item:last-child,.panel>.panel-collapse>.list-group:last-child .list-group-item:last-child{border-bottom:0;border-bottom-right-radius:1px;border-bottom-left-radius:1px}.list-group+.panel-footer,.panel-heading+.list-group .list-group-item:first-child{border-top-width:0}.panel>.panel-collapse>.table,.panel>.table,.panel>.table-responsive>.table{margin-bottom:0}.panel>.panel-collapse>.table caption,.panel>.table caption,.panel>.table-responsive>.table caption{padding-left:15px;padding-right:15px}.panel>.table-responsive:first-child>.table:first-child,.panel>.table:first-child{border-top-right-radius:1px;border-top-left-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child,.panel>.table:first-child>thead:first-child>tr:first-child{border-top-left-radius:1px;border-top-right-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:first-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:first-child,.panel>.table:first-child>thead:first-child>tr:first-child td:first-child,.panel>.table:first-child>thead:first-child>tr:first-child th:first-child{border-top-left-radius:1px}.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table-responsive:first-child>.table:first-child>thead:first-child>tr:first-child th:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child td:last-child,.panel>.table:first-child>tbody:first-child>tr:first-child th:last-child,.panel>.table:first-child>thead:first-child>tr:first-child td:last-child,.panel>.table:first-child>thead:first-child>tr:first-child th:last-child{border-top-right-radius:1px}.panel>.table-responsive:last-child>.table:last-child,.panel>.table:last-child{border-bottom-right-radius:1px;border-bottom-left-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child{border-bottom-left-radius:1px;border-bottom-right-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:first-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:first-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:first-child{border-bottom-left-radius:1px}.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table-responsive:last-child>.table:last-child>tfoot:last-child>tr:last-child th:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child td:last-child,.panel>.table:last-child>tbody:last-child>tr:last-child th:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child td:last-child,.panel>.table:last-child>tfoot:last-child>tr:last-child th:last-child{border-bottom-right-radius:1px}.panel>.panel-body+.table,.panel>.panel-body+.table-responsive,.panel>.table+.panel-body,.panel>.table-responsive+.panel-body{border-top:1px solid #ddd}.panel>.table>tbody:first-child>tr:first-child td,.panel>.table>tbody:first-child>tr:first-child th{border-top:0}.panel>.table-bordered,.panel>.table-responsive>.table-bordered{border:0}.panel>.table-bordered>tbody>tr>td:first-child,.panel>.table-bordered>tbody>tr>th:first-child,.panel>.table-bordered>tfoot>tr>td:first-child,.panel>.table-bordered>tfoot>tr>th:first-child,.panel>.table-bordered>thead>tr>td:first-child,.panel>.table-bordered>thead>tr>th:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:first-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:first-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:first-child,.panel>.table-responsive>.table-bordered>thead>tr>td:first-child,.panel>.table-responsive>.table-bordered>thead>tr>th:first-child{border-left:0}.panel>.table-bordered>tbody>tr>td:last-child,.panel>.table-bordered>tbody>tr>th:last-child,.panel>.table-bordered>tfoot>tr>td:last-child,.panel>.table-bordered>tfoot>tr>th:last-child,.panel>.table-bordered>thead>tr>td:last-child,.panel>.table-bordered>thead>tr>th:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>td:last-child,.panel>.table-responsive>.table-bordered>tbody>tr>th:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>td:last-child,.panel>.table-responsive>.table-bordered>tfoot>tr>th:last-child,.panel>.table-responsive>.table-bordered>thead>tr>td:last-child,.panel>.table-responsive>.table-bordered>thead>tr>th:last-child{border-right:0}.panel>.table-bordered>tbody>tr:first-child>td,.panel>.table-bordered>tbody>tr:first-child>th,.panel>.table-bordered>tbody>tr:last-child>td,.panel>.table-bordered>tbody>tr:last-child>th,.panel>.table-bordered>tfoot>tr:last-child>td,.panel>.table-bordered>tfoot>tr:last-child>th,.panel>.table-bordered>thead>tr:first-child>td,.panel>.table-bordered>thead>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:first-child>th,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>td,.panel>.table-responsive>.table-bordered>tbody>tr:last-child>th,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>td,.panel>.table-responsive>.table-bordered>tfoot>tr:last-child>th,.panel>.table-responsive>.table-bordered>thead>tr:first-child>td,.panel>.table-responsive>.table-bordered>thead>tr:first-child>th{border-bottom:0}.panel>.table-responsive{border:0;margin-bottom:0}.panel-group{margin-bottom:18px}.panel-group .panel{margin-bottom:0;border-radius:2px}.panel-group .panel+.panel{margin-top:5px}.panel-group .panel-heading{border-bottom:0}.panel-group .panel-heading+.panel-collapse>.list-group,.panel-group .panel-heading+.panel-collapse>.panel-body{border-top:1px solid #ddd}.panel-group .panel-footer{border-top:0}.panel-group .panel-footer+.panel-collapse .panel-body{border-bottom:1px solid #ddd}.panel-default{border-color:#ddd}.panel-default>.panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd}.panel-default>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ddd}.panel-default>.panel-heading .badge{color:#f5f5f5;background-color:#333}.panel-default>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ddd}.panel-primary{border-color:#337ab7}.panel-primary>.panel-heading{color:#fff;background-color:#337ab7;border-color:#337ab7}.panel-primary>.panel-heading+.panel-collapse>.panel-body{border-top-color:#337ab7}.panel-primary>.panel-heading .badge{color:#337ab7;background-color:#fff}.panel-primary>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#337ab7}.panel-success{border-color:#d6e9c6}.panel-success>.panel-heading{color:#3c763d;background-color:#dff0d8;border-color:#d6e9c6}.panel-success>.panel-heading+.panel-collapse>.panel-body{border-top-color:#d6e9c6}.panel-success>.panel-heading .badge{color:#dff0d8;background-color:#3c763d}.panel-success>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#d6e9c6}.panel-info{border-color:#bce8f1}.panel-info>.panel-heading{color:#31708f;background-color:#d9edf7;border-color:#bce8f1}.panel-info>.panel-heading+.panel-collapse>.panel-body{border-top-color:#bce8f1}.panel-info>.panel-heading .badge{color:#d9edf7;background-color:#31708f}.panel-info>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#bce8f1}.panel-warning{border-color:#faebcc}.panel-warning>.panel-heading{color:#8a6d3b;background-color:#fcf8e3;border-color:#faebcc}.panel-warning>.panel-heading+.panel-collapse>.panel-body{border-top-color:#faebcc}.panel-warning>.panel-heading .badge{color:#fcf8e3;background-color:#8a6d3b}.panel-warning>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#faebcc}.panel-danger{border-color:#ebccd1}.panel-danger>.panel-heading{color:#a94442;background-color:#f2dede;border-color:#ebccd1}.panel-danger>.panel-heading+.panel-collapse>.panel-body{border-top-color:#ebccd1}.panel-danger>.panel-heading .badge{color:#f2dede;background-color:#a94442}.panel-danger>.panel-footer+.panel-collapse>.panel-body{border-bottom-color:#ebccd1}.embed-responsive{position:relative;display:block;height:0;padding:0;overflow:hidden}.embed-responsive .embed-responsive-item,.embed-responsive embed,.embed-responsive iframe,.embed-responsive object,.embed-responsive video{position:absolute;top:0;left:0;bottom:0;height:100%;width:100%;border:0}.embed-responsive-16by9{padding-bottom:56.25%}.embed-responsive-4by3{padding-bottom:75%}.well{min-height:20px;padding:19px;margin-bottom:20px;background-color:#f5f5f5;border:1px solid #e3e3e3;border-radius:2px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.05);box-shadow:inset 0 1px 1px rgba(0,0,0,.05)}.well blockquote{border-color:#ddd;border-color:rgba(0,0,0,.15)}.well-lg{padding:24px;border-radius:3px}.well-sm{padding:9px;border-radius:1px}.close{float:right;font-size:19.5px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.close:focus,.close:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.close{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.modal-open{overflow:hidden}.modal{display:none;overflow:hidden;position:fixed;top:0;right:0;bottom:0;left:0;z-index:1050;-webkit-overflow-scrolling:touch;outline:0}.modal.fade .modal-dialog{-webkit-transition:-webkit-transform .3s ease-out;-moz-transition:-moz-transform .3s ease-out;-o-transition:-o-transform .3s ease-out;transition:transform .3s ease-out}.modal.in .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}.modal-open .modal{overflow-x:hidden;overflow-y:auto}.modal-dialog{position:relative;width:auto;margin:10px}.modal-content{position:relative;background-color:#fff;border:1px solid #999;border:1px solid rgba(0,0,0,.2);border-radius:3px;-webkit-box-shadow:0 3px 9px rgba(0,0,0,.5);box-shadow:0 3px 9px rgba(0,0,0,.5);background-clip:padding-box;outline:0}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1040;background-color:#000}.modal-backdrop.fade{opacity:0;filter:alpha(opacity=0)}.modal-backdrop.in{opacity:.5;filter:alpha(opacity=50)}.modal-header{padding:15px;border-bottom:1px solid #e5e5e5;min-height:16.43px}.modal-header .close{margin-top:-2px}.modal-title{margin:0;line-height:1.42857143}.modal-body{position:relative;padding:15px}.modal-footer{padding:15px;text-align:right;border-top:1px solid #e5e5e5}.modal-footer .btn+.btn{margin-left:5px;margin-bottom:0}.modal-footer .btn-group .btn+.btn{margin-left:-1px}.modal-footer .btn-block+.btn-block{margin-left:0}.modal-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}@media (min-width:768px){.modal-dialog{width:600px;margin:30px auto}.modal-content{-webkit-box-shadow:0 5px 15px rgba(0,0,0,.5);box-shadow:0 5px 15px rgba(0,0,0,.5)}.modal-sm{width:300px}}@media (min-width:992px){.modal-lg{width:900px}}.tooltip{position:absolute;z-index:1070;display:block;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:12px;font-weight:400;line-height:1.4;opacity:0;filter:alpha(opacity=0)}.tooltip.in{opacity:.9;filter:alpha(opacity=90)}.tooltip.top{margin-top:-3px;padding:5px 0}.tooltip.right{margin-left:3px;padding:0 5px}.tooltip.bottom{margin-top:3px;padding:5px 0}.tooltip.left{margin-left:-3px;padding:0 5px}.tooltip-inner{max-width:200px;padding:3px 8px;color:#fff;text-align:center;text-decoration:none;background-color:#000;border-radius:2px}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-left .tooltip-arrow{bottom:0;right:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.top-right .tooltip-arrow{bottom:0;left:5px;margin-bottom:-5px;border-width:5px 5px 0;border-top-color:#000}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0;border-right-color:#000}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px;border-left-color:#000}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px;border-bottom-color:#000}.popover{position:absolute;top:0;left:0;z-index:1060;display:none;max-width:276px;padding:1px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;font-weight:400;line-height:1.42857143;text-align:left;background-color:#fff;background-clip:padding-box;border:1px solid #ccc;border:1px solid rgba(0,0,0,.2);border-radius:3px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,.2);box-shadow:0 5px 10px rgba(0,0,0,.2);white-space:normal}.popover.top{margin-top:-10px}.popover.right{margin-left:10px}.popover.bottom{margin-top:10px}.popover.left{margin-left:-10px}.popover-title{margin:0;padding:8px 14px;font-size:13px;background-color:#f7f7f7;border-bottom:1px solid #ebebeb;border-radius:2px 2px 0 0}.popover-content{padding:9px 14px}.popover>.arrow,.popover>.arrow:after{position:absolute;display:block;width:0;height:0;border-color:transparent;border-style:solid}.popover>.arrow{border-width:11px}.popover>.arrow:after{border-width:10px;content:""}.popover.top>.arrow{left:50%;margin-left:-11px;border-bottom-width:0;border-top-color:#999;border-top-color:rgba(0,0,0,.25);bottom:-11px}.popover.top>.arrow:after{content:" ";bottom:1px;margin-left:-10px;border-bottom-width:0;border-top-color:#fff}.popover.right>.arrow{top:50%;left:-11px;margin-top:-11px;border-left-width:0;border-right-color:#999;border-right-color:rgba(0,0,0,.25)}.popover.right>.arrow:after{content:" ";left:1px;bottom:-10px;border-left-width:0;border-right-color:#fff}.popover.bottom>.arrow{left:50%;margin-left:-11px;border-top-width:0;border-bottom-color:#999;border-bottom-color:rgba(0,0,0,.25);top:-11px}.popover.bottom>.arrow:after{content:" ";top:1px;margin-left:-10px;border-top-width:0;border-bottom-color:#fff}.popover.left>.arrow{top:50%;right:-11px;margin-top:-11px;border-right-width:0;border-left-color:#999;border-left-color:rgba(0,0,0,.25)}.popover.left>.arrow:after{content:" ";right:1px;border-right-width:0;border-left-color:#fff;bottom:-10px}.carousel{position:relative}.carousel-inner{position:relative;overflow:hidden;width:100%}.carousel-inner>.item{display:none;position:relative;-webkit-transition:.6s ease-in-out left;-o-transition:.6s ease-in-out left;transition:.6s ease-in-out left}.carousel-inner>.item>a>img,.carousel-inner>.item>img{line-height:1}@media all and (transform-3d),(-webkit-transform-3d){.carousel-inner>.item{-webkit-transition:-webkit-transform .6s ease-in-out;-moz-transition:-moz-transform .6s ease-in-out;-o-transition:-o-transform .6s ease-in-out;transition:transform .6s ease-in-out;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;-moz-perspective:1000;perspective:1000}.carousel-inner>.item.active.right,.carousel-inner>.item.next{-webkit-transform:translate3d(100%,0,0);transform:translate3d(100%,0,0);left:0}.carousel-inner>.item.active.left,.carousel-inner>.item.prev{-webkit-transform:translate3d(-100%,0,0);transform:translate3d(-100%,0,0);left:0}.carousel-inner>.item.active,.carousel-inner>.item.next.left,.carousel-inner>.item.prev.right{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0);left:0}}.carousel-inner>.active,.carousel-inner>.next,.carousel-inner>.prev{display:block}.carousel-inner>.active{left:0}.carousel-inner>.next,.carousel-inner>.prev{position:absolute;top:0;width:100%}.carousel-inner>.next{left:100%}.carousel-inner>.prev{left:-100%}.carousel-inner>.next.left,.carousel-inner>.prev.right{left:0}.carousel-inner>.active.left{left:-100%}.carousel-inner>.active.right{left:100%}.carousel-control{position:absolute;top:0;left:0;bottom:0;width:15%;opacity:.5;filter:alpha(opacity=50);font-size:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.carousel-control.left{background-image:-webkit-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-image:linear-gradient(to right,rgba(0,0,0,.5) 0,rgba(0,0,0,.0001) 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1)}.carousel-control.right{left:auto;right:0;background-image:-webkit-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:-o-linear-gradient(left,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-image:linear-gradient(to right,rgba(0,0,0,.0001) 0,rgba(0,0,0,.5) 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1)}.carousel-control:focus,.carousel-control:hover{outline:0;color:#fff;text-decoration:none;opacity:.9;filter:alpha(opacity=90)}.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{position:absolute;top:50%;z-index:5;display:inline-block}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{left:50%;margin-left:-10px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{right:50%;margin-right:-10px}.carousel-control .icon-next,.carousel-control .icon-prev{width:20px;height:20px;margin-top:-10px;line-height:1;font-family:serif}.carousel-control .icon-prev:before{content:'\2039'}.carousel-control .icon-next:before{content:'\203a'}.carousel-indicators{position:absolute;bottom:10px;left:50%;z-index:15;width:60%;margin-left:-30%;padding-left:0;list-style:none;text-align:center}.carousel-indicators li{display:inline-block;width:10px;height:10px;margin:1px;text-indent:-999px;border:1px solid #fff;border-radius:10px;cursor:pointer;background-color:transparent}.carousel-indicators .active{margin:0;width:12px;height:12px;background-color:#fff}.carousel-caption{position:absolute;left:15%;right:15%;bottom:20px;z-index:10;padding-top:20px;padding-bottom:20px;color:#fff;text-align:center;text-shadow:0 1px 2px rgba(0,0,0,.6)}.carousel-caption .btn{text-shadow:none}@media screen and (min-width:768px){.carousel-control .glyphicon-chevron-left,.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next,.carousel-control .icon-prev{width:30px;height:30px;margin-top:-15px;font-size:30px}.carousel-control .glyphicon-chevron-left,.carousel-control .icon-prev{margin-left:-15px}.carousel-control .glyphicon-chevron-right,.carousel-control .icon-next{margin-right:-15px}.carousel-caption{left:20%;right:20%;padding-bottom:30px}.carousel-indicators{bottom:20px}}.btn-group-vertical>.btn-group:after,.btn-group-vertical>.btn-group:before,.btn-toolbar:after,.btn-toolbar:before,.clearfix:after,.clearfix:before,.container-fluid:after,.container-fluid:before,.container:after,.container:before,.dl-horizontal dd:after,.dl-horizontal dd:before,.form-horizontal .form-group:after,.form-horizontal .form-group:before,.item_buttons:after,.item_buttons:before,.modal-footer:after,.modal-footer:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.pager:after,.pager:before,.panel-body:after,.panel-body:before,.row:after,.row:before{content:" ";display:table}.btn-group-vertical>.btn-group:after,.btn-toolbar:after,.clearfix:after,.container-fluid:after,.container:after,.dl-horizontal dd:after,.form-horizontal .form-group:after,.item_buttons:after,.modal-footer:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.pager:after,.panel-body:after,.row:after{clear:both}.center-block{display:block;margin-left:auto;margin-right:auto}.pull-right{float:right!important}.pull-left{float:left!important}.hide{display:none!important}.show{display:block!important}.invisible{visibility:hidden}.text-hide{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}.hidden{display:none!important}.affix{position:fixed}@-ms-viewport{width:device-width}.visible-lg,.visible-lg-block,.visible-lg-inline,.visible-lg-inline-block,.visible-md,.visible-md-block,.visible-md-inline,.visible-md-inline-block,.visible-sm,.visible-sm-block,.visible-sm-inline,.visible-sm-inline-block,.visible-xs,.visible-xs-block,.visible-xs-inline,.visible-xs-inline-block{display:none!important}@media (max-width:767px){.visible-xs{display:block!important}table.visible-xs{display:table}tr.visible-xs{display:table-row!important}td.visible-xs,th.visible-xs{display:table-cell!important}.visible-xs-block{display:block!important}.visible-xs-inline{display:inline!important}.visible-xs-inline-block{display:inline-block!important}}@media (min-width:768px)and (max-width:991px){.visible-sm{display:block!important}table.visible-sm{display:table}tr.visible-sm{display:table-row!important}td.visible-sm,th.visible-sm{display:table-cell!important}.visible-sm-block{display:block!important}.visible-sm-inline{display:inline!important}.visible-sm-inline-block{display:inline-block!important}}@media (min-width:992px)and (max-width:1199px){.visible-md{display:block!important}table.visible-md{display:table}tr.visible-md{display:table-row!important}td.visible-md,th.visible-md{display:table-cell!important}.visible-md-block{display:block!important}.visible-md-inline{display:inline!important}.visible-md-inline-block{display:inline-block!important}}@media (min-width:1200px){.visible-lg{display:block!important}table.visible-lg{display:table}tr.visible-lg{display:table-row!important}td.visible-lg,th.visible-lg{display:table-cell!important}.visible-lg-block{display:block!important}.visible-lg-inline{display:inline!important}.visible-lg-inline-block{display:inline-block!important}}@media (max-width:767px){.hidden-xs{display:none!important}}@media (min-width:768px)and (max-width:991px){.hidden-sm{display:none!important}}@media (min-width:992px)and (max-width:1199px){.hidden-md{display:none!important}}@media (min-width:1200px){.hidden-lg{display:none!important}}.visible-print{display:none!important}@media print{.visible-print{display:block!important}table.visible-print{display:table}tr.visible-print{display:table-row!important}td.visible-print,th.visible-print{display:table-cell!important}}.visible-print-block{display:none!important}@media print{.visible-print-block{display:block!important}}.visible-print-inline{display:none!important}@media print{.visible-print-inline{display:inline!important}}.visible-print-inline-block{display:none!important}@media print{.visible-print-inline-block{display:inline-block!important}.hidden-print{display:none!important}}/*!
*
* Font Awesome
*
*//*!
 *  Font Awesome 4.2.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */@font-face{font-family:'FontAwesome';src:url(../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.2.0);src:url(../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.2.0)format('embedded-opentype'),url(../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.2.0)format('woff'),url(../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.2.0)format('truetype'),url(../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.2.0#fontawesomeregular)format('svg');font-weight:400;font-style:normal}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg{font-size:1.33333333em;line-height:.75em;vertical-align:-15%}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-fw{width:1.28571429em;text-align:center}.fa-ul{padding-left:0;margin-left:2.14285714em;list-style-type:none}.fa-ul>li{position:relative}.fa-li{position:absolute;left:-2.14285714em;width:2.14285714em;top:.14285714em;text-align:center}.fa-li.fa-lg{left:-1.85714286em}.fa-border{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa.pull-left{margin-right:.3em}.fa.pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.fa-rotate-90{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);-webkit-transform:scale(-1,1);-ms-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);-webkit-transform:scale(1,-1);-ms-transform:scale(1,-1);transform:scale(1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{filter:none}.fa-stack{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x,.fa-stack-2x{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x{line-height:inherit}.fa-stack-2x{font-size:2em}.fa-inverse{color:#fff}.fa-glass:before{content:"\f000"}.fa-music:before{content:"\f001"}.fa-search:before{content:"\f002"}.fa-envelope-o:before{content:"\f003"}.fa-heart:before{content:"\f004"}.fa-star:before{content:"\f005"}.fa-star-o:before{content:"\f006"}.fa-user:before{content:"\f007"}.fa-film:before{content:"\f008"}.fa-th-large:before{content:"\f009"}.fa-th:before{content:"\f00a"}.fa-th-list:before{content:"\f00b"}.fa-check:before{content:"\f00c"}.fa-close:before,.fa-remove:before,.fa-times:before{content:"\f00d"}.fa-search-plus:before{content:"\f00e"}.fa-search-minus:before{content:"\f010"}.fa-power-off:before{content:"\f011"}.fa-signal:before{content:"\f012"}.fa-cog:before,.fa-gear:before{content:"\f013"}.fa-trash-o:before{content:"\f014"}.fa-home:before{content:"\f015"}.fa-file-o:before{content:"\f016"}.fa-clock-o:before{content:"\f017"}.fa-road:before{content:"\f018"}.fa-download:before{content:"\f019"}.fa-arrow-circle-o-down:before{content:"\f01a"}.fa-arrow-circle-o-up:before{content:"\f01b"}.fa-inbox:before{content:"\f01c"}.fa-play-circle-o:before{content:"\f01d"}.fa-repeat:before,.fa-rotate-right:before{content:"\f01e"}.fa-refresh:before{content:"\f021"}.fa-list-alt:before{content:"\f022"}.fa-lock:before{content:"\f023"}.fa-flag:before{content:"\f024"}.fa-headphones:before{content:"\f025"}.fa-volume-off:before{content:"\f026"}.fa-volume-down:before{content:"\f027"}.fa-volume-up:before{content:"\f028"}.fa-qrcode:before{content:"\f029"}.fa-barcode:before{content:"\f02a"}.fa-tag:before{content:"\f02b"}.fa-tags:before{content:"\f02c"}.fa-book:before{content:"\f02d"}.fa-bookmark:before{content:"\f02e"}.fa-print:before{content:"\f02f"}.fa-camera:before{content:"\f030"}.fa-font:before{content:"\f031"}.fa-bold:before{content:"\f032"}.fa-italic:before{content:"\f033"}.fa-text-height:before{content:"\f034"}.fa-text-width:before{content:"\f035"}.fa-align-left:before{content:"\f036"}.fa-align-center:before{content:"\f037"}.fa-align-right:before{content:"\f038"}.fa-align-justify:before{content:"\f039"}.fa-list:before{content:"\f03a"}.fa-dedent:before,.fa-outdent:before{content:"\f03b"}.fa-indent:before{content:"\f03c"}.fa-video-camera:before{content:"\f03d"}.fa-image:before,.fa-photo:before,.fa-picture-o:before{content:"\f03e"}.fa-pencil:before{content:"\f040"}.fa-map-marker:before{content:"\f041"}.fa-adjust:before{content:"\f042"}.fa-tint:before{content:"\f043"}.fa-edit:before,.fa-pencil-square-o:before{content:"\f044"}.fa-share-square-o:before{content:"\f045"}.fa-check-square-o:before{content:"\f046"}.fa-arrows:before{content:"\f047"}.fa-step-backward:before{content:"\f048"}.fa-fast-backward:before{content:"\f049"}.fa-backward:before{content:"\f04a"}.fa-play:before{content:"\f04b"}.fa-pause:before{content:"\f04c"}.fa-stop:before{content:"\f04d"}.fa-forward:before{content:"\f04e"}.fa-fast-forward:before{content:"\f050"}.fa-step-forward:before{content:"\f051"}.fa-eject:before{content:"\f052"}.fa-chevron-left:before{content:"\f053"}.fa-chevron-right:before{content:"\f054"}.fa-plus-circle:before{content:"\f055"}.fa-minus-circle:before{content:"\f056"}.fa-times-circle:before{content:"\f057"}.fa-check-circle:before{content:"\f058"}.fa-question-circle:before{content:"\f059"}.fa-info-circle:before{content:"\f05a"}.fa-crosshairs:before{content:"\f05b"}.fa-times-circle-o:before{content:"\f05c"}.fa-check-circle-o:before{content:"\f05d"}.fa-ban:before{content:"\f05e"}.fa-arrow-left:before{content:"\f060"}.fa-arrow-right:before{content:"\f061"}.fa-arrow-up:before{content:"\f062"}.fa-arrow-down:before{content:"\f063"}.fa-mail-forward:before,.fa-share:before{content:"\f064"}.fa-expand:before{content:"\f065"}.fa-compress:before{content:"\f066"}.fa-plus:before{content:"\f067"}.fa-minus:before{content:"\f068"}.fa-asterisk:before{content:"\f069"}.fa-exclamation-circle:before{content:"\f06a"}.fa-gift:before{content:"\f06b"}.fa-leaf:before{content:"\f06c"}.fa-fire:before{content:"\f06d"}.fa-eye:before{content:"\f06e"}.fa-eye-slash:before{content:"\f070"}.fa-exclamation-triangle:before,.fa-warning:before{content:"\f071"}.fa-plane:before{content:"\f072"}.fa-calendar:before{content:"\f073"}.fa-random:before{content:"\f074"}.fa-comment:before{content:"\f075"}.fa-magnet:before{content:"\f076"}.fa-chevron-up:before{content:"\f077"}.fa-chevron-down:before{content:"\f078"}.fa-retweet:before{content:"\f079"}.fa-shopping-cart:before{content:"\f07a"}.fa-folder:before{content:"\f07b"}.fa-folder-open:before{content:"\f07c"}.fa-arrows-v:before{content:"\f07d"}.fa-arrows-h:before{content:"\f07e"}.fa-bar-chart-o:before,.fa-bar-chart:before{content:"\f080"}.fa-twitter-square:before{content:"\f081"}.fa-facebook-square:before{content:"\f082"}.fa-camera-retro:before{content:"\f083"}.fa-key:before{content:"\f084"}.fa-cogs:before,.fa-gears:before{content:"\f085"}.fa-comments:before{content:"\f086"}.fa-thumbs-o-up:before{content:"\f087"}.fa-thumbs-o-down:before{content:"\f088"}.fa-star-half:before{content:"\f089"}.fa-heart-o:before{content:"\f08a"}.fa-sign-out:before{content:"\f08b"}.fa-linkedin-square:before{content:"\f08c"}.fa-thumb-tack:before{content:"\f08d"}.fa-external-link:before{content:"\f08e"}.fa-sign-in:before{content:"\f090"}.fa-trophy:before{content:"\f091"}.fa-github-square:before{content:"\f092"}.fa-upload:before{content:"\f093"}.fa-lemon-o:before{content:"\f094"}.fa-phone:before{content:"\f095"}.fa-square-o:before{content:"\f096"}.fa-bookmark-o:before{content:"\f097"}.fa-phone-square:before{content:"\f098"}.fa-twitter:before{content:"\f099"}.fa-facebook:before{content:"\f09a"}.fa-github:before{content:"\f09b"}.fa-unlock:before{content:"\f09c"}.fa-credit-card:before{content:"\f09d"}.fa-rss:before{content:"\f09e"}.fa-hdd-o:before{content:"\f0a0"}.fa-bullhorn:before{content:"\f0a1"}.fa-bell:before{content:"\f0f3"}.fa-certificate:before{content:"\f0a3"}.fa-hand-o-right:before{content:"\f0a4"}.fa-hand-o-left:before{content:"\f0a5"}.fa-hand-o-up:before{content:"\f0a6"}.fa-hand-o-down:before{content:"\f0a7"}.fa-arrow-circle-left:before{content:"\f0a8"}.fa-arrow-circle-right:before{content:"\f0a9"}.fa-arrow-circle-up:before{content:"\f0aa"}.fa-arrow-circle-down:before{content:"\f0ab"}.fa-globe:before{content:"\f0ac"}.fa-wrench:before{content:"\f0ad"}.fa-tasks:before{content:"\f0ae"}.fa-filter:before{content:"\f0b0"}.fa-briefcase:before{content:"\f0b1"}.fa-arrows-alt:before{content:"\f0b2"}.fa-group:before,.fa-users:before{content:"\f0c0"}.fa-chain:before,.fa-link:before{content:"\f0c1"}.fa-cloud:before{content:"\f0c2"}.fa-flask:before{content:"\f0c3"}.fa-cut:before,.fa-scissors:before{content:"\f0c4"}.fa-copy:before,.fa-files-o:before{content:"\f0c5"}.fa-paperclip:before{content:"\f0c6"}.fa-floppy-o:before,.fa-save:before{content:"\f0c7"}.fa-square:before{content:"\f0c8"}.fa-bars:before,.fa-navicon:before,.fa-reorder:before{content:"\f0c9"}.fa-list-ul:before{content:"\f0ca"}.fa-list-ol:before{content:"\f0cb"}.fa-strikethrough:before{content:"\f0cc"}.fa-underline:before{content:"\f0cd"}.fa-table:before{content:"\f0ce"}.fa-magic:before{content:"\f0d0"}.fa-truck:before{content:"\f0d1"}.fa-pinterest:before{content:"\f0d2"}.fa-pinterest-square:before{content:"\f0d3"}.fa-google-plus-square:before{content:"\f0d4"}.fa-google-plus:before{content:"\f0d5"}.fa-money:before{content:"\f0d6"}.fa-caret-down:before{content:"\f0d7"}.fa-caret-up:before{content:"\f0d8"}.fa-caret-left:before{content:"\f0d9"}.fa-caret-right:before{content:"\f0da"}.fa-columns:before{content:"\f0db"}.fa-sort:before,.fa-unsorted:before{content:"\f0dc"}.fa-sort-desc:before,.fa-sort-down:before{content:"\f0dd"}.fa-sort-asc:before,.fa-sort-up:before{content:"\f0de"}.fa-envelope:before{content:"\f0e0"}.fa-linkedin:before{content:"\f0e1"}.fa-rotate-left:before,.fa-undo:before{content:"\f0e2"}.fa-gavel:before,.fa-legal:before{content:"\f0e3"}.fa-dashboard:before,.fa-tachometer:before{content:"\f0e4"}.fa-comment-o:before{content:"\f0e5"}.fa-comments-o:before{content:"\f0e6"}.fa-bolt:before,.fa-flash:before{content:"\f0e7"}.fa-sitemap:before{content:"\f0e8"}.fa-umbrella:before{content:"\f0e9"}.fa-clipboard:before,.fa-paste:before{content:"\f0ea"}.fa-lightbulb-o:before{content:"\f0eb"}.fa-exchange:before{content:"\f0ec"}.fa-cloud-download:before{content:"\f0ed"}.fa-cloud-upload:before{content:"\f0ee"}.fa-user-md:before{content:"\f0f0"}.fa-stethoscope:before{content:"\f0f1"}.fa-suitcase:before{content:"\f0f2"}.fa-bell-o:before{content:"\f0a2"}.fa-coffee:before{content:"\f0f4"}.fa-cutlery:before{content:"\f0f5"}.fa-file-text-o:before{content:"\f0f6"}.fa-building-o:before{content:"\f0f7"}.fa-hospital-o:before{content:"\f0f8"}.fa-ambulance:before{content:"\f0f9"}.fa-medkit:before{content:"\f0fa"}.fa-fighter-jet:before{content:"\f0fb"}.fa-beer:before{content:"\f0fc"}.fa-h-square:before{content:"\f0fd"}.fa-plus-square:before{content:"\f0fe"}.fa-angle-double-left:before{content:"\f100"}.fa-angle-double-right:before{content:"\f101"}.fa-angle-double-up:before{content:"\f102"}.fa-angle-double-down:before{content:"\f103"}.fa-angle-left:before{content:"\f104"}.fa-angle-right:before{content:"\f105"}.fa-angle-up:before{content:"\f106"}.fa-angle-down:before{content:"\f107"}.fa-desktop:before{content:"\f108"}.fa-laptop:before{content:"\f109"}.fa-tablet:before{content:"\f10a"}.fa-mobile-phone:before,.fa-mobile:before{content:"\f10b"}.fa-circle-o:before{content:"\f10c"}.fa-quote-left:before{content:"\f10d"}.fa-quote-right:before{content:"\f10e"}.fa-spinner:before{content:"\f110"}.fa-circle:before{content:"\f111"}.fa-mail-reply:before,.fa-reply:before{content:"\f112"}.fa-github-alt:before{content:"\f113"}.fa-folder-o:before{content:"\f114"}.fa-folder-open-o:before{content:"\f115"}.fa-smile-o:before{content:"\f118"}.fa-frown-o:before{content:"\f119"}.fa-meh-o:before{content:"\f11a"}.fa-gamepad:before{content:"\f11b"}.fa-keyboard-o:before{content:"\f11c"}.fa-flag-o:before{content:"\f11d"}.fa-flag-checkered:before{content:"\f11e"}.fa-terminal:before{content:"\f120"}.fa-code:before{content:"\f121"}.fa-mail-reply-all:before,.fa-reply-all:before{content:"\f122"}.fa-star-half-empty:before,.fa-star-half-full:before,.fa-star-half-o:before{content:"\f123"}.fa-location-arrow:before{content:"\f124"}.fa-crop:before{content:"\f125"}.fa-code-fork:before{content:"\f126"}.fa-chain-broken:before,.fa-unlink:before{content:"\f127"}.fa-question:before{content:"\f128"}.fa-info:before{content:"\f129"}.fa-exclamation:before{content:"\f12a"}.fa-superscript:before{content:"\f12b"}.fa-subscript:before{content:"\f12c"}.fa-eraser:before{content:"\f12d"}.fa-puzzle-piece:before{content:"\f12e"}.fa-microphone:before{content:"\f130"}.fa-microphone-slash:before{content:"\f131"}.fa-shield:before{content:"\f132"}.fa-calendar-o:before{content:"\f133"}.fa-fire-extinguisher:before{content:"\f134"}.fa-rocket:before{content:"\f135"}.fa-maxcdn:before{content:"\f136"}.fa-chevron-circle-left:before{content:"\f137"}.fa-chevron-circle-right:before{content:"\f138"}.fa-chevron-circle-up:before{content:"\f139"}.fa-chevron-circle-down:before{content:"\f13a"}.fa-html5:before{content:"\f13b"}.fa-css3:before{content:"\f13c"}.fa-anchor:before{content:"\f13d"}.fa-unlock-alt:before{content:"\f13e"}.fa-bullseye:before{content:"\f140"}.fa-ellipsis-h:before{content:"\f141"}.fa-ellipsis-v:before{content:"\f142"}.fa-rss-square:before{content:"\f143"}.fa-play-circle:before{content:"\f144"}.fa-ticket:before{content:"\f145"}.fa-minus-square:before{content:"\f146"}.fa-minus-square-o:before{content:"\f147"}.fa-level-up:before{content:"\f148"}.fa-level-down:before{content:"\f149"}.fa-check-square:before{content:"\f14a"}.fa-pencil-square:before{content:"\f14b"}.fa-external-link-square:before{content:"\f14c"}.fa-share-square:before{content:"\f14d"}.fa-compass:before{content:"\f14e"}.fa-caret-square-o-down:before,.fa-toggle-down:before{content:"\f150"}.fa-caret-square-o-up:before,.fa-toggle-up:before{content:"\f151"}.fa-caret-square-o-right:before,.fa-toggle-right:before{content:"\f152"}.fa-eur:before,.fa-euro:before{content:"\f153"}.fa-gbp:before{content:"\f154"}.fa-dollar:before,.fa-usd:before{content:"\f155"}.fa-inr:before,.fa-rupee:before{content:"\f156"}.fa-cny:before,.fa-jpy:before,.fa-rmb:before,.fa-yen:before{content:"\f157"}.fa-rouble:before,.fa-rub:before,.fa-ruble:before{content:"\f158"}.fa-krw:before,.fa-won:before{content:"\f159"}.fa-bitcoin:before,.fa-btc:before{content:"\f15a"}.fa-file:before{content:"\f15b"}.fa-file-text:before{content:"\f15c"}.fa-sort-alpha-asc:before{content:"\f15d"}.fa-sort-alpha-desc:before{content:"\f15e"}.fa-sort-amount-asc:before{content:"\f160"}.fa-sort-amount-desc:before{content:"\f161"}.fa-sort-numeric-asc:before{content:"\f162"}.fa-sort-numeric-desc:before{content:"\f163"}.fa-thumbs-up:before{content:"\f164"}.fa-thumbs-down:before{content:"\f165"}.fa-youtube-square:before{content:"\f166"}.fa-youtube:before{content:"\f167"}.fa-xing:before{content:"\f168"}.fa-xing-square:before{content:"\f169"}.fa-youtube-play:before{content:"\f16a"}.fa-dropbox:before{content:"\f16b"}.fa-stack-overflow:before{content:"\f16c"}.fa-instagram:before{content:"\f16d"}.fa-flickr:before{content:"\f16e"}.fa-adn:before{content:"\f170"}.fa-bitbucket:before{content:"\f171"}.fa-bitbucket-square:before{content:"\f172"}.fa-tumblr:before{content:"\f173"}.fa-tumblr-square:before{content:"\f174"}.fa-long-arrow-down:before{content:"\f175"}.fa-long-arrow-up:before{content:"\f176"}.fa-long-arrow-left:before{content:"\f177"}.fa-long-arrow-right:before{content:"\f178"}.fa-apple:before{content:"\f179"}.fa-windows:before{content:"\f17a"}.fa-android:before{content:"\f17b"}.fa-linux:before{content:"\f17c"}.fa-dribbble:before{content:"\f17d"}.fa-skype:before{content:"\f17e"}.fa-foursquare:before{content:"\f180"}.fa-trello:before{content:"\f181"}.fa-female:before{content:"\f182"}.fa-male:before{content:"\f183"}.fa-gittip:before{content:"\f184"}.fa-sun-o:before{content:"\f185"}.fa-moon-o:before{content:"\f186"}.fa-archive:before{content:"\f187"}.fa-bug:before{content:"\f188"}.fa-vk:before{content:"\f189"}.fa-weibo:before{content:"\f18a"}.fa-renren:before{content:"\f18b"}.fa-pagelines:before{content:"\f18c"}.fa-stack-exchange:before{content:"\f18d"}.fa-arrow-circle-o-right:before{content:"\f18e"}.fa-arrow-circle-o-left:before{content:"\f190"}.fa-caret-square-o-left:before,.fa-toggle-left:before{content:"\f191"}.fa-dot-circle-o:before{content:"\f192"}.fa-wheelchair:before{content:"\f193"}.fa-vimeo-square:before{content:"\f194"}.fa-try:before,.fa-turkish-lira:before{content:"\f195"}.fa-plus-square-o:before{content:"\f196"}.fa-space-shuttle:before{content:"\f197"}.fa-slack:before{content:"\f198"}.fa-envelope-square:before{content:"\f199"}.fa-wordpress:before{content:"\f19a"}.fa-openid:before{content:"\f19b"}.fa-bank:before,.fa-institution:before,.fa-university:before{content:"\f19c"}.fa-graduation-cap:before,.fa-mortar-board:before{content:"\f19d"}.fa-yahoo:before{content:"\f19e"}.fa-google:before{content:"\f1a0"}.fa-reddit:before{content:"\f1a1"}.fa-reddit-square:before{content:"\f1a2"}.fa-stumbleupon-circle:before{content:"\f1a3"}.fa-stumbleupon:before{content:"\f1a4"}.fa-delicious:before{content:"\f1a5"}.fa-digg:before{content:"\f1a6"}.fa-pied-piper:before{content:"\f1a7"}.fa-pied-piper-alt:before{content:"\f1a8"}.fa-drupal:before{content:"\f1a9"}.fa-joomla:before{content:"\f1aa"}.fa-language:before{content:"\f1ab"}.fa-fax:before{content:"\f1ac"}.fa-building:before{content:"\f1ad"}.fa-child:before{content:"\f1ae"}.fa-paw:before{content:"\f1b0"}.fa-spoon:before{content:"\f1b1"}.fa-cube:before{content:"\f1b2"}.fa-cubes:before{content:"\f1b3"}.fa-behance:before{content:"\f1b4"}.fa-behance-square:before{content:"\f1b5"}.fa-steam:before{content:"\f1b6"}.fa-steam-square:before{content:"\f1b7"}.fa-recycle:before{content:"\f1b8"}.fa-automobile:before,.fa-car:before{content:"\f1b9"}.fa-cab:before,.fa-taxi:before{content:"\f1ba"}.fa-tree:before{content:"\f1bb"}.fa-spotify:before{content:"\f1bc"}.fa-deviantart:before{content:"\f1bd"}.fa-soundcloud:before{content:"\f1be"}.fa-database:before{content:"\f1c0"}.fa-file-pdf-o:before{content:"\f1c1"}.fa-file-word-o:before{content:"\f1c2"}.fa-file-excel-o:before{content:"\f1c3"}.fa-file-powerpoint-o:before{content:"\f1c4"}.fa-file-image-o:before,.fa-file-photo-o:before,.fa-file-picture-o:before{content:"\f1c5"}.fa-file-archive-o:before,.fa-file-zip-o:before{content:"\f1c6"}.fa-file-audio-o:before,.fa-file-sound-o:before{content:"\f1c7"}.fa-file-movie-o:before,.fa-file-video-o:before{content:"\f1c8"}.fa-file-code-o:before{content:"\f1c9"}.fa-vine:before{content:"\f1ca"}.fa-codepen:before{content:"\f1cb"}.fa-jsfiddle:before{content:"\f1cc"}.fa-life-bouy:before,.fa-life-buoy:before,.fa-life-ring:before,.fa-life-saver:before,.fa-support:before{content:"\f1cd"}.fa-circle-o-notch:before{content:"\f1ce"}.fa-ra:before,.fa-rebel:before{content:"\f1d0"}.fa-empire:before,.fa-ge:before{content:"\f1d1"}.fa-git-square:before{content:"\f1d2"}.fa-git:before{content:"\f1d3"}.fa-hacker-news:before{content:"\f1d4"}.fa-tencent-weibo:before{content:"\f1d5"}.fa-qq:before{content:"\f1d6"}.fa-wechat:before,.fa-weixin:before{content:"\f1d7"}.fa-paper-plane:before,.fa-send:before{content:"\f1d8"}.fa-paper-plane-o:before,.fa-send-o:before{content:"\f1d9"}.fa-history:before{content:"\f1da"}.fa-circle-thin:before{content:"\f1db"}.fa-header:before{content:"\f1dc"}.fa-paragraph:before{content:"\f1dd"}.fa-sliders:before{content:"\f1de"}.fa-share-alt:before{content:"\f1e0"}.fa-share-alt-square:before{content:"\f1e1"}.fa-bomb:before{content:"\f1e2"}.fa-futbol-o:before,.fa-soccer-ball-o:before{content:"\f1e3"}.fa-tty:before{content:"\f1e4"}.fa-binoculars:before{content:"\f1e5"}.fa-plug:before{content:"\f1e6"}.fa-slideshare:before{content:"\f1e7"}.fa-twitch:before{content:"\f1e8"}.fa-yelp:before{content:"\f1e9"}.fa-newspaper-o:before{content:"\f1ea"}.fa-wifi:before{content:"\f1eb"}.fa-calculator:before{content:"\f1ec"}.fa-paypal:before{content:"\f1ed"}.fa-google-wallet:before{content:"\f1ee"}.fa-cc-visa:before{content:"\f1f0"}.fa-cc-mastercard:before{content:"\f1f1"}.fa-cc-discover:before{content:"\f1f2"}.fa-cc-amex:before{content:"\f1f3"}.fa-cc-paypal:before{content:"\f1f4"}.fa-cc-stripe:before{content:"\f1f5"}.fa-bell-slash:before{content:"\f1f6"}.fa-bell-slash-o:before{content:"\f1f7"}.fa-trash:before{content:"\f1f8"}.fa-copyright:before{content:"\f1f9"}.fa-at:before{content:"\f1fa"}.fa-eyedropper:before{content:"\f1fb"}.fa-paint-brush:before{content:"\f1fc"}.fa-birthday-cake:before{content:"\f1fd"}.fa-area-chart:before{content:"\f1fe"}.fa-pie-chart:before{content:"\f200"}.fa-line-chart:before{content:"\f201"}.fa-lastfm:before{content:"\f202"}.fa-lastfm-square:before{content:"\f203"}.fa-toggle-off:before{content:"\f204"}.fa-toggle-on:before{content:"\f205"}.fa-bicycle:before{content:"\f206"}.fa-bus:before{content:"\f207"}.fa-ioxhost:before{content:"\f208"}.fa-angellist:before{content:"\f209"}.fa-cc:before{content:"\f20a"}.fa-ils:before,.fa-shekel:before,.fa-sheqel:before{content:"\f20b"}.fa-meanpath:before{content:"\f20c"}/*!
*
* IPython base
*
*/.modal.fade .modal-dialog{-webkit-transform:translate(0,0);-ms-transform:translate(0,0);-o-transform:translate(0,0);transform:translate(0,0)}code{color:#000}pre{font-size:inherit;line-height:inherit}label{font-weight:400}.border-box-sizing{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.corner-all{border-radius:2px}.no-padding{padding:0}.hbox{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.hbox>*{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none}.vbox{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}.vbox>*{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none}.hbox.reverse,.reverse,.vbox.reverse{-webkit-box-direction:reverse;-moz-box-direction:reverse;box-direction:reverse;flex-direction:row-reverse}.box-flex0,.hbox.box-flex0,.vbox.box-flex0{-webkit-box-flex:0;-moz-box-flex:0;box-flex:0;flex:none;width:auto}.box-flex1,.hbox.box-flex1,.vbox.box-flex1{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}.box-flex,.hbox.box-flex,.vbox.box-flex{-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}.box-flex2,.hbox.box-flex2,.vbox.box-flex2{-webkit-box-flex:2;-moz-box-flex:2;box-flex:2;flex:2}.box-group1{-webkit-box-flex-group:1;-moz-box-flex-group:1;box-flex-group:1}.box-group2{-webkit-box-flex-group:2;-moz-box-flex-group:2;box-flex-group:2}.hbox.start,.start,.vbox.start{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;justify-content:flex-start}.end,.hbox.end,.vbox.end{-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;justify-content:flex-end}.center,.hbox.center,.vbox.center{-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;justify-content:center}.baseline,.hbox.baseline,.vbox.baseline{-webkit-box-pack:baseline;-moz-box-pack:baseline;box-pack:baseline;justify-content:baseline}.hbox.stretch,.stretch,.vbox.stretch{-webkit-box-pack:stretch;-moz-box-pack:stretch;box-pack:stretch;justify-content:stretch}.align-start,.hbox.align-start,.vbox.align-start{-webkit-box-align:start;-moz-box-align:start;box-align:start;align-items:flex-start}.align-end,.hbox.align-end,.vbox.align-end{-webkit-box-align:end;-moz-box-align:end;box-align:end;align-items:flex-end}.align-center,.hbox.align-center,.vbox.align-center{-webkit-box-align:center;-moz-box-align:center;box-align:center;align-items:center}.align-baseline,.hbox.align-baseline,.vbox.align-baseline{-webkit-box-align:baseline;-moz-box-align:baseline;box-align:baseline;align-items:baseline}.align-stretch,.hbox.align-stretch,.vbox.align-stretch{-webkit-box-align:stretch;-moz-box-align:stretch;box-align:stretch;align-items:stretch}div.error{margin:2em;text-align:center}div.error>h1{font-size:500%;line-height:normal}div.error>p{font-size:200%;line-height:normal}div.traceback-wrapper{text-align:left;max-width:800px;margin:auto}body{position:absolute;left:0;right:0;top:0;bottom:0;overflow:visible}#header{display:none;background-color:#fff;position:relative;z-index:100}#header #header-container{padding-bottom:5px;padding-top:5px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#header .header-bar{width:100%;height:1px;background:#e7e7e7;margin-bottom:-1px}#header-spacer{width:100%;visibility:hidden}@media print{#header{display:none!important}#header-spacer{display:none}}#ipython_notebook{padding-left:0;padding-top:1px;padding-bottom:1px}@media (max-width:991px){#ipython_notebook{margin-left:10px}}#noscript{width:auto;padding-top:16px;padding-bottom:16px;text-align:center;font-size:22px;color:red;font-weight:700}#ipython_notebook img{height:28px}#site{width:100%;display:none;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;overflow:auto}@media print{#site{height:auto!important}}.ui-button .ui-button-text{padding:.2em .8em;font-size:77%}input.ui-button{padding:.3em .9em}span#login_widget{float:right}#logout,span#login_widget>.button{color:#333;background-color:#fff;border-color:#ccc}#logout.active,#logout.focus,#logout:active,#logout:focus,#logout:hover,.open>.dropdown-toggle#logout,.open>.dropdown-togglespan#login_widget>.button,span#login_widget>.button.active,span#login_widget>.button.focus,span#login_widget>.button:active,span#login_widget>.button:focus,span#login_widget>.button:hover{color:#333;background-color:#e6e6e6;border-color:#adadad}#logout.active,#logout:active,.open>.dropdown-toggle#logout,.open>.dropdown-togglespan#login_widget>.button,span#login_widget>.button.active,span#login_widget>.button:active{background-image:none}#logout.disabled,#logout.disabled.active,#logout.disabled.focus,#logout.disabled:active,#logout.disabled:focus,#logout.disabled:hover,#logout[disabled],#logout[disabled].active,#logout[disabled].focus,#logout[disabled]:active,#logout[disabled]:focus,#logout[disabled]:hover,fieldset[disabled] #logout,fieldset[disabled] #logout.active,fieldset[disabled] #logout.focus,fieldset[disabled] #logout:active,fieldset[disabled] #logout:focus,fieldset[disabled] #logout:hover,fieldset[disabled] span#login_widget>.button,fieldset[disabled] span#login_widget>.button.active,fieldset[disabled] span#login_widget>.button.focus,fieldset[disabled] span#login_widget>.button:active,fieldset[disabled] span#login_widget>.button:focus,fieldset[disabled] span#login_widget>.button:hover,span#login_widget>.button.disabled,span#login_widget>.button.disabled.active,span#login_widget>.button.disabled.focus,span#login_widget>.button.disabled:active,span#login_widget>.button.disabled:focus,span#login_widget>.button.disabled:hover,span#login_widget>.button[disabled],span#login_widget>.button[disabled].active,span#login_widget>.button[disabled].focus,span#login_widget>.button[disabled]:active,span#login_widget>.button[disabled]:focus,span#login_widget>.button[disabled]:hover{background-color:#fff;border-color:#ccc}#logout .badge,span#login_widget>.button .badge{color:#fff;background-color:#333}.nav-header{text-transform:none}#header>span{margin-top:10px}.modal_stretch .modal-dialog{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;min-height:80vh}.modal_stretch .modal-dialog .modal-body{max-height:calc(100vh - 200px);overflow:auto;flex:1}@media (min-width:768px){.modal .modal-dialog{width:700px}select.form-control{margin-left:12px;margin-right:12px}}/*!
*
* IPython auth
*
*/.center-nav{display:inline-block;margin-bottom:-4px}/*!
*
* IPython tree view
*
*/.alternate_upload{background-color:none;display:inline}.alternate_upload.form{padding:0;margin:0}.alternate_upload input.fileinput{text-align:center;vertical-align:middle;display:inline;opacity:0;z-index:2;width:12ex;margin-right:-12ex}.alternate_upload .btn-upload{height:22px}ul#tabs{margin-bottom:4px}ul#tabs a{padding-top:6px;padding-bottom:4px}ul.breadcrumb a:focus,ul.breadcrumb a:hover{text-decoration:none}ul.breadcrumb i.icon-home{font-size:16px;margin-right:4px}ul.breadcrumb span{color:#5e5e5e}.list_toolbar{padding:4px 0;vertical-align:middle}.list_toolbar .tree-buttons{padding-top:1px}.dynamic-buttons{padding-top:3px;display:inline-block}.list_toolbar [class*=span]{min-height:24px}.list_header{font-weight:700;background-color:#eee}.list_placeholder{font-weight:700;padding:4px 7px}.list_container{margin-top:4px;margin-bottom:20px;border:1px solid #ddd;border-radius:2px}.list_container>div{border-bottom:1px solid #ddd}.list_container>div:hover .list-item{background-color:red}.list_container>div:last-child{border:none}.list_item:hover .list_item{background-color:#ddd}.list_item a{text-decoration:none}.list_item:hover{background-color:#fafafa}.action_col{text-align:right}.list_header>div,.list_item>div{line-height:22px;padding:4px 7px}.list_header>div input,.list_item>div input{margin-right:7px;margin-left:14px;vertical-align:baseline;line-height:22px;position:relative;top:-1px}.list_header>div .item_link,.list_item>div .item_link{margin-left:-1px;vertical-align:baseline;line-height:22px}.new-file input[type=checkbox]{visibility:hidden}.item_name{line-height:22px;height:24px}.item_icon{font-size:14px;color:#5e5e5e;margin-right:7px;margin-left:7px;line-height:22px;vertical-align:baseline}.item_buttons{line-height:1em;margin-left:-5px}.item_buttons .btn-group,.item_buttons .input-group{float:left}.item_buttons>.btn,.item_buttons>.btn-group,.item_buttons>.input-group{margin-left:5px}.item_buttons .btn{min-width:13ex}.item_buttons .running-indicator{padding-top:4px;color:#5cb85c}.toolbar_info{height:24px;line-height:24px}input.engine_num_input,input.nbname_input{padding-top:3px;padding-bottom:3px;height:22px;line-height:14px;margin:0}input.engine_num_input{width:60px}.highlight_text{color:#00f}#project_name{display:inline-block;padding-left:7px;margin-left:-2px}#project_name>.breadcrumb{padding:0;margin-bottom:0;background-color:transparent;font-weight:700}#tree-selector{padding-right:0}#button-select-all{min-width:50px}#select-all{margin-left:7px;margin-right:2px}.menu_icon{margin-right:2px}.tab-content .row{margin-left:0;margin-right:0}.folder_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f114"}.folder_icon:before.pull-left{margin-right:.3em}.folder_icon:before.pull-right{margin-left:.3em}.notebook_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f02d";position:relative;top:-1px}.notebook_icon:before.pull-left{margin-right:.3em}.notebook_icon:before.pull-right{margin-left:.3em}.running_notebook_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f02d";position:relative;top:-1px;color:#5cb85c}.running_notebook_icon:before.pull-left{margin-right:.3em}.running_notebook_icon:before.pull-right{margin-left:.3em}.file_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f016";position:relative;top:-2px}.file_icon:before.pull-left{margin-right:.3em}.file_icon:before.pull-right{margin-left:.3em}#notebook_toolbar .pull-right{padding-top:0;margin-right:-1px}ul#new-menu{left:auto;right:0}.kernel-menu-icon{padding-right:12px;width:24px;content:"\f096"}.kernel-menu-icon:before{content:"\f096"}.kernel-menu-icon-current:before{content:"\f00c"}#tab_content{padding-top:20px}#running .panel-group .panel{margin-top:3px;margin-bottom:1em}#running .panel-group .panel .panel-heading{background-color:#eee;line-height:22px;padding:4px 7px}#running .panel-group .panel .panel-heading a:focus,#running .panel-group .panel .panel-heading a:hover{text-decoration:none}#running .panel-group .panel .panel-body{padding:0}#running .panel-group .panel .panel-body .list_container{margin-top:0;margin-bottom:0;border:0;border-radius:0}#running .panel-group .panel .panel-body .list_container .list_item{border-bottom:1px solid #ddd}#running .panel-group .panel .panel-body .list_container .list_item:last-child{border-bottom:0}.delete-button,.duplicate-button,.rename-button,.shutdown-button{display:none}.dynamic-instructions{display:inline-block;padding-top:4px}/*!
*
* IPython text editor webapp
*
*/.selected-keymap i.fa{padding:0 5px}.selected-keymap i.fa:before{content:"\f00c"}#mode-menu{overflow:auto;max-height:20em}.edit_app #header{-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}.edit_app #menubar .navbar{margin-bottom:-1px}.dirty-indicator{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator.pull-left{margin-right:.3em}.dirty-indicator.pull-right{margin-left:.3em}.dirty-indicator-dirty{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator-dirty.pull-left{margin-right:.3em}.dirty-indicator-dirty.pull-right{margin-left:.3em}.dirty-indicator-clean{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;width:20px}.dirty-indicator-clean.pull-left{margin-right:.3em}.dirty-indicator-clean.pull-right{margin-left:.3em}.dirty-indicator-clean:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f00c"}.dirty-indicator-clean:before.pull-left{margin-right:.3em}.dirty-indicator-clean:before.pull-right{margin-left:.3em}#filename{font-size:16pt;display:table;padding:0 5px}#current-mode{padding-left:5px;padding-right:5px}#texteditor-backdrop{padding-top:20px;padding-bottom:20px}@media not print{#texteditor-backdrop{background-color:#eee}}@media print{#texteditor-backdrop #texteditor-container .CodeMirror-gutter,#texteditor-backdrop #texteditor-container .CodeMirror-gutters{background-color:#fff}}@media not print{#texteditor-backdrop #texteditor-container .CodeMirror-gutter,#texteditor-backdrop #texteditor-container .CodeMirror-gutters{background-color:#fff}#texteditor-backdrop #texteditor-container{padding:0;background-color:#fff;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}}/*!
*
* IPython notebook
*
*/.ansibold{font-weight:700}.ansiblack{color:#000}.ansired{color:#8b0000}.ansigreen{color:#006400}.ansiyellow{color:#c4a000}.ansiblue{color:#00008b}.ansipurple{color:#9400d3}.ansicyan{color:#4682b4}.ansigray{color:gray}.ansibgblack{background-color:#000}.ansibgred{background-color:red}.ansibggreen{background-color:green}.ansibgyellow{background-color:#ff0}.ansibgblue{background-color:#00f}.ansibgpurple{background-color:#ff00ff}.ansibgcyan{background-color:#0ff}.ansibggray{background-color:gray}div.cell{border:1px solid transparent;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;border-radius:2px;box-sizing:border-box;-moz-box-sizing:border-box;border-width:thin;border-style:solid;width:100%;padding:5px;margin:0;outline:0}div.cell.selected{border-color:#ababab}@media print{div.cell.selected{border-color:transparent}}.edit_mode div.cell.selected{border-color:green}.prompt{min-width:14ex;padding:.4em;margin:0;font-family:monospace;text-align:right;line-height:1.21429em}div.inner_cell{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}@-moz-document url-prefix(){div.inner_cell{overflow-x:hidden}}div.input_area{border:1px solid #cfcfcf;border-radius:2px;background:#f7f7f7;line-height:1.21429em}div.prompt:empty{padding-top:0;padding-bottom:0}div.unrecognized_cell{padding:5px 5px 5px 0;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.unrecognized_cell .inner_cell{border-radius:2px;padding:5px;font-weight:700;color:red;border:1px solid #cfcfcf;background:#eaeaea}div.unrecognized_cell .inner_cell a,div.unrecognized_cell .inner_cell a:hover{color:inherit;text-decoration:none}@media (max-width:540px){.prompt{text-align:left}div.unrecognized_cell>div.prompt{display:none}}div.code_cell{}div.input{page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.input{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.input_prompt{color:navy;border-top:1px solid transparent}div.input_area>div.highlight{margin:.4em;border:none;padding:0;background-color:transparent}div.input_area>div.highlight>pre{margin:0;border:none;padding:0;background-color:transparent}.CodeMirror{line-height:1.21429em;font-size:14px;height:auto;background:0 0}.CodeMirror-scroll{overflow-y:hidden;overflow-x:auto}.CodeMirror-lines{padding:.4em}.CodeMirror-linenumber{padding:0 8px 0 4px}.CodeMirror-gutters{border-bottom-left-radius:2px;border-top-left-radius:2px}.CodeMirror pre{padding:0;border:0;border-radius:0}.highlight-base,.highlight-variable{color:#000}.highlight-variable-2{color:#1a1a1a}.highlight-variable-3{color:#333}.highlight-string{color:#BA2121}.highlight-comment{color:#408080;font-style:italic}.highlight-number{color:#080}.highlight-atom{color:#88F}.highlight-keyword{color:green;font-weight:700}.highlight-builtin{color:green}.highlight-error{color:red}.highlight-operator{color:#A2F;font-weight:700}.highlight-meta{color:#A2F}.highlight-def{color:#00f}.highlight-string-2{color:#f50}.highlight-qualifier{color:#555}.highlight-bracket{color:#997}.highlight-tag{color:#170}.highlight-attribute{color:#00c}.highlight-header{color:#00f}.highlight-quote{color:#090}.highlight-link{color:#00c}.cm-s-ipython span.cm-keyword{color:green;font-weight:700}.cm-s-ipython span.cm-atom{color:#88F}.cm-s-ipython span.cm-number{color:#080}.cm-s-ipython span.cm-def{color:#00f}.cm-s-ipython span.cm-variable{color:#000}.cm-s-ipython span.cm-operator{color:#A2F;font-weight:700}.cm-s-ipython span.cm-variable-2{color:#1a1a1a}.cm-s-ipython span.cm-variable-3{color:#333}.cm-s-ipython span.cm-comment{color:#408080;font-style:italic}.cm-s-ipython span.cm-string{color:#BA2121}.cm-s-ipython span.cm-string-2{color:#f50}.cm-s-ipython span.cm-meta{color:#A2F}.cm-s-ipython span.cm-qualifier{color:#555}.cm-s-ipython span.cm-builtin{color:green}.cm-s-ipython span.cm-bracket{color:#997}.cm-s-ipython span.cm-tag{color:#170}.cm-s-ipython span.cm-attribute{color:#00c}.cm-s-ipython span.cm-header{color:#00f}.cm-s-ipython span.cm-quote{color:#090}.cm-s-ipython span.cm-link{color:#00c}.cm-s-ipython span.cm-error{color:red}.cm-s-ipython span.cm-tab{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=')right no-repeat}div.output_wrapper{display:-webkit-box;-webkit-box-align:stretch;display:-moz-box;-moz-box-align:stretch;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch;z-index:1}div.output_scroll{height:24em;width:100%;overflow:auto;border-radius:2px;-webkit-box-shadow:inset 0 2px 8px rgba(0,0,0,.8);box-shadow:inset 0 2px 8px rgba(0,0,0,.8);display:block}div.output_collapsed{margin:0;padding:0;display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}div.out_prompt_overlay{height:100%;padding:0 .4em;position:absolute;border-radius:2px}div.out_prompt_overlay:hover{-webkit-box-shadow:inset 0 0 1px #000;box-shadow:inset 0 0 1px #000;background:rgba(240,240,240,.5)}div.output_prompt{color:#8b0000}div.output_area{padding:0;page-break-inside:avoid;display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}div.output_area .MathJax_Display{text-align:left!important}div.output_area .rendered_html img,div.output_area .rendered_html table{margin-left:0;margin-right:0}div.output_area img,div.output_area svg{max-width:100%;height:auto}div.output_area img.unconfined,div.output_area svg.unconfined{max-width:none}.output{display:-webkit-box;-webkit-box-orient:vertical;display:-moz-box;-moz-box-orient:vertical;display:box;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}@media (max-width:540px){div.output_area{-webkit-box-orient:vertical;-moz-box-orient:vertical;box-orient:vertical;box-align:stretch;display:flex;flex-direction:column;align-items:stretch}}div.output_area pre{margin:0;padding:0;border:0;vertical-align:baseline;color:#000;background-color:transparent;border-radius:0}div.output_subarea{overflow-x:auto;padding:.4em;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1;max-width:calc(100% - 14ex)}div.output_text{text-align:left;color:#000;line-height:1.21429em}div.output_stderr{background:#fdd}div.output_latex{text-align:left}div.output_javascript:empty{padding:0}.js-error{color:#8b0000}div.raw_input_container{font-family:monospace;padding-top:5px}span.raw_input_prompt{}input.raw_input{font-family:inherit;font-size:inherit;color:inherit;width:auto;vertical-align:baseline;padding:0 .25em;margin:0 .25em}input.raw_input:focus{box-shadow:none}p.p-space{margin-bottom:10px}div.output_unrecognized{padding:5px;font-weight:700;color:red}div.output_unrecognized a,div.output_unrecognized a:hover{color:inherit;text-decoration:none}.rendered_html{color:#000}.rendered_html em{font-style:italic}.rendered_html strong{font-weight:700}.rendered_html :link,.rendered_html :visited,.rendered_html u{text-decoration:underline}.rendered_html h1{font-size:185.7%;margin:1.08em 0 0;font-weight:700;line-height:1}.rendered_html h2{font-size:157.1%;margin:1.27em 0 0;font-weight:700;line-height:1}.rendered_html h3{font-size:128.6%;margin:1.55em 0 0;font-weight:700;line-height:1}.rendered_html h4{font-size:100%;margin:2em 0 0;font-weight:700;line-height:1}.rendered_html h5,.rendered_html h6{font-size:100%;margin:2em 0 0;font-weight:700;line-height:1;font-style:italic}.rendered_html h1:first-child{margin-top:.538em}.rendered_html h2:first-child{margin-top:.636em}.rendered_html h3:first-child{margin-top:.777em}.rendered_html h4:first-child,.rendered_html h5:first-child,.rendered_html h6:first-child{margin-top:1em}.rendered_html ul{list-style:disc;margin:0 2em;padding-left:0}.rendered_html ul ul{list-style:square;margin:0 2em}.rendered_html ul ul ul{list-style:circle;margin:0 2em}.rendered_html ol{list-style:decimal;margin:0 2em;padding-left:0}.rendered_html ol ol{list-style:upper-alpha;margin:0 2em}.rendered_html ol ol ol{list-style:lower-alpha;margin:0 2em}.rendered_html ol ol ol ol{list-style:lower-roman;margin:0 2em}.rendered_html ol ol ol ol ol{list-style:decimal;margin:0 2em}.rendered_html *+ol,.rendered_html *+ul{margin-top:1em}.rendered_html hr{color:#000;background-color:#000}.rendered_html pre{margin:1em 2em}.rendered_html code,.rendered_html pre{border:0;background-color:#fff;color:#000;font-size:100%;padding:0}.rendered_html blockquote{margin:1em 2em}.rendered_html table{margin-left:auto;margin-right:auto;border:1px solid #000;border-collapse:collapse}.rendered_html td,.rendered_html th,.rendered_html tr{border:1px solid #000;border-collapse:collapse;margin:1em 2em}.rendered_html td,.rendered_html th{text-align:left;vertical-align:middle;padding:4px}.rendered_html th{font-weight:700}.rendered_html *+table{margin-top:1em}.rendered_html p{text-align:left}.rendered_html *+p{margin-top:1em}.rendered_html img{display:block;margin-left:auto;margin-right:auto}.rendered_html *+img{margin-top:1em}.rendered_html img,.rendered_html svg{max-width:100%;height:auto}.rendered_html img.unconfined,.rendered_html svg.unconfined{max-width:none}div.text_cell{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}@media (max-width:540px){div.text_cell>div.prompt{display:none}}div.text_cell_render{outline:0;resize:none;width:inherit;border-style:none;padding:.5em .5em .5em .4em;color:#000;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}a.anchor-link:link{text-decoration:none;padding:0 20px;visibility:hidden}h1:hover .anchor-link,h2:hover .anchor-link,h3:hover .anchor-link,h4:hover .anchor-link,h5:hover .anchor-link,h6:hover .anchor-link{visibility:visible}.text_cell.rendered .input_area{display:none}.text_cell.rendered .rendered_html{overflow-x:auto}.text_cell.unrendered .text_cell_render{display:none}.cm-header-1,.cm-header-2,.cm-header-3,.cm-header-4,.cm-header-5,.cm-header-6{font-weight:700;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.cm-header-1{font-size:185.7%}.cm-header-2{font-size:157.1%}.cm-header-3{font-size:128.6%}.cm-header-4{font-size:110%}.cm-header-5,.cm-header-6{font-size:100%;font-style:italic}/*!
*
* IPython notebook webapp
*
*/@media (max-width:767px){.notebook_app{padding-left:0;padding-right:0}}#ipython-main-app{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;height:100%}div#notebook_panel{margin:0;padding:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;height:100%}#notebook{font-size:14px;line-height:20px;overflow-y:hidden;overflow-x:auto;width:100%;padding-top:20px;margin:0;outline:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;min-height:100%}@media not print{#notebook-container{padding:15px;background-color:#fff;min-height:0;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}}div.ui-widget-content{border:1px solid #ababab;outline:0}pre.dialog{background-color:#f7f7f7;border:1px solid #ddd;border-radius:2px;padding:.4em .4em .4em 2em}p.dialog{padding:.2em}code,kbd,pre,samp{white-space:pre-wrap}#fonttest{font-family:monospace}p{margin-bottom:0}.end_space{min-height:100px;transition:height .2s ease}.notebook_app #header{-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}@media not print{.notebook_app{background-color:#eee}}.celltoolbar{border:thin solid #CFCFCF;border-bottom:none;background:#EEE;border-radius:2px 2px 0 0;width:100%;height:29px;padding-right:4px;-webkit-box-orient:horizontal;-moz-box-orient:horizontal;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch;-webkit-box-pack:end;-moz-box-pack:end;box-pack:end;justify-content:flex-end;font-size:87%;padding-top:3px}@media print{.edit_mode div.cell.selected{border-color:transparent}div.code_cell{page-break-inside:avoid}#notebook-container{width:100%}.celltoolbar{display:none}}.ctb_hideshow{display:none;vertical-align:bottom}.ctb_global_show .ctb_show.ctb_hideshow{display:block}.ctb_global_show .ctb_show+.input_area,.ctb_global_show .ctb_show+div.text_cell_input,.ctb_global_show .ctb_show~div.text_cell_render{border-top-right-radius:0;border-top-left-radius:0}.ctb_global_show .ctb_show~div.text_cell_render{border:1px solid #cfcfcf}.celltoolbar select{color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;-o-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s;line-height:1.5;border-radius:1px;width:inherit;font-size:inherit;height:22px;padding:0;display:inline-block}.celltoolbar select:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.celltoolbar select::-moz-placeholder{color:#999;opacity:1}.celltoolbar select:-ms-input-placeholder{color:#999}.celltoolbar select::-webkit-input-placeholder{color:#999}.celltoolbar select[disabled],.celltoolbar select[readonly],fieldset[disabled] .celltoolbar select{background-color:#eee;opacity:1}.celltoolbar select[disabled],fieldset[disabled] .celltoolbar select{cursor:not-allowed}textarea.celltoolbar select{height:auto}select.celltoolbar select{height:30px;line-height:30px}select[multiple].celltoolbar select,textarea.celltoolbar select{height:auto}.celltoolbar label{margin-left:5px;margin-right:5px}.completions{position:absolute;z-index:10;overflow:hidden;border:1px solid #ababab;border-radius:2px;-webkit-box-shadow:0 6px 10px -1px #adadad;box-shadow:0 6px 10px -1px #adadad;line-height:1}.completions select{background:#fff;outline:0;border:none;padding:0;margin:0;overflow:auto;font-family:monospace;font-size:110%;color:#000;width:auto}.completions select option.context{color:#286090}#kernel_logo_widget{float:right!important;float:right}#kernel_logo_widget .current_kernel_logo{display:none;margin-top:-1px;margin-bottom:-1px;width:32px;height:32px}#menubar{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;margin-top:1px}#menubar .navbar{border-top:1px;border-radius:0 0 2px 2px;margin-bottom:0}#menubar .navbar-toggle{float:left;padding-top:7px;padding-bottom:7px;border:none}#menubar .navbar-collapse{clear:left}.nav-wrapper{border-bottom:1px solid #e7e7e7}i.menu-icon{padding-top:4px}ul#help_menu li a{overflow:hidden;padding-right:2.2em}ul#help_menu li a i{margin-right:-1.2em}.dropdown-submenu{position:relative}.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px;margin-left:-1px}.dropdown-submenu:hover>.dropdown-menu{display:block}.dropdown-submenu>a:after{font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:block;content:"\f0da";float:right;color:#333;margin-top:2px;margin-right:-10px}.dropdown-submenu>a:after.pull-left{margin-right:.3em}.dropdown-submenu>a:after.pull-right{margin-left:.3em}.dropdown-submenu:hover>a:after{color:#262626}.dropdown-submenu.pull-left{float:none}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px}#notification_area{float:right!important;float:right;z-index:10}.indicator_area{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto}#kernel_indicator{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto;border-left:1px solid}#kernel_indicator .kernel_indicator_name{padding-left:5px;padding-right:5px}#modal_indicator{float:right!important;float:right;color:#777;margin-left:5px;margin-right:5px;z-index:10;text-align:center;width:auto}#readonly-indicator{float:right!important;float:right;color:#777;z-index:10;text-align:center;width:auto;display:none;margin:2px 0 0}.modal_indicator:before{width:1.28571429em;text-align:center}.edit_mode .modal_indicator:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f040"}.edit_mode .modal_indicator:before.pull-left{margin-right:.3em}.edit_mode .modal_indicator:before.pull-right{margin-left:.3em}.command_mode .modal_indicator:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:' '}.command_mode .modal_indicator:before.pull-left{margin-right:.3em}.command_mode .modal_indicator:before.pull-right{margin-left:.3em}.kernel_idle_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f10c"}.kernel_idle_icon:before.pull-left{margin-right:.3em}.kernel_idle_icon:before.pull-right{margin-left:.3em}.kernel_busy_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f111"}.kernel_busy_icon:before.pull-left{margin-right:.3em}.kernel_busy_icon:before.pull-right{margin-left:.3em}.kernel_dead_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f1e2"}.kernel_dead_icon:before.pull-left{margin-right:.3em}.kernel_dead_icon:before.pull-right{margin-left:.3em}.kernel_disconnected_icon:before{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:"\f127"}.kernel_disconnected_icon:before.pull-left{margin-right:.3em}.kernel_disconnected_icon:before.pull-right{margin-left:.3em}.notification_widget{z-index:10;background:rgba(240,240,240,.5);margin-right:4px;color:#333;background-color:#fff;border-color:#ccc}.notification_widget.active,.notification_widget.focus,.notification_widget:active,.notification_widget:focus,.notification_widget:hover,.open>.dropdown-toggle.notification_widget{color:#333;background-color:#e6e6e6;border-color:#adadad}.notification_widget.active,.notification_widget:active,.open>.dropdown-toggle.notification_widget{background-image:none}.notification_widget.disabled,.notification_widget.disabled.active,.notification_widget.disabled.focus,.notification_widget.disabled:active,.notification_widget.disabled:focus,.notification_widget.disabled:hover,.notification_widget[disabled],.notification_widget[disabled].active,.notification_widget[disabled].focus,.notification_widget[disabled]:active,.notification_widget[disabled]:focus,.notification_widget[disabled]:hover,fieldset[disabled] .notification_widget,fieldset[disabled] .notification_widget.active,fieldset[disabled] .notification_widget.focus,fieldset[disabled] .notification_widget:active,fieldset[disabled] .notification_widget:focus,fieldset[disabled] .notification_widget:hover{background-color:#fff;border-color:#ccc}.notification_widget .badge{color:#fff;background-color:#333}.notification_widget.warning{color:#fff;background-color:#f0ad4e;border-color:#eea236}.notification_widget.warning.active,.notification_widget.warning.focus,.notification_widget.warning:active,.notification_widget.warning:focus,.notification_widget.warning:hover,.open>.dropdown-toggle.notification_widget.warning{color:#fff;background-color:#ec971f;border-color:#d58512}.notification_widget.warning.active,.notification_widget.warning:active,.open>.dropdown-toggle.notification_widget.warning{background-image:none}.notification_widget.warning.disabled,.notification_widget.warning.disabled.active,.notification_widget.warning.disabled.focus,.notification_widget.warning.disabled:active,.notification_widget.warning.disabled:focus,.notification_widget.warning.disabled:hover,.notification_widget.warning[disabled],.notification_widget.warning[disabled].active,.notification_widget.warning[disabled].focus,.notification_widget.warning[disabled]:active,.notification_widget.warning[disabled]:focus,.notification_widget.warning[disabled]:hover,fieldset[disabled] .notification_widget.warning,fieldset[disabled] .notification_widget.warning.active,fieldset[disabled] .notification_widget.warning.focus,fieldset[disabled] .notification_widget.warning:active,fieldset[disabled] .notification_widget.warning:focus,fieldset[disabled] .notification_widget.warning:hover{background-color:#f0ad4e;border-color:#eea236}.notification_widget.warning .badge{color:#f0ad4e;background-color:#fff}.notification_widget.success{color:#fff;background-color:#5cb85c;border-color:#4cae4c}.notification_widget.success.active,.notification_widget.success.focus,.notification_widget.success:active,.notification_widget.success:focus,.notification_widget.success:hover,.open>.dropdown-toggle.notification_widget.success{color:#fff;background-color:#449d44;border-color:#398439}.notification_widget.success.active,.notification_widget.success:active,.open>.dropdown-toggle.notification_widget.success{background-image:none}.notification_widget.success.disabled,.notification_widget.success.disabled.active,.notification_widget.success.disabled.focus,.notification_widget.success.disabled:active,.notification_widget.success.disabled:focus,.notification_widget.success.disabled:hover,.notification_widget.success[disabled],.notification_widget.success[disabled].active,.notification_widget.success[disabled].focus,.notification_widget.success[disabled]:active,.notification_widget.success[disabled]:focus,.notification_widget.success[disabled]:hover,fieldset[disabled] .notification_widget.success,fieldset[disabled] .notification_widget.success.active,fieldset[disabled] .notification_widget.success.focus,fieldset[disabled] .notification_widget.success:active,fieldset[disabled] .notification_widget.success:focus,fieldset[disabled] .notification_widget.success:hover{background-color:#5cb85c;border-color:#4cae4c}.notification_widget.success .badge{color:#5cb85c;background-color:#fff}.notification_widget.info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.notification_widget.info.active,.notification_widget.info.focus,.notification_widget.info:active,.notification_widget.info:focus,.notification_widget.info:hover,.open>.dropdown-toggle.notification_widget.info{color:#fff;background-color:#31b0d5;border-color:#269abc}.notification_widget.info.active,.notification_widget.info:active,.open>.dropdown-toggle.notification_widget.info{background-image:none}.notification_widget.info.disabled,.notification_widget.info.disabled.active,.notification_widget.info.disabled.focus,.notification_widget.info.disabled:active,.notification_widget.info.disabled:focus,.notification_widget.info.disabled:hover,.notification_widget.info[disabled],.notification_widget.info[disabled].active,.notification_widget.info[disabled].focus,.notification_widget.info[disabled]:active,.notification_widget.info[disabled]:focus,.notification_widget.info[disabled]:hover,fieldset[disabled] .notification_widget.info,fieldset[disabled] .notification_widget.info.active,fieldset[disabled] .notification_widget.info.focus,fieldset[disabled] .notification_widget.info:active,fieldset[disabled] .notification_widget.info:focus,fieldset[disabled] .notification_widget.info:hover{background-color:#5bc0de;border-color:#46b8da}.notification_widget.info .badge{color:#5bc0de;background-color:#fff}.notification_widget.danger{color:#fff;background-color:#d9534f;border-color:#d43f3a}.notification_widget.danger.active,.notification_widget.danger.focus,.notification_widget.danger:active,.notification_widget.danger:focus,.notification_widget.danger:hover,.open>.dropdown-toggle.notification_widget.danger{color:#fff;background-color:#c9302c;border-color:#ac2925}.notification_widget.danger.active,.notification_widget.danger:active,.open>.dropdown-toggle.notification_widget.danger{background-image:none}.notification_widget.danger.disabled,.notification_widget.danger.disabled.active,.notification_widget.danger.disabled.focus,.notification_widget.danger.disabled:active,.notification_widget.danger.disabled:focus,.notification_widget.danger.disabled:hover,.notification_widget.danger[disabled],.notification_widget.danger[disabled].active,.notification_widget.danger[disabled].focus,.notification_widget.danger[disabled]:active,.notification_widget.danger[disabled]:focus,.notification_widget.danger[disabled]:hover,fieldset[disabled] .notification_widget.danger,fieldset[disabled] .notification_widget.danger.active,fieldset[disabled] .notification_widget.danger.focus,fieldset[disabled] .notification_widget.danger:active,fieldset[disabled] .notification_widget.danger:focus,fieldset[disabled] .notification_widget.danger:hover{background-color:#d9534f;border-color:#d43f3a}.notification_widget.danger .badge{color:#d9534f;background-color:#fff}div#pager{background-color:#fff;font-size:14px;line-height:20px;overflow:hidden;display:none;position:fixed;bottom:0;width:100%;max-height:50%;padding-top:8px;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2);z-index:100;top:auto!important}div#pager pre{line-height:1.21429em;color:#000;background-color:#f7f7f7;padding:.4em}div#pager #pager-button-area{position:absolute;top:8px;right:20px}div#pager #pager-contents{position:relative;overflow:auto;width:100%;height:100%}div#pager #pager-contents #pager-container{position:relative;padding:15px 0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}div#pager .ui-resizable-handle{top:0;height:8px;background:#f7f7f7;border-top:1px solid #cfcfcf;border-bottom:1px solid #cfcfcf}div#pager .ui-resizable-handle::after{content:'';top:2px;left:50%;height:3px;width:30px;margin-left:-15px;position:absolute;border-top:1px solid #cfcfcf}.quickhelp{display:-webkit-box;-webkit-box-orient:horizontal;display:-moz-box;-moz-box-orient:horizontal;display:box;box-orient:horizontal;box-align:stretch;display:flex;flex-direction:row;align-items:stretch}.shortcut_key{display:inline-block;width:20ex;text-align:right;font-family:monospace}.shortcut_descr{display:inline-block;-webkit-box-flex:1;-moz-box-flex:1;box-flex:1;flex:1}span.save_widget{margin-top:6px}span.save_widget span.filename{height:1em;line-height:1em;padding:3px;margin-left:16px;border:none;font-size:146.5%;border-radius:2px}span.save_widget span.filename:hover{background-color:#e6e6e6}span.autosave_status,span.checkpoint_status{font-size:small}@media (max-width:767px){span.save_widget{font-size:small}span.autosave_status,span.checkpoint_status{display:none}}@media (min-width:768px)and (max-width:991px){span.checkpoint_status{display:none}span.autosave_status{font-size:x-small}}.toolbar{padding:0;margin-left:-5px;margin-top:2px;margin-bottom:5px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.toolbar label,.toolbar select{width:auto;vertical-align:middle;margin-bottom:0;display:inline;font-size:92%;margin-left:.3em;margin-right:.3em;padding:3px 0 0}.toolbar .btn{padding:2px 8px}.toolbar .btn-group{margin-top:0;margin-left:5px}#maintoolbar{margin-bottom:-3px;margin-top:-8px;border:0;min-height:27px;margin-left:0;padding-top:11px;padding-bottom:3px}#maintoolbar .navbar-text{float:none;vertical-align:middle;text-align:right;margin-left:5px;margin-right:0;margin-top:0}.select-xs{height:24px}@-moz-keyframes fadeOut{from{opacity:1}to{opacity:0}}@-webkit-keyframes fadeOut{from{opacity:1}to{opacity:0}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}.bigtooltip{overflow:auto;height:200px;-webkit-transition-property:height;-webkit-transition-duration:500ms;-moz-transition-property:height;-moz-transition-duration:500ms;transition-property:height;transition-duration:500ms}.smalltooltip{-webkit-transition-property:height;-webkit-transition-duration:500ms;-moz-transition-property:height;-moz-transition-duration:500ms;transition-property:height;transition-duration:500ms;text-overflow:ellipsis;overflow:hidden;height:80px}.tooltipbuttons{position:absolute;padding-right:15px;top:0;right:0}.tooltiptext{padding-right:30px}.ipython_tooltip{max-width:700px;animation:fadeOut 400ms;-webkit-animation:fadeIn 400ms;-moz-animation:fadeIn 400ms;animation:fadeIn 400ms;vertical-align:middle;background-color:#f7f7f7;overflow:visible;border:1px solid #ababab;outline:0;padding:3px 3px 3px 7px;padding-left:7px;font-family:monospace;min-height:50px;-moz-box-shadow:0 6px 10px -1px #adadad;-webkit-box-shadow:0 6px 10px -1px #adadad;box-shadow:0 6px 10px -1px #adadad;border-radius:2px;position:absolute;z-index:1000}.ipython_tooltip a{float:right}.ipython_tooltip .tooltiptext pre{border:0;border-radius:0;font-size:100%;background-color:#f7f7f7}.pretooltiparrow{left:0;margin:0;top:-16px;width:40px;height:16px;overflow:hidden;position:absolute}.pretooltiparrow:before{background-color:#f7f7f7;border:1px solid #ababab;z-index:11;content:"";position:absolute;left:15px;top:10px;width:25px;height:25px;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg)}.terminal-app{background:#eee}.terminal-app #header{background:#fff;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.2);box-shadow:0 0 12px 1px rgba(87,87,87,.2)}.terminal-app .terminal{float:left;font-family:monospace;color:#fff;background:#000;padding:.4em;border-radius:2px;-webkit-box-shadow:0 0 12px 1px rgba(87,87,87,.4);box-shadow:0 0 12px 1px rgba(87,87,87,.4)}.terminal-app .terminal,.terminal-app .terminal dummy-screen{line-height:1em;font-size:14px}.terminal-app .terminal-cursor{color:#000;background:#fff}.terminal-app #terminado-container{margin-top:20px}
/*# sourceMappingURL=style.min.css.map */
    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>


<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}

@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  } 
  div.output_wrapper { 
    display: block;
    page-break-inside: avoid; 
  }
  div.output { 
    display: block;
    page-break-inside: avoid; 
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="http://www.berkeley.edu/brand/img/seals/ucbseal_139_540.png" alt="ML Logo"></p>
<h1 id="Click-Through-Rate-Prediction-Lab"><strong>Click-Through Rate Prediction Lab</strong><a class="anchor-link" href="#Click-Through-Rate-Prediction-Lab">&#182;</a></h1><h4 id="This-lab-covers-the-steps-for-creating-a-click-through-rate-(CTR)-prediction-pipeline.--You-will-work-with-the-Criteo-Labs-dataset-that-was-used-for-a-recent-Kaggle-competition.">This lab covers the steps for creating a click-through rate (CTR) prediction pipeline.  You will work with the <a href="http://labs.criteo.com/">Criteo Labs</a> dataset that was used for a recent <a href="https://www.kaggle.com/c/criteo-display-ad-challenge">Kaggle competition</a>.<a class="anchor-link" href="#This-lab-covers-the-steps-for-creating-a-click-through-rate-(CTR)-prediction-pipeline.--You-will-work-with-the-Criteo-Labs-dataset-that-was-used-for-a-recent-Kaggle-competition.">&#182;</a></h4><h4 id="-This-lab-will-cover:-"><strong> This lab will cover: </strong><a class="anchor-link" href="#-This-lab-will-cover:-">&#182;</a></h4><ul>
<li>####<em>Part 1:</em> Featurize categorical data using one-hot-encoding (OHE)</li>
<li>####<em>Part 2:</em> Construct an OHE dictionary</li>
<li>####<em>Part 3:</em> Parse CTR data and generate OHE features<ul>
<li>#### <em>Visualization 1:</em> Feature frequency</li>
</ul>
</li>
<li>####<em>Part 4:</em> CTR prediction and logloss evaluation<ul>
<li>#### <em>Visualization 2:</em> ROC curve</li>
</ul>
</li>
<li>####<em>Part 5:</em> Reduce feature dimension via feature hashing<ul>
<li>#### <em>Visualization 3:</em> Hyperparameter heat map</li>
</ul>
</li>
</ul>
<h4 id="Note-that,-for-reference,-you-can-look-up-the-details-of-the-relevant-Spark-methods-in-Spark's-Python-API-and-the-relevant-NumPy-methods-in-the-NumPy-Reference">Note that, for reference, you can look up the details of the relevant Spark methods in <a href="https://spark.apache.org/docs/latest/api/python/pyspark.html#pyspark.RDD">Spark's Python API</a> and the relevant NumPy methods in the <a href="http://docs.scipy.org/doc/numpy/reference/index.html">NumPy Reference</a><a class="anchor-link" href="#Note-that,-for-reference,-you-can-look-up-the-details-of-the-relevant-Spark-methods-in-Spark's-Python-API-and-the-relevant-NumPy-methods-in-the-NumPy-Reference">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">labVersion</span> <span class="o">=</span> <span class="s">&#39;MIDS_MLS_week12_v_0_9&#39;</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="-Part-1:-Featurize-categorical-data-using-one-hot-encoding-"><strong> Part 1: Featurize categorical data using one-hot-encoding </strong><a class="anchor-link" href="#-Part-1:-Featurize-categorical-data-using-one-hot-encoding-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(1a)-One-hot-encoding-"><strong> (1a) One-hot-encoding </strong><a class="anchor-link" href="#-(1a)-One-hot-encoding-">&#182;</a></h4><h4 id="We-would-like-to-develop-code-to-convert-categorical-features-to-numerical-ones,-and-to-build-intuition,-we-will-work-with-a-sample-unlabeled-dataset-with-three-data-points,-with-each-data-point-representing-an-animal.-The-first-feature-indicates-the-type-of-animal-(bear,-cat,-mouse);-the-second-feature-describes-the-animal's-color-(black,-tabby);-and-the-third-(optional)-feature-describes-what-the-animal-eats-(mouse,-salmon).">We would like to develop code to convert categorical features to numerical ones, and to build intuition, we will work with a sample unlabeled dataset with three data points, with each data point representing an animal. The first feature indicates the type of animal (bear, cat, mouse); the second feature describes the animal's color (black, tabby); and the third (optional) feature describes what the animal eats (mouse, salmon).<a class="anchor-link" href="#We-would-like-to-develop-code-to-convert-categorical-features-to-numerical-ones,-and-to-build-intuition,-we-will-work-with-a-sample-unlabeled-dataset-with-three-data-points,-with-each-data-point-representing-an-animal.-The-first-feature-indicates-the-type-of-animal-(bear,-cat,-mouse);-the-second-feature-describes-the-animal's-color-(black,-tabby);-and-the-third-(optional)-feature-describes-what-the-animal-eats-(mouse,-salmon).">&#182;</a></h4><h4 id="In-a-one-hot-encoding-(OHE)-scheme,-we-want-to-represent-each-tuple-of-(featureID,-category)-via-its-own-binary-feature.--We-can-do-this-in-Python-by-creating-a-dictionary-that-maps-each-tuple-to-a-distinct-integer,-where-the-integer-corresponds-to-a-binary-feature.-To-start,-manually-enter-the-entries-in-the-OHE-dictionary-associated-with-the-sample-dataset-by-mapping-the-tuples-to-consecutive-integers-starting-from-zero,--ordering-the-tuples-first-by-featureID-and-next-by-category.">In a one-hot-encoding (OHE) scheme, we want to represent each tuple of <code>(featureID, category)</code> via its own binary feature.  We can do this in Python by creating a dictionary that maps each tuple to a distinct integer, where the integer corresponds to a binary feature. To start, manually enter the entries in the OHE dictionary associated with the sample dataset by mapping the tuples to consecutive integers starting from zero,  ordering the tuples first by featureID and next by category.<a class="anchor-link" href="#In-a-one-hot-encoding-(OHE)-scheme,-we-want-to-represent-each-tuple-of-(featureID,-category)-via-its-own-binary-feature.--We-can-do-this-in-Python-by-creating-a-dictionary-that-maps-each-tuple-to-a-distinct-integer,-where-the-integer-corresponds-to-a-binary-feature.-To-start,-manually-enter-the-entries-in-the-OHE-dictionary-associated-with-the-sample-dataset-by-mapping-the-tuples-to-consecutive-integers-starting-from-zero,--ordering-the-tuples-first-by-featureID-and-next-by-category.">&#182;</a></h4><h4 id="Later-in-this-lab,-we'll-use-OHE-dictionaries-to-transform-data-points-into-compact-lists-of-features-that-can-be-used-in-machine-learning-algorithms.">Later in this lab, we'll use OHE dictionaries to transform data points into compact lists of features that can be used in machine learning algorithms.<a class="anchor-link" href="#Later-in-this-lab,-we'll-use-OHE-dictionaries-to-transform-data-points-into-compact-lists-of-features-that-can-be-used-in-machine-learning-algorithms.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="c">#Escape L for line numbers</span>
<span class="n">spark_home</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&#39;SPARK_HOME&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;/Users/ssatpati/0-DATASCIENCE/TOOLS/spark-1.5.1-bin-hadoop2.6&#39;</span>
<span class="c">#spark_home = os.environ[&#39;SPARK_HOME&#39;] = &#39;/Users/jshanahan/Dropbox/Lectures-UC-Berkeley-ML-Class-2015/spark-1.5.0-bin-hadoop2.6/&#39;</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">spark_home</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s">&#39;SPARK_HOME enviroment variable is not set&#39;</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">spark_home</span><span class="p">,</span><span class="s">&#39;python&#39;</span><span class="p">))</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">spark_home</span><span class="p">,</span><span class="s">&#39;python/lib/py4j-0.8.2.1-src.zip&#39;</span><span class="p">))</span>
<span class="nb">execfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">spark_home</span><span class="p">,</span><span class="s">&#39;python/pyspark/shell.py&#39;</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ &#96;/ __/  &apos;_/
   /__ / .__/\_,_/_/ /_/\_\   version 1.5.1
      /_/

Using Python version 2.7.10 (default, Oct 19 2015 18:31:17)
SparkContext available as sc, HiveContext available as sqlContext.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Data for manual OHE</span>
<span class="c"># Note: the first data point does not include any value for the optional third feature</span>
<span class="n">sampleOne</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;black&#39;</span><span class="p">)]</span>
<span class="n">sampleTwo</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;cat&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;tabby&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">)]</span>
<span class="n">sampleThree</span> <span class="o">=</span>  <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;bear&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;black&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;salmon&#39;</span><span class="p">)]</span>
<span class="n">sampleDataRDD</span> <span class="o">=</span> <span class="n">sc</span><span class="o">.</span><span class="n">parallelize</span><span class="p">([</span><span class="n">sampleOne</span><span class="p">,</span> <span class="n">sampleTwo</span><span class="p">,</span> <span class="n">sampleThree</span><span class="p">])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">sampleOHEDictManual</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;bear&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;cat&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;mouse&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;black&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;tabby&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;mouse&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;salmon&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">6</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST One-hot-encoding (1a)</span>
<span class="kn">from</span> <span class="nn">test_helper</span> <span class="kn">import</span> <span class="n">Test</span>

<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;bear&#39;</span><span class="p">)],</span>
                        <span class="s">&#39;b6589fc6ab0dc82cf12099d1c2d40ab994e8410c&#39;</span><span class="p">,</span>
                        <span class="s">&quot;incorrect value for sampleOHEDictManual[(0,&#39;bear&#39;)]&quot;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;cat&#39;</span><span class="p">)],</span>
                        <span class="s">&#39;356a192b7913b04c54574d18c28d46e6395428ab&#39;</span><span class="p">,</span>
                        <span class="s">&quot;incorrect value for sampleOHEDictManual[(0,&#39;cat&#39;)]&quot;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="s">&#39;mouse&#39;</span><span class="p">)],</span>
                        <span class="s">&#39;da4b9237bacccdf19c0760cab7aec4a8359010b0&#39;</span><span class="p">,</span>
                        <span class="s">&quot;incorrect value for sampleOHEDictManual[(0,&#39;mouse&#39;)]&quot;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;black&#39;</span><span class="p">)],</span>
                        <span class="s">&#39;77de68daecd823babbb58edb1c8e14d7106e83bb&#39;</span><span class="p">,</span>
                        <span class="s">&quot;incorrect value for sampleOHEDictManual[(1,&#39;black&#39;)]&quot;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="s">&#39;tabby&#39;</span><span class="p">)],</span>
                        <span class="s">&#39;1b6453892473a467d07372d45eb05abc2031647a&#39;</span><span class="p">,</span>
                        <span class="s">&quot;incorrect value for sampleOHEDictManual[(1,&#39;tabby&#39;)]&quot;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;mouse&#39;</span><span class="p">)],</span>
                        <span class="s">&#39;ac3478d69a3c81fa62e60f5c3696165a4e5e6ac4&#39;</span><span class="p">,</span>
                        <span class="s">&quot;incorrect value for sampleOHEDictManual[(2,&#39;mouse&#39;)]&quot;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">[(</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;salmon&#39;</span><span class="p">)],</span>
                        <span class="s">&#39;c1dfd96eea8cc2b62785275bca38ac261256e278&#39;</span><span class="p">,</span>
                        <span class="s">&quot;incorrect value for sampleOHEDictManual[(2,&#39;salmon&#39;)]&quot;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="mi">7</span><span class="p">,</span>
                  <span class="s">&#39;incorrect number of keys in sampleOHEDictManual&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
1 test passed.
1 test passed.
1 test passed.
1 test passed.
1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(1b)-Sparse-vectors-"><strong> (1b) Sparse vectors </strong><a class="anchor-link" href="#-(1b)-Sparse-vectors-">&#182;</a></h4><h4 id="Data-points-can-typically-be-represented-with-a-small-number-of-non-zero-OHE-features-relative-to-the-total-number-of-features-that-occur-in-the-dataset.--By-leveraging-this-sparsity-and-using-sparse-vector-representations-of-OHE-data,-we-can-reduce-storage-and-computational-burdens.--Below-are-a-few-sample-vectors-represented-as-dense-numpy-arrays.--Use-SparseVector-to-represent-them-in-a-sparse-fashion,-and-verify-that-both-the-sparse-and-dense-representations-yield-the-same-results-when-computing-dot-products-(we-will-later-use-MLlib-to-train-classifiers-via-gradient-descent,-and-MLlib-will-need-to-compute-dot-products-between-SparseVectors-and-dense-parameter-vectors).">Data points can typically be represented with a small number of non-zero OHE features relative to the total number of features that occur in the dataset.  By leveraging this sparsity and using sparse vector representations of OHE data, we can reduce storage and computational burdens.  Below are a few sample vectors represented as dense numpy arrays.  Use <a href="https://spark.apache.org/docs/latest/api/python/pyspark.mllib.html#pyspark.mllib.linalg.SparseVector">SparseVector</a> to represent them in a sparse fashion, and verify that both the sparse and dense representations yield the same results when computing <a href="http://en.wikipedia.org/wiki/Dot_product">dot products</a> (we will later use MLlib to train classifiers via gradient descent, and MLlib will need to compute dot products between SparseVectors and dense parameter vectors).<a class="anchor-link" href="#Data-points-can-typically-be-represented-with-a-small-number-of-non-zero-OHE-features-relative-to-the-total-number-of-features-that-occur-in-the-dataset.--By-leveraging-this-sparsity-and-using-sparse-vector-representations-of-OHE-data,-we-can-reduce-storage-and-computational-burdens.--Below-are-a-few-sample-vectors-represented-as-dense-numpy-arrays.--Use-SparseVector-to-represent-them-in-a-sparse-fashion,-and-verify-that-both-the-sparse-and-dense-representations-yield-the-same-results-when-computing-dot-products-(we-will-later-use-MLlib-to-train-classifiers-via-gradient-descent,-and-MLlib-will-need-to-compute-dot-products-between-SparseVectors-and-dense-parameter-vectors).">&#182;</a></h4><h4 id="Use-SparseVector(size,-*args)-to-create-a-new-sparse-vector-where-size-is-the-length-of-the-vector-and-args-is-either-a-dictionary,-a-list-of-(index,-value)-pairs,-or-two-separate-arrays-of-indices-and-values-(sorted-by-index).--You'll-need-to-create-a-sparse-vector-representation-of-each-dense-vector-aDense-and-bDense.">Use <code>SparseVector(size, *args)</code> to create a new sparse vector where size is the length of the vector and args is either a dictionary, a list of (index, value) pairs, or two separate arrays of indices and values (sorted by index).  You'll need to create a sparse vector representation of each dense vector <code>aDense</code> and <code>bDense</code>.<a class="anchor-link" href="#Use-SparseVector(size,-*args)-to-create-a-new-sparse-vector-where-size-is-the-length-of-the-vector-and-args-is-either-a-dictionary,-a-list-of-(index,-value)-pairs,-or-two-separate-arrays-of-indices-and-values-(sorted-by-index).--You'll-need-to-create-a-sparse-vector-representation-of-each-dense-vector-aDense-and-bDense.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">pyspark.mllib.linalg</span> <span class="kn">import</span> <span class="n">SparseVector</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">aDense</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">4.</span><span class="p">])</span>
<span class="n">aSparse</span> <span class="o">=</span> <span class="n">SparseVector</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">aDense</span><span class="p">),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>

<span class="n">bDense</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">])</span>
<span class="n">bSparse</span> <span class="o">=</span> <span class="n">SparseVector</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">aDense</span><span class="p">),</span> <span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>

<span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.4</span><span class="p">,</span> <span class="o">-.</span><span class="mi">5</span><span class="p">])</span>
<span class="k">print</span> <span class="n">aDense</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="k">print</span> <span class="n">aSparse</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="k">print</span> <span class="n">bDense</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
<span class="k">print</span> <span class="n">bSparse</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>7.3
7.3
-0.5
-0.5
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Sparse Vectors (1b)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">aSparse</span><span class="p">,</span> <span class="n">SparseVector</span><span class="p">),</span> <span class="s">&#39;aSparse needs to be an instance of SparseVector&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">bSparse</span><span class="p">,</span> <span class="n">SparseVector</span><span class="p">),</span> <span class="s">&#39;aSparse needs to be an instance of SparseVector&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">aDense</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="o">==</span> <span class="n">aSparse</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">),</span>
                <span class="s">&#39;dot product of aDense and w should equal dot product of aSparse and w&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">bDense</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="o">==</span> <span class="n">bSparse</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">),</span>
                <span class="s">&#39;dot product of bDense and w should equal dot product of bSparse and w&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(1c)-OHE-features-as-sparse-vectors-"><strong>(1c) OHE features as sparse vectors </strong><a class="anchor-link" href="#(1c)-OHE-features-as-sparse-vectors-">&#182;</a></h4><h4 id="Now-let's-see-how-we-can-represent-the-OHE-features-for-points-in-our-sample-dataset.--Using-the-mapping-defined-by-the-OHE-dictionary-from-Part-(1a),-manually-define-OHE-features-for-the-three-sample-data-points-using-SparseVector-format.--Any-feature-that-occurs-in-a-point-should-have-the-value-1.0.--For-example,-the-DenseVector-for-a-point-with-features-2-and-4-would-be-[0.0,-0.0,-1.0,-0.0,-1.0,-0.0,-0.0].">Now let's see how we can represent the OHE features for points in our sample dataset.  Using the mapping defined by the OHE dictionary from Part (1a), manually define OHE features for the three sample data points using SparseVector format.  Any feature that occurs in a point should have the value 1.0.  For example, the <code>DenseVector</code> for a point with features 2 and 4 would be <code>[0.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0]</code>.<a class="anchor-link" href="#Now-let's-see-how-we-can-represent-the-OHE-features-for-points-in-our-sample-dataset.--Using-the-mapping-defined-by-the-OHE-dictionary-from-Part-(1a),-manually-define-OHE-features-for-the-three-sample-data-points-using-SparseVector-format.--Any-feature-that-occurs-in-a-point-should-have-the-value-1.0.--For-example,-the-DenseVector-for-a-point-with-features-2-and-4-would-be-[0.0,-0.0,-1.0,-0.0,-1.0,-0.0,-0.0].">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Reminder of the sample features</span>
<span class="c"># sampleOne = [(0, &#39;mouse&#39;), (1, &#39;black&#39;)]</span>
<span class="c"># sampleTwo = [(0, &#39;cat&#39;), (1, &#39;tabby&#39;), (2, &#39;mouse&#39;)]</span>
<span class="c"># sampleThree =  [(0, &#39;bear&#39;), (1, &#39;black&#39;), (2, &#39;salmon&#39;)]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">sampleOneOHEFeatManual</span> <span class="o">=</span> <span class="n">SparseVector</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">),</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="n">sampleTwoOHEFeatManual</span> <span class="o">=</span> <span class="n">SparseVector</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">),</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
<span class="n">sampleThreeOHEFeatManual</span> <span class="o">=</span> <span class="n">SparseVector</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">),</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="mi">1</span><span class="p">)])</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST OHE Features as sparse vectors (1c)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sampleOneOHEFeatManual</span><span class="p">,</span> <span class="n">SparseVector</span><span class="p">),</span>
                <span class="s">&#39;sampleOneOHEFeatManual needs to be a SparseVector&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sampleTwoOHEFeatManual</span><span class="p">,</span> <span class="n">SparseVector</span><span class="p">),</span>
                <span class="s">&#39;sampleTwoOHEFeatManual needs to be a SparseVector&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">sampleThreeOHEFeatManual</span><span class="p">,</span> <span class="n">SparseVector</span><span class="p">),</span>
                <span class="s">&#39;sampleThreeOHEFeatManual needs to be a SparseVector&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleOneOHEFeatManual</span><span class="p">,</span>
                        <span class="s">&#39;ecc00223d141b7bd0913d52377cee2cf5783abd6&#39;</span><span class="p">,</span>
                        <span class="s">&#39;incorrect value for sampleOneOHEFeatManual&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleTwoOHEFeatManual</span><span class="p">,</span>
                        <span class="s">&#39;26b023f4109e3b8ab32241938e2e9b9e9d62720a&#39;</span><span class="p">,</span>
                        <span class="s">&#39;incorrect value for sampleTwoOHEFeatManual&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEqualsHashed</span><span class="p">(</span><span class="n">sampleThreeOHEFeatManual</span><span class="p">,</span>
                        <span class="s">&#39;c04134fd603ae115395b29dcabe9d0c66fbdc8a7&#39;</span><span class="p">,</span>
                        <span class="s">&#39;incorrect value for sampleThreeOHEFeatManual&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
1 test passed.
1 test passed.
1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(1d)-Define-a-OHE-function-"><strong>(1d) Define a OHE function </strong><a class="anchor-link" href="#(1d)-Define-a-OHE-function-">&#182;</a></h4><h4 id="Next-we-will-use-the-OHE-dictionary-from-Part-(1a)-to-programatically-generate-OHE-features-from-the-original-categorical-data.--First-write-a-function-called-oneHotEncoding-that-creates-OHE-feature-vectors-in-SparseVector-format.--Then-use-this-function-to-create-OHE-features-for-the-first-sample-data-point-and-verify-that-the-result-matches-the-result-from-Part-(1c).">Next we will use the OHE dictionary from Part (1a) to programatically generate OHE features from the original categorical data.  First write a function called <code>oneHotEncoding</code> that creates OHE feature vectors in <code>SparseVector</code> format.  Then use this function to create OHE features for the first sample data point and verify that the result matches the result from Part (1c).<a class="anchor-link" href="#Next-we-will-use-the-OHE-dictionary-from-Part-(1a)-to-programatically-generate-OHE-features-from-the-original-categorical-data.--First-write-a-function-called-oneHotEncoding-that-creates-OHE-feature-vectors-in-SparseVector-format.--Then-use-this-function-to-create-OHE-features-for-the-first-sample-data-point-and-verify-that-the-result-matches-the-result-from-Part-(1c).">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="k">def</span> <span class="nf">oneHotEncoding</span><span class="p">(</span><span class="n">rawFeats</span><span class="p">,</span> <span class="n">OHEDict</span><span class="p">,</span> <span class="n">numOHEFeats</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Produce a one-hot-encoding from a list of features and an OHE dictionary.</span>

<span class="sd">    Note:</span>
<span class="sd">        You should ensure that the indices used to create a SparseVector are sorted.</span>

<span class="sd">    Args:</span>
<span class="sd">        rawFeats (list of (int, str)): The features corresponding to a single observation.  Each</span>
<span class="sd">            feature consists of a tuple of featureID and the feature&#39;s value. (e.g. sampleOne)</span>
<span class="sd">        OHEDict (dict): A mapping of (featureID, value) to unique integer.</span>
<span class="sd">        numOHEFeats (int): The total number of unique OHE features (combinations of featureID and</span>
<span class="sd">            value).</span>

<span class="sd">    Returns:</span>
<span class="sd">        SparseVector: A SparseVector of length numOHEFeats with indicies equal to the unique</span>
<span class="sd">            identifiers for the (featureID, value) combinations that occur in the observation and</span>
<span class="sd">            with values equal to 1.0.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">SparseVector</span><span class="p">(</span><span class="n">numOHEFeats</span><span class="p">,</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">OHEDict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">rawFeats</span><span class="p">]),</span> <span class="p">[</span><span class="mi">1</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">rawFeats</span><span class="p">])</span>

<span class="c"># Calculate the number of features in sampleOHEDictManual</span>
<span class="n">numSampleOHEFeats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">sampleOHEDictManual</span><span class="p">)</span>

<span class="c"># Run oneHotEnoding on sampleOne</span>
<span class="n">sampleOneOHEFeat</span> <span class="o">=</span> <span class="n">oneHotEncoding</span><span class="p">(</span><span class="n">sampleOne</span><span class="p">,</span> <span class="n">sampleOHEDictManual</span><span class="p">,</span> <span class="n">numSampleOHEFeats</span><span class="p">)</span>

<span class="k">print</span> <span class="n">sampleOneOHEFeat</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>(7,[2,3],[1.0,1.0])
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Define an OHE Function (1d)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">sampleOneOHEFeat</span> <span class="o">==</span> <span class="n">sampleOneOHEFeatManual</span><span class="p">,</span>
                <span class="s">&#39;sampleOneOHEFeat should equal sampleOneOHEFeatManual&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">sampleOneOHEFeat</span><span class="p">,</span> <span class="n">SparseVector</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">]),</span>
                  <span class="s">&#39;incorrect value for sampleOneOHEFeat&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">oneHotEncoding</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;black&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">)],</span> <span class="n">sampleOHEDictManual</span><span class="p">,</span>
                                 <span class="n">numSampleOHEFeats</span><span class="p">),</span> <span class="n">SparseVector</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">]),</span>
                  <span class="s">&#39;incorrect definition for oneHotEncoding&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(1e)-Apply-OHE-to-a-dataset-"><strong>(1e) Apply OHE to a dataset </strong><a class="anchor-link" href="#(1e)-Apply-OHE-to-a-dataset-">&#182;</a></h4><h4 id="Finally,-use-the-function-from-Part-(1d)-to-create-OHE-features-for-all-3-data-points-in-the-sample-dataset.">Finally, use the function from Part (1d) to create OHE features for all 3 data points in the sample dataset.<a class="anchor-link" href="#Finally,-use-the-function-from-Part-(1d)-to-create-OHE-features-for-all-3-data-points-in-the-sample-dataset.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">sampleOHEData</span> <span class="o">=</span> <span class="n">sampleDataRDD</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">oneHotEncoding</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sampleOHEDictManual</span><span class="p">,</span> <span class="n">numSampleOHEFeats</span><span class="p">))</span>
<span class="k">print</span> <span class="n">sampleOHEData</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[SparseVector(7, {2: 1.0, 3: 1.0}), SparseVector(7, {1: 1.0, 4: 1.0, 5: 1.0}), SparseVector(7, {0: 1.0, 3: 1.0, 6: 1.0})]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Apply OHE to a dataset (1e)</span>
<span class="n">sampleOHEDataValues</span> <span class="o">=</span> <span class="n">sampleOHEData</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">sampleOHEDataValues</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&#39;sampleOHEData should have three elements&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">sampleOHEDataValues</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">SparseVector</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}),</span>
                  <span class="s">&#39;incorrect OHE for first sample&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">sampleOHEDataValues</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">SparseVector</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}),</span>
                  <span class="s">&#39;incorrect OHE for second sample&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">sampleOHEDataValues</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">SparseVector</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}),</span>
                  <span class="s">&#39;incorrect OHE for third sample&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="-Part-2:-Construct-an-OHE-dictionary-"><strong> Part 2: Construct an OHE dictionary </strong><a class="anchor-link" href="#-Part-2:-Construct-an-OHE-dictionary-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(2a)-Pair-RDD-of-(featureID,-category)-"><strong>(2a) Pair RDD of <code>(featureID, category)</code> </strong><a class="anchor-link" href="#(2a)-Pair-RDD-of-(featureID,-category)-">&#182;</a></h4><h4 id="To-start,-create-an-RDD-of-distinct-(featureID,-category)-tuples.-In-our-sample-dataset,-the-7-items-in-the-resulting-RDD-are-(0,-'bear'),-(0,-'cat'),-(0,-'mouse'),-(1,-'black'),-(1,-'tabby'),-(2,-'mouse'),-(2,-'salmon').-Notably-'black'-appears-twice-in-the-dataset-but-only-contributes-one-item-to-the-RDD:-(1,-'black'),-while-'mouse'-also-appears-twice-and-contributes-two-items:-(0,-'mouse')-and-(2,-'mouse').--Use-flatMap-and-distinct.">To start, create an RDD of distinct <code>(featureID, category)</code> tuples. In our sample dataset, the 7 items in the resulting RDD are <code>(0, 'bear')</code>, <code>(0, 'cat')</code>, <code>(0, 'mouse')</code>, <code>(1, 'black')</code>, <code>(1, 'tabby')</code>, <code>(2, 'mouse')</code>, <code>(2, 'salmon')</code>. Notably <code>'black'</code> appears twice in the dataset but only contributes one item to the RDD: <code>(1, 'black')</code>, while <code>'mouse'</code> also appears twice and contributes two items: <code>(0, 'mouse')</code> and <code>(2, 'mouse')</code>.  Use <a href="https://spark.apache.org/docs/latest/api/python/pyspark.html#pyspark.RDD.flatMap">flatMap</a> and <a href="https://spark.apache.org/docs/latest/api/python/pyspark.html#pyspark.RDD.distinct">distinct</a>.<a class="anchor-link" href="#To-start,-create-an-RDD-of-distinct-(featureID,-category)-tuples.-In-our-sample-dataset,-the-7-items-in-the-resulting-RDD-are-(0,-'bear'),-(0,-'cat'),-(0,-'mouse'),-(1,-'black'),-(1,-'tabby'),-(2,-'mouse'),-(2,-'salmon').-Notably-'black'-appears-twice-in-the-dataset-but-only-contributes-one-item-to-the-RDD:-(1,-'black'),-while-'mouse'-also-appears-twice-and-contributes-two-items:-(0,-'mouse')-and-(2,-'mouse').--Use-flatMap-and-distinct.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">sampleDistinctFeats</span> <span class="o">=</span> <span class="p">(</span><span class="n">sampleDataRDD</span>
                       <span class="o">.</span><span class="n">flatMap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
                       <span class="o">.</span><span class="n">distinct</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Pair RDD of (featureID, category) (2a)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">sampleDistinctFeats</span><span class="o">.</span><span class="n">collect</span><span class="p">()),</span>
                  <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;bear&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;cat&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
                   <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;tabby&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;salmon&#39;</span><span class="p">)],</span>
                  <span class="s">&#39;incorrect value for sampleDistinctFeats&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(2b)-OHE-Dictionary-from-distinct-features-"><strong> (2b) OHE Dictionary from distinct features </strong><a class="anchor-link" href="#-(2b)-OHE-Dictionary-from-distinct-features-">&#182;</a></h4><h4 id="Next,-create-an-RDD-of-key-value-tuples,-where-each-(featureID,-category)-tuple-in-sampleDistinctFeats-is-a-key-and-the-values-are-distinct-integers-ranging-from-0-to-(number-of-keys---1).--Then-convert-this-RDD-into-a-dictionary,-which-can-be-done-using-the-collectAsMap-action.--Note-that-there-is-no-unique-mapping-from-keys-to-values,-as-all-we-require-is-that-each-(featureID,-category)-key-be-mapped-to-a-unique-integer-between-0-and-the-number-of-keys.--In-this-exercise,-any-valid-mapping-is-acceptable.--Use-zipWithIndex-followed-by-collectAsMap.">Next, create an <code>RDD</code> of key-value tuples, where each <code>(featureID, category)</code> tuple in <code>sampleDistinctFeats</code> is a key and the values are distinct integers ranging from 0 to (number of keys - 1).  Then convert this <code>RDD</code> into a dictionary, which can be done using the <code>collectAsMap</code> action.  Note that there is no unique mapping from keys to values, as all we require is that each <code>(featureID, category)</code> key be mapped to a unique integer between 0 and the number of keys.  In this exercise, any valid mapping is acceptable.  Use <a href="https://spark.apache.org/docs/latest/api/python/pyspark.html#pyspark.RDD.zipWithIndex">zipWithIndex</a> followed by <a href="https://spark.apache.org/docs/latest/api/python/pyspark.html#pyspark.RDD.collectAsMap">collectAsMap</a>.<a class="anchor-link" href="#Next,-create-an-RDD-of-key-value-tuples,-where-each-(featureID,-category)-tuple-in-sampleDistinctFeats-is-a-key-and-the-values-are-distinct-integers-ranging-from-0-to-(number-of-keys---1).--Then-convert-this-RDD-into-a-dictionary,-which-can-be-done-using-the-collectAsMap-action.--Note-that-there-is-no-unique-mapping-from-keys-to-values,-as-all-we-require-is-that-each-(featureID,-category)-key-be-mapped-to-a-unique-integer-between-0-and-the-number-of-keys.--In-this-exercise,-any-valid-mapping-is-acceptable.--Use-zipWithIndex-followed-by-collectAsMap.">&#182;</a></h4><h4 id="In-our-sample-dataset,-one-valid-list-of-key-value-tuples-is:-[((0,-'bear'),-0),-((2,-'salmon'),-1),-((1,-'tabby'),-2),-((2,-'mouse'),-3),-((0,-'mouse'),-4),-((0,-'cat'),-5),-((1,-'black'),-6)].-The-dictionary-defined-in-Part-(1a)-illustrates-another-valid-mapping-between-keys-and-integers.">In our sample dataset, one valid list of key-value tuples is: <code>[((0, 'bear'), 0), ((2, 'salmon'), 1), ((1, 'tabby'), 2), ((2, 'mouse'), 3), ((0, 'mouse'), 4), ((0, 'cat'), 5), ((1, 'black'), 6)]</code>. The dictionary defined in Part (1a) illustrates another valid mapping between keys and integers.<a class="anchor-link" href="#In-our-sample-dataset,-one-valid-list-of-key-value-tuples-is:-[((0,-'bear'),-0),-((2,-'salmon'),-1),-((1,-'tabby'),-2),-((2,-'mouse'),-3),-((0,-'mouse'),-4),-((0,-'cat'),-5),-((1,-'black'),-6)].-The-dictionary-defined-in-Part-(1a)-illustrates-another-valid-mapping-between-keys-and-integers.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">sampleOHEDict</span> <span class="o">=</span> <span class="p">(</span><span class="n">sampleDistinctFeats</span>
                           <span class="o">.</span><span class="n">zipWithIndex</span> <span class="p">()</span><span class="o">.</span><span class="n">collectAsMap</span><span class="p">())</span>
<span class="k">print</span> <span class="n">sampleOHEDict</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>{(2, &apos;mouse&apos;): 2, (0, &apos;cat&apos;): 5, (0, &apos;bear&apos;): 0, (2, &apos;salmon&apos;): 3, (1, &apos;tabby&apos;): 1, (1, &apos;black&apos;): 6, (0, &apos;mouse&apos;): 4}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST OHE Dictionary from distinct features (2b)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">sampleOHEDict</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
                  <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;bear&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;cat&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
                   <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;tabby&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;salmon&#39;</span><span class="p">)],</span>
                  <span class="s">&#39;sampleOHEDict has unexpected keys&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">sampleOHEDict</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="s">&#39;sampleOHEDict has unexpected values&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(2c)-Automated-creation-of-an-OHE-dictionary-"><strong>(2c) Automated creation of an OHE dictionary </strong><a class="anchor-link" href="#(2c)-Automated-creation-of-an-OHE-dictionary-">&#182;</a></h4><h4 id="Now-use-the-code-from-Parts-(2a)-and-(2b)-to-write-a-function-that-takes-an-input-dataset-and-outputs-an-OHE-dictionary.--Then-use-this-function-to-create-an-OHE-dictionary-for-the-sample-dataset,-and-verify-that-it-matches-the-dictionary-from-Part-(2b).">Now use the code from Parts (2a) and (2b) to write a function that takes an input dataset and outputs an OHE dictionary.  Then use this function to create an OHE dictionary for the sample dataset, and verify that it matches the dictionary from Part (2b).<a class="anchor-link" href="#Now-use-the-code-from-Parts-(2a)-and-(2b)-to-write-a-function-that-takes-an-input-dataset-and-outputs-an-OHE-dictionary.--Then-use-this-function-to-create-an-OHE-dictionary-for-the-sample-dataset,-and-verify-that-it-matches-the-dictionary-from-Part-(2b).">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[25]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="k">def</span> <span class="nf">createOneHotDict</span><span class="p">(</span><span class="n">inputData</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a one-hot-encoder dictionary based on the input data.</span>

<span class="sd">    Args:</span>
<span class="sd">        inputData (RDD of lists of (int, str)): An RDD of observations where each observation is</span>
<span class="sd">            made up of a list of (featureID, value) tuples.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: A dictionary where the keys are (featureID, value) tuples and map to values that are</span>
<span class="sd">            unique integers.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">inputData</span> 
            <span class="o">.</span><span class="n">flatMap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span> 
            <span class="o">.</span><span class="n">distinct</span><span class="p">()</span>
            <span class="o">.</span><span class="n">zipWithIndex</span><span class="p">()</span>
            <span class="o">.</span><span class="n">collectAsMap</span><span class="p">())</span>

<span class="n">sampleOHEDictAuto</span> <span class="o">=</span> <span class="n">createOneHotDict</span><span class="p">(</span><span class="n">sampleDataRDD</span><span class="p">)</span>
<span class="k">print</span> <span class="n">sampleOHEDictAuto</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>{(2, &apos;mouse&apos;): 2, (0, &apos;cat&apos;): 5, (0, &apos;bear&apos;): 0, (2, &apos;salmon&apos;): 3, (1, &apos;tabby&apos;): 1, (1, &apos;black&apos;): 6, (0, &apos;mouse&apos;): 4}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[26]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Automated creation of an OHE dictionary (2c)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">sampleOHEDictAuto</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span>
                  <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;bear&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;cat&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;black&#39;</span><span class="p">),</span>
                   <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;tabby&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;mouse&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;salmon&#39;</span><span class="p">)],</span>
                  <span class="s">&#39;sampleOHEDictAuto has unexpected keys&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">sampleOHEDictAuto</span><span class="o">.</span><span class="n">values</span><span class="p">()),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span>
                  <span class="s">&#39;sampleOHEDictAuto has unexpected values&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Part-3:-Parse-CTR-data-and-generate-OHE-features"><strong>Part 3: Parse CTR data and generate OHE features</strong><a class="anchor-link" href="#Part-3:-Parse-CTR-data-and-generate-OHE-features">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Before-we-can-proceed,-you'll-first-need-to-obtain-the-data-from-Criteo.--If-you-have-already-completed-this-step-in-the-setup-lab,-just-run-the-cells-below-and-the-data-will-be-loaded-into-the-rawData-variable.">Before we can proceed, you'll first need to obtain the data from Criteo.  If you have already completed this step in the setup lab, just run the cells below and the data will be loaded into the <code>rawData</code> variable.<a class="anchor-link" href="#Before-we-can-proceed,-you'll-first-need-to-obtain-the-data-from-Criteo.--If-you-have-already-completed-this-step-in-the-setup-lab,-just-run-the-cells-below-and-the-data-will-be-loaded-into-the-rawData-variable.">&#182;</a></h4><h4 id="Below-is-Criteo's-data-sharing-agreement.--After-you-accept-the-agreement,-you-can-obtain-the-download-URL-by-right-clicking-on-the-&quot;Download-Sample&quot;-button-and-clicking-&quot;Copy-link-address&quot;-or-&quot;Copy-Link-Location&quot;,-depending-on-your-browser.--Paste-the-URL-into-the-#-TODO-cell-below.--The-file-is-8.4-MB-compressed.--The-script-below-will-download-the-file-to-the-virtual-machine-(VM)-and-then-extract-the-data.">Below is Criteo's data sharing agreement.  After you accept the agreement, you can obtain the download URL by right-clicking on the "Download Sample" button and clicking "Copy link address" or "Copy Link Location", depending on your browser.  Paste the URL into the <code># TODO</code> cell below.  The file is 8.4 MB compressed.  The script below will download the file to the virtual machine (VM) and then extract the data.<a class="anchor-link" href="#Below-is-Criteo's-data-sharing-agreement.--After-you-accept-the-agreement,-you-can-obtain-the-download-URL-by-right-clicking-on-the-&quot;Download-Sample&quot;-button-and-clicking-&quot;Copy-link-address&quot;-or-&quot;Copy-Link-Location&quot;,-depending-on-your-browser.--Paste-the-URL-into-the-#-TODO-cell-below.--The-file-is-8.4-MB-compressed.--The-script-below-will-download-the-file-to-the-virtual-machine-(VM)-and-then-extract-the-data.">&#182;</a></h4><h4 id="If-running-the-cell-below-does-not-render-a-webpage,-open-the-Criteo-agreement-in-a-separate-browser-tab.--After-you-accept-the-agreement,-you-can-obtain-the-download-URL-by-right-clicking-on-the-&quot;Download-Sample&quot;-button-and-clicking-&quot;Copy-link-address&quot;-or-&quot;Copy-Link-Location&quot;,-depending-on-your-browser.--Paste-the-URL-into-the-#-TODO-cell-below.">If running the cell below does not render a webpage, open the <a href="http://labs.criteo.com/downloads/2014-kaggle-display-advertising-challenge-dataset/">Criteo agreement</a> in a separate browser tab.  After you accept the agreement, you can obtain the download URL by right-clicking on the "Download Sample" button and clicking "Copy link address" or "Copy Link Location", depending on your browser.  Paste the URL into the <code># TODO</code> cell below.<a class="anchor-link" href="#If-running-the-cell-below-does-not-render-a-webpage,-open-the-Criteo-agreement-in-a-separate-browser-tab.--After-you-accept-the-agreement,-you-can-obtain-the-download-URL-by-right-clicking-on-the-&quot;Download-Sample&quot;-button-and-clicking-&quot;Copy-link-address&quot;-or-&quot;Copy-Link-Location&quot;,-depending-on-your-browser.--Paste-the-URL-into-the-#-TODO-cell-below.">&#182;</a></h4><h4 id="Note-that-the-download-could-take-a-few-minutes,-depending-upon-your-connection-speed.">Note that the download could take a few minutes, depending upon your connection speed.<a class="anchor-link" href="#Note-that-the-download-could-take-a-few-minutes,-depending-upon-your-connection-speed.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># Run this code to view Criteo&#39;s agreement</span>
<span class="kn">from</span> <span class="nn">IPython.lib.display</span> <span class="kn">import</span> <span class="n">IFrame</span>

<span class="n">IFrame</span><span class="p">(</span><span class="s">&quot;http://labs.criteo.com/downloads/2014-kaggle-display-advertising-challenge-dataset/&quot;</span><span class="p">,</span>
       <span class="mi">600</span><span class="p">,</span> <span class="mi">350</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[30]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="c"># Just replace &lt;FILL IN&gt; with the url for dac_sample.tar.gz</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="kn">import</span> <span class="nn">tarfile</span>
<span class="kn">import</span> <span class="nn">urllib</span>
<span class="kn">import</span> <span class="nn">urlparse</span>

<span class="c"># Paste url, url should end with: dac_sample.tar.gz</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">&#39;http://labs.criteo.com/wp-content/uploads/2015/04/dac_sample.tar.gz&#39;</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">baseDir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">)</span>
<span class="n">inputPath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;cs190&#39;</span><span class="p">,</span> <span class="s">&#39;dac_sample.txt&#39;</span><span class="p">)</span>
<span class="n">fileName</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">baseDir</span><span class="p">,</span> <span class="n">inputPath</span><span class="p">)</span>
<span class="n">inputDir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">fileName</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">extractTar</span><span class="p">(</span><span class="n">check</span> <span class="o">=</span> <span class="bp">False</span><span class="p">):</span>
    <span class="c"># Find the zipped archive and extract the dataset</span>
    <span class="n">tars</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s">&#39;dac_sample*.tar.gz*&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">check</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">tars</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
      <span class="k">return</span> <span class="bp">False</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tars</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">tarFile</span> <span class="o">=</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">tars</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">except</span> <span class="n">tarfile</span><span class="o">.</span><span class="n">ReadError</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">check</span><span class="p">:</span>
                <span class="k">print</span> <span class="s">&#39;Unable to open tar.gz file.  Check your URL.&#39;</span>
            <span class="k">return</span> <span class="bp">False</span>

        <span class="n">tarFile</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s">&#39;dac_sample.txt&#39;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="n">inputDir</span><span class="p">)</span>
        <span class="k">print</span> <span class="s">&#39;Successfully extracted: dac_sample.txt&#39;</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;You need to retry the download with the correct url.&#39;</span>
        <span class="k">print</span> <span class="p">(</span><span class="s">&#39;Alternatively, you can upload the dac_sample.tar.gz file to your Jupyter root &#39;</span> <span class="o">+</span>
              <span class="s">&#39;directory&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">False</span>


<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">fileName</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;File is already available. Nothing to do.&#39;</span>
<span class="k">elif</span> <span class="n">extractTar</span><span class="p">(</span><span class="n">check</span> <span class="o">=</span> <span class="bp">True</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;tar.gz file was already available.&#39;</span>
<span class="k">elif</span> <span class="ow">not</span> <span class="n">url</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s">&#39;dac_sample.tar.gz&#39;</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;Check your download url.  Are you downloading the Sample dataset?&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c"># Download the file and store it in the same directory as this notebook</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">urlparse</span><span class="o">.</span><span class="n">urlsplit</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">path</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">&#39;Unable to download and store: {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

    <span class="n">extractTar</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Successfully extracted: dac_sample.txt
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">os.path</span>
<span class="n">baseDir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;data&#39;</span><span class="p">)</span>
<span class="n">inputPath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">&#39;cs190&#39;</span><span class="p">,</span> <span class="s">&#39;dac_sample.txt&#39;</span><span class="p">)</span>
<span class="n">fileName</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">baseDir</span><span class="p">,</span> <span class="n">inputPath</span><span class="p">)</span>

<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">fileName</span><span class="p">):</span>
    <span class="n">rawData</span> <span class="o">=</span> <span class="p">(</span><span class="n">sc</span>
               <span class="o">.</span><span class="n">textFile</span><span class="p">(</span><span class="n">fileName</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
               <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;,&#39;</span><span class="p">)))</span>  <span class="c"># work with either &#39;,&#39; or &#39;\t&#39; separated data</span>
    <span class="k">print</span> <span class="n">rawData</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[u&apos;0,1,1,5,0,1382,4,15,2,181,1,2,,2,68fd1e64,80e26c9b,fb936136,7b4723c4,25c83c98,7e0ccccf,de7995b8,1f89b562,a73ee510,a8cd5504,b2cb9c98,37c9c164,2824a5f6,1adce6ef,8ba8b39a,891b62e7,e5ba7672,f54016b9,21ddcdc9,b1252a9d,07b5194c,,3a171ecb,c5c50484,e8b83407,9727dd16&apos;]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(3a)-Loading-and-splitting-the-data-"><strong>(3a) Loading and splitting the data </strong><a class="anchor-link" href="#(3a)-Loading-and-splitting-the-data-">&#182;</a></h4><h4 id="We-are-now-ready-to-start-working-with-the-actual-CTR-data,-and-our-first-task-involves-splitting-it-into-training,-validation,-and-test-sets.--Use-the-randomSplit-method-with-the-specified-weights-and-seed-to-create-RDDs-storing-each-of-these-datasets,-and-then-cache-each-of-these-RDDs,-as-we-will-be-accessing-them-multiple-times-in-the-remainder-of-this-lab.-Finally,-compute-the-size-of-each-dataset.">We are now ready to start working with the actual CTR data, and our first task involves splitting it into training, validation, and test sets.  Use the <a href="https://spark.apache.org/docs/latest/api/python/pyspark.html#pyspark.RDD.randomSplit">randomSplit method</a> with the specified weights and seed to create RDDs storing each of these datasets, and then <a href="https://spark.apache.org/docs/latest/api/python/pyspark.html#pyspark.RDD.cache">cache</a> each of these RDDs, as we will be accessing them multiple times in the remainder of this lab. Finally, compute the size of each dataset.<a class="anchor-link" href="#We-are-now-ready-to-start-working-with-the-actual-CTR-data,-and-our-first-task-involves-splitting-it-into-training,-validation,-and-test-sets.--Use-the-randomSplit-method-with-the-specified-weights-and-seed-to-create-RDDs-storing-each-of-these-datasets,-and-then-cache-each-of-these-RDDs,-as-we-will-be-accessing-them-multiple-times-in-the-remainder-of-this-lab.-Finally,-compute-the-size-of-each-dataset.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="o">.</span><span class="mi">1</span><span class="p">]</span>
<span class="n">seed</span> <span class="o">=</span> <span class="mi">42</span>
<span class="c"># Use randomSplit with weights and seed</span>
<span class="n">rawTrainData</span><span class="p">,</span> <span class="n">rawValidationData</span><span class="p">,</span> <span class="n">rawTestData</span> <span class="o">=</span> <span class="n">rawData</span><span class="o">.</span><span class="n">randomSplit</span><span class="p">(</span><span class="n">weights</span><span class="p">,</span> <span class="n">seed</span><span class="p">)</span>
<span class="c"># Cache the data</span>
<span class="n">rawTrainData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="n">rawValidationData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="n">rawTestData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="n">nTrain</span> <span class="o">=</span> <span class="n">rawTrainData</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">nVal</span> <span class="o">=</span> <span class="n">rawValidationData</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">nTest</span> <span class="o">=</span> <span class="n">rawTestData</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="k">print</span> <span class="n">nTrain</span><span class="p">,</span> <span class="n">nVal</span><span class="p">,</span> <span class="n">nTest</span><span class="p">,</span> <span class="n">nTrain</span> <span class="o">+</span> <span class="n">nVal</span> <span class="o">+</span> <span class="n">nTest</span>
<span class="k">print</span> <span class="n">rawData</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>79911 10075 10014 100000
[u&apos;0,1,1,5,0,1382,4,15,2,181,1,2,,2,68fd1e64,80e26c9b,fb936136,7b4723c4,25c83c98,7e0ccccf,de7995b8,1f89b562,a73ee510,a8cd5504,b2cb9c98,37c9c164,2824a5f6,1adce6ef,8ba8b39a,891b62e7,e5ba7672,f54016b9,21ddcdc9,b1252a9d,07b5194c,,3a171ecb,c5c50484,e8b83407,9727dd16&apos;]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[33]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Loading and splitting the data (3a)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="nb">all</span><span class="p">([</span><span class="n">rawTrainData</span><span class="o">.</span><span class="n">is_cached</span><span class="p">,</span> <span class="n">rawValidationData</span><span class="o">.</span><span class="n">is_cached</span><span class="p">,</span> <span class="n">rawTestData</span><span class="o">.</span><span class="n">is_cached</span><span class="p">]),</span>
                <span class="s">&#39;you must cache the split data&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">nTrain</span><span class="p">,</span> <span class="mi">79911</span><span class="p">,</span> <span class="s">&#39;incorrect value for nTrain&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">nVal</span><span class="p">,</span> <span class="mi">10075</span><span class="p">,</span> <span class="s">&#39;incorrect value for nVal&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">nTest</span><span class="p">,</span> <span class="mi">10014</span><span class="p">,</span> <span class="s">&#39;incorrect value for nTest&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(3b)-Extract-features-"><strong> (3b) Extract features </strong><a class="anchor-link" href="#-(3b)-Extract-features-">&#182;</a></h4><h4 id="We-will-now-parse-the-raw-training-data-to-create-an-RDD-that-we-can-subsequently-use-to-create-an-OHE-dictionary.-Note-from-the-take()-command-in-Part-(3a)-that-each-raw-data-point-is-a-string-containing-several-fields-separated-by-some-delimiter.--For-now,-we-will-ignore-the-first-field-(which-is-the-0-1-label),-and-parse-the-remaining-fields-(or-raw-features).--To-do-this,-complete-the-implemention-of-the-parsePoint-function.">We will now parse the raw training data to create an RDD that we can subsequently use to create an OHE dictionary. Note from the <code>take()</code> command in Part (3a) that each raw data point is a string containing several fields separated by some delimiter.  For now, we will ignore the first field (which is the 0-1 label), and parse the remaining fields (or raw features).  To do this, complete the implemention of the <code>parsePoint</code> function.<a class="anchor-link" href="#We-will-now-parse-the-raw-training-data-to-create-an-RDD-that-we-can-subsequently-use-to-create-an-OHE-dictionary.-Note-from-the-take()-command-in-Part-(3a)-that-each-raw-data-point-is-a-string-containing-several-fields-separated-by-some-delimiter.--For-now,-we-will-ignore-the-first-field-(which-is-the-0-1-label),-and-parse-the-remaining-fields-(or-raw-features).--To-do-this,-complete-the-implemention-of-the-parsePoint-function.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[47]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="k">def</span> <span class="nf">parsePoint</span><span class="p">(</span><span class="n">point</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts a comma separated string into a list of (featureID, value) tuples.</span>

<span class="sd">    Note:</span>
<span class="sd">        featureIDs should start at 0 and increase to the number of features - 1.</span>

<span class="sd">    Args:</span>
<span class="sd">        point (str): A comma separated string where the first value is the label and the rest</span>
<span class="sd">            are features.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list: A list of (featureID, value) tuples.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;,&#39;</span><span class="p">))</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>

<span class="n">parsedTrainFeat</span> <span class="o">=</span> <span class="n">rawTrainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">parsePoint</span><span class="p">)</span>

<span class="n">numCategories</span> <span class="o">=</span> <span class="p">(</span><span class="n">parsedTrainFeat</span>
                 <span class="o">.</span><span class="n">flatMap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">distinct</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">))</span>
                 <span class="o">.</span><span class="n">reduceByKey</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">sortByKey</span><span class="p">()</span>
                 <span class="o">.</span><span class="n">collect</span><span class="p">())</span>

<span class="k">print</span> <span class="n">numCategories</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>855
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[48]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Extract features (3b)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">numCategories</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="mi">855</span><span class="p">,</span> <span class="s">&#39;incorrect implementation of parsePoint&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">numCategories</span><span class="p">[</span><span class="mi">32</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="mi">4</span><span class="p">,</span> <span class="s">&#39;incorrect implementation of parsePoint&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(3c)-Create-an-OHE-dictionary-from-the-dataset-"><strong>(3c) Create an OHE dictionary from the dataset </strong><a class="anchor-link" href="#(3c)-Create-an-OHE-dictionary-from-the-dataset-">&#182;</a></h4><h4 id="Note-that-parsePoint-returns-a-data-point-as-a-list-of-(featureID,-category)-tuples,-which-is-the-same-format-as-the-sample-dataset-studied-in-Parts-1-and-2-of-this-lab.--Using-this-observation,-create-an-OHE-dictionary-using-the-function-implemented-in-Part-(2c).-Note-that-we-will-assume-for-simplicity-that-all-features-in-our-CTR-dataset-are-categorical.">Note that parsePoint returns a data point as a list of <code>(featureID, category)</code> tuples, which is the same format as the sample dataset studied in Parts 1 and 2 of this lab.  Using this observation, create an OHE dictionary using the function implemented in Part (2c). Note that we will assume for simplicity that all features in our CTR dataset are categorical.<a class="anchor-link" href="#Note-that-parsePoint-returns-a-data-point-as-a-list-of-(featureID,-category)-tuples,-which-is-the-same-format-as-the-sample-dataset-studied-in-Parts-1-and-2-of-this-lab.--Using-this-observation,-create-an-OHE-dictionary-using-the-function-implemented-in-Part-(2c).-Note-that-we-will-assume-for-simplicity-that-all-features-in-our-CTR-dataset-are-categorical.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[60]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">ctrOHEDict</span> <span class="o">=</span> <span class="n">createOneHotDict</span><span class="p">(</span><span class="n">parsedTrainFeat</span><span class="p">)</span>
<span class="k">print</span> <span class="n">ctrOHEDict</span><span class="o">.</span><span class="n">popitem</span><span class="p">()</span>
<span class="n">numCtrOHEFeats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">ctrOHEDict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="k">print</span> <span class="n">numCtrOHEFeats</span>
<span class="k">print</span> <span class="n">ctrOHEDict</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>((16, u&apos;0e4666ea&apos;), 116918)
233285
36164
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[45]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Create an OHE dictionary from the dataset (3c)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">numCtrOHEFeats</span><span class="p">,</span> <span class="mi">233286</span><span class="p">,</span> <span class="s">&#39;incorrect number of features in ctrOHEDict&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">ctrOHEDict</span><span class="p">,</span> <span class="s">&#39;incorrect features in ctrOHEDict&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(3d)-Apply-OHE-to-the-dataset-"><strong> (3d) Apply OHE to the dataset </strong><a class="anchor-link" href="#-(3d)-Apply-OHE-to-the-dataset-">&#182;</a></h4><h4 id="Now-let's-use-this-OHE-dictionary-by-starting-with-the-raw-training-data-and-creating-an-RDD-of-LabeledPoint-objects-using-OHE-features.--To-do-this,-complete-the-implementation-of-the-parseOHEPoint-function.-Hint:-parseOHEPoint-is-an-extension-of-the-parsePoint-function-from-Part-(3b)-and-it-uses-the-oneHotEncoding-function-from-Part-(1d).">Now let's use this OHE dictionary by starting with the raw training data and creating an RDD of <a href="http://spark.apache.org/docs/1.3.1/api/python/pyspark.mllib.html#pyspark.mllib.regression.LabeledPoint">LabeledPoint</a> objects using OHE features.  To do this, complete the implementation of the <code>parseOHEPoint</code> function. Hint: <code>parseOHEPoint</code> is an extension of the <code>parsePoint</code> function from Part (3b) and it uses the <code>oneHotEncoding</code> function from Part (1d).<a class="anchor-link" href="#Now-let's-use-this-OHE-dictionary-by-starting-with-the-raw-training-data-and-creating-an-RDD-of-LabeledPoint-objects-using-OHE-features.--To-do-this,-complete-the-implementation-of-the-parseOHEPoint-function.-Hint:-parseOHEPoint-is-an-extension-of-the-parsePoint-function-from-Part-(3b)-and-it-uses-the-oneHotEncoding-function-from-Part-(1d).">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[49]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">pyspark.mllib.regression</span> <span class="kn">import</span> <span class="n">LabeledPoint</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[50]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="k">def</span> <span class="nf">parseOHEPoint</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">OHEDict</span><span class="p">,</span> <span class="n">numOHEFeats</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Obtain the label and feature vector for this raw observation.</span>

<span class="sd">    Note:</span>
<span class="sd">        You must use the function `oneHotEncoding` in this implementation or later portions</span>
<span class="sd">        of this lab may not function as expected.</span>

<span class="sd">    Args:</span>
<span class="sd">        point (str): A comma separated string where the first value is the label and the rest</span>
<span class="sd">            are features.</span>
<span class="sd">        OHEDict (dict of (int, str) to int): Mapping of (featureID, value) to unique integer.</span>
<span class="sd">        numOHEFeats (int): The number of unique features in the training dataset.</span>

<span class="sd">    Returns:</span>
<span class="sd">        LabeledPoint: Contains the label for the observation and the one-hot-encoding of the</span>
<span class="sd">            raw features based on the provided OHE dictionary.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">point</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">feature_list</span> <span class="o">=</span> <span class="n">parsePoint</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">LabeledPoint</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">oneHotEncoding</span><span class="p">(</span><span class="n">feature_list</span><span class="p">,</span> <span class="n">OHEDict</span><span class="p">,</span> <span class="n">numOHEFeats</span><span class="p">))</span>

<span class="n">OHETrainData</span> <span class="o">=</span> <span class="n">rawTrainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">point</span><span class="p">:</span> <span class="n">parseOHEPoint</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">ctrOHEDict</span><span class="p">,</span> <span class="n">numCtrOHEFeats</span><span class="p">))</span>
<span class="n">OHETrainData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="k">print</span> <span class="n">OHETrainData</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># Check that oneHotEncoding function was used in parseOHEPoint</span>
<span class="n">backupOneHot</span> <span class="o">=</span> <span class="n">oneHotEncoding</span>
<span class="n">oneHotEncoding</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">withOneHot</span> <span class="o">=</span> <span class="bp">False</span>
<span class="k">try</span><span class="p">:</span> <span class="n">parseOHEPoint</span><span class="p">(</span><span class="n">rawTrainData</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">ctrOHEDict</span><span class="p">,</span> <span class="n">numCtrOHEFeats</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span> <span class="n">withOneHot</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">oneHotEncoding</span> <span class="o">=</span> <span class="n">backupOneHot</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[LabeledPoint(0.0, (233286,[386,3077,6799,8264,8862,11800,12802,16125,17551,18566,29331,33132,39525,55794,61786,81396,82659,93573,96929,100677,109699,110646,112132,120260,128596,132397,132803,140620,160675,185498,190370,191146,195925,202664,204273,206055,222737,225958,229942],[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]))]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[51]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Apply OHE to the dataset (3d)</span>
<span class="n">numNZ</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">parsedTrainFeat</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="n">numNZAlt</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">OHETrainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">indices</span><span class="p">))</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">numNZ</span><span class="p">,</span> <span class="n">numNZAlt</span><span class="p">,</span> <span class="s">&#39;incorrect implementation of parseOHEPoint&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">withOneHot</span><span class="p">,</span> <span class="s">&#39;oneHotEncoding not present in parseOHEPoint&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Visualization-1:-Feature-frequency-"><strong>Visualization 1: Feature frequency </strong><a class="anchor-link" href="#Visualization-1:-Feature-frequency-">&#182;</a></h4><h4 id="We-will-now-visualize-the-number-of-times-each-of-the-233,286-OHE-features-appears-in-the-training-data.-We-first-compute-the-number-of-times-each-feature-appears,-then-bucket-the-features-by-these-counts.--The-buckets-are-sized-by-powers-of-2,-so-the-first-bucket-corresponds-to-features-that-appear-exactly-once-(-$-\scriptsize-2^0-$-),-the-second-to-features-that-appear-twice-(-$-\scriptsize-2^1-$-),-the-third-to-features-that-occur-between-three-and-four-(-$-\scriptsize-2^2-$-)-times,-the-fifth-bucket-is-five-to-eight-(-$-\scriptsize-2^3-$-)-times-and-so-on.-The-scatter-plot-below-shows-the-logarithm-of-the-bucket-thresholds-versus-the-logarithm-of-the-number-of-features-that-have-counts-that-fall-in-the-buckets.">We will now visualize the number of times each of the 233,286 OHE features appears in the training data. We first compute the number of times each feature appears, then bucket the features by these counts.  The buckets are sized by powers of 2, so the first bucket corresponds to features that appear exactly once ( $ \scriptsize 2^0 $ ), the second to features that appear twice ( $ \scriptsize 2^1 $ ), the third to features that occur between three and four ( $ \scriptsize 2^2 $ ) times, the fifth bucket is five to eight ( $ \scriptsize 2^3 $ ) times and so on. The scatter plot below shows the logarithm of the bucket thresholds versus the logarithm of the number of features that have counts that fall in the buckets.<a class="anchor-link" href="#We-will-now-visualize-the-number-of-times-each-of-the-233,286-OHE-features-appears-in-the-training-data.-We-first-compute-the-number-of-times-each-feature-appears,-then-bucket-the-features-by-these-counts.--The-buckets-are-sized-by-powers-of-2,-so-the-first-bucket-corresponds-to-features-that-appear-exactly-once-(-$-\scriptsize-2^0-$-),-the-second-to-features-that-appear-twice-(-$-\scriptsize-2^1-$-),-the-third-to-features-that-occur-between-three-and-four-(-$-\scriptsize-2^2-$-)-times,-the-fifth-bucket-is-five-to-eight-(-$-\scriptsize-2^3-$-)-times-and-so-on.-The-scatter-plot-below-shows-the-logarithm-of-the-bucket-thresholds-versus-the-logarithm-of-the-number-of-features-that-have-counts-that-fall-in-the-buckets.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[52]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="k">def</span> <span class="nf">bucketFeatByCount</span><span class="p">(</span><span class="n">featCount</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Bucket the counts by powers of two.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">):</span>
        <span class="n">size</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="n">i</span>
        <span class="k">if</span> <span class="n">featCount</span> <span class="o">&lt;=</span> <span class="n">size</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">size</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

<span class="n">featCounts</span> <span class="o">=</span> <span class="p">(</span><span class="n">OHETrainData</span>
              <span class="o">.</span><span class="n">flatMap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">indices</span><span class="p">)</span>
              <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
              <span class="o">.</span><span class="n">reduceByKey</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span>
<span class="n">featCountsBuckets</span> <span class="o">=</span> <span class="p">(</span><span class="n">featCounts</span>
                     <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">bucketFeatByCount</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> <span class="mi">1</span><span class="p">))</span>
                     <span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span> <span class="n">k</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
                     <span class="o">.</span><span class="n">reduceByKey</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
                     <span class="o">.</span><span class="n">collect</span><span class="p">())</span>
<span class="k">print</span> <span class="n">featCountsBuckets</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[(256, 748), (1024, 255), (2, 24076), (4, 16639), (32, 4755), (8, 11440), (64, 2627), (128, 1476), (16, 7752), (512, 414), (1, 162813)]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[54]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">featCountsBuckets</span><span class="p">)</span>
<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">preparePlot</span><span class="p">(</span><span class="n">xticks</span><span class="p">,</span> <span class="n">yticks</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mf">10.5</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="n">hideLabels</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">gridColor</span><span class="o">=</span><span class="s">&#39;#999999&#39;</span><span class="p">,</span>
                <span class="n">gridWidth</span><span class="o">=</span><span class="mf">1.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Template for generating the plot layout.&quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s">&#39;white&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">labelcolor</span><span class="o">=</span><span class="s">&#39;#999999&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="s">&#39;10&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">axis</span><span class="p">,</span> <span class="n">ticks</span> <span class="ow">in</span> <span class="p">[(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">(),</span> <span class="n">xticks</span><span class="p">),</span> <span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">get_yaxis</span><span class="p">(),</span> <span class="n">yticks</span><span class="p">)]:</span>
        <span class="n">axis</span><span class="o">.</span><span class="n">set_ticks_position</span><span class="p">(</span><span class="s">&#39;none&#39;</span><span class="p">)</span>
        <span class="n">axis</span><span class="o">.</span><span class="n">set_ticks</span><span class="p">(</span><span class="n">ticks</span><span class="p">)</span>
        <span class="n">axis</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_color</span><span class="p">(</span><span class="s">&#39;#999999&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">hideLabels</span><span class="p">:</span> <span class="n">axis</span><span class="o">.</span><span class="n">set_ticklabels</span><span class="p">([])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">gridColor</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">gridWidth</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;-&#39;</span><span class="p">)</span>
    <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">position</span><span class="p">:</span> <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">position</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="bp">False</span><span class="p">),</span> <span class="p">[</span><span class="s">&#39;bottom&#39;</span><span class="p">,</span> <span class="s">&#39;top&#39;</span><span class="p">,</span> <span class="s">&#39;left&#39;</span><span class="p">,</span> <span class="s">&#39;right&#39;</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span>

<span class="c"># generate layout and plot data</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">preparePlot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">r&#39;$\log_e(bucketSize)$&#39;</span><span class="p">),</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">r&#39;$\log_e(countInBucket)$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">14</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">&#39;#d6ebf2&#39;</span><span class="p">,</span> <span class="n">edgecolors</span><span class="o">=</span><span class="s">&#39;#8cbfd0&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ssatpati/anaconda/lib/python2.7/site-packages/matplotlib/collections.py:590: FutureWarning: elementwise comparison failed; returning scalar instead, but in the future will perform elementwise comparison
  if self._edgecolors == str(&apos;face&apos;):
</pre>
</div>
</div>

<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
lM/ndefOHZ0+fVqJREJPP/20bt68qStXruiv//qvdefOHaVSKXV3d2t0dFRra2uam5vT5OSkcrmc
3G63AoGAotGoPvroIz311FN65plnlMlktLS0JLfbrbGxMd24cUO3bt1SKBSSz+fT5OSklpaWHnjs
3t5e3bhxQ+Pj4/t27AF0Hkb2AHScq1ev6tChQxoZGZHH49Hc3JwSiYQ8Ho/GxsaUTCZ3LHrSgxMz
7t27p5GRER09elTValWlUkkWy/2Xxo2NDXV3d0uSUqmU5ufnNTExoTNnzsjr9erevXtaW1vT6Oio
/uqv/krZbFZXrlzR9PS0AoGASqWShoeH5Xa7NTk5KbfbLUmy2+36u7/7O01MTGh2dlbff/+9crmc
HA5HLdvx48f16quvKplMamJiQhsbGw89NgDUg7IHoOP8ceROklwul1ZXVxUKhVQqlXT79m392Z/9
2SP3/+F1bmtrazp8+LCk+9fWeb1era2taXBw8IHTtPPz8zp27Jgkqbu7W5VKRRaLRdlsVn/4wx9k
tVp1+/Zt+Xw+LS4uqqurS36/vzaa98Pvvbq6KofDoYmJCb3wwgva2trSoUOHtLi4WDu9vLW1pc8/
/1yvvfaaLBbLto8t6YHTwQCwHcoegI4TCoW0ubkpSdrc3FRvb682NjY0NjamkZGRXa+/6+rqqv27
WCyqp6dHhUJBFotFXq+3doo3kUjUTgtXKhV5vV5J908DJxIJ9ff3a2xsTKurq1paWpLVaq2NEvb1
9WljY0Orq6vq7+9XIpGQYRhaXV1VOp2uff9kMqnh4WEVi0VJ90caq9Wq/vM//1MvvfSSrFarUqnU
to/9pz8LAGyHa/YAdIw/XrN24sQJxeNx5fN5FQoFTU9PK5fL6eOPP5bX65XX69X09LRKpZISiYRc
LpeGh4drj/PDSR6jo6NaXFxUsVjUq6++KknyeDy1iQ93797VxMSEpqam9P3332tzc1OGYahcLuvw
4cNyu921iSNPPfWUrl27pq6uLhWLRY2Pj2tra0urq6vy+/2yWq3KZDK1aw4Nw9DAwECtbLpcLpXL
ZS0vL+vHP/6xvv32WxmGoddee01ut/uhx/7TnwUAttNVrVarrQ4BAI/r8uXLevbZZ9Xd3a1MJqPL
ly+rq6tLzzzzjGw2mwKBQG3bb775RsePH5fD4Whh4seXTqe1srKi48ePtzoKgDZG2QNgCnfu3FGh
UJDNZlM+n5fL5VKhUFAwGFS1WlV/f39t22KxqO+//16Tk5MtTPz4vv32Wx0/fpzRPQCPRNkDcCCt
rKyop6endh1ep8lkMtrc3FQ4HG51FABtjrIHAB2oXC7XbgsDAI9C2QMAADAxbr0CAABgYpQ9AAAA
E6PsAQAAmBhlDwAAwMQoewAAACZG2QMAADAxyh4AAICJ/f8ZvHiJRsIcmgAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="(3e)-Handling-unseen-features-"><strong>(3e) Handling unseen features </strong><a class="anchor-link" href="#(3e)-Handling-unseen-features-">&#182;</a></h4><h4 id="We-naturally-would-like-to-repeat-the-process-from-Part-(3d),-e.g.,-to-compute-OHE-features-for-the-validation-and-test-datasets.--However,-we-must-be-careful,-as-some-categorical-values-will-likely-appear-in-new-data-that-did-not-exist-in-the-training-data.-To-deal-with-this-situation,-update-the-oneHotEncoding()-function-from-Part-(1d)-to-ignore-previously-unseen-categories,-and-then-compute-OHE-features-for-the-validation-data.">We naturally would like to repeat the process from Part (3d), e.g., to compute OHE features for the validation and test datasets.  However, we must be careful, as some categorical values will likely appear in new data that did not exist in the training data. To deal with this situation, update the <code>oneHotEncoding()</code> function from Part (1d) to ignore previously unseen categories, and then compute OHE features for the validation data.<a class="anchor-link" href="#We-naturally-would-like-to-repeat-the-process-from-Part-(3d),-e.g.,-to-compute-OHE-features-for-the-validation-and-test-datasets.--However,-we-must-be-careful,-as-some-categorical-values-will-likely-appear-in-new-data-that-did-not-exist-in-the-training-data.-To-deal-with-this-situation,-update-the-oneHotEncoding()-function-from-Part-(1d)-to-ignore-previously-unseen-categories,-and-then-compute-OHE-features-for-the-validation-data.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[58]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="k">def</span> <span class="nf">oneHotEncoding</span><span class="p">(</span><span class="n">rawFeats</span><span class="p">,</span> <span class="n">OHEDict</span><span class="p">,</span> <span class="n">numOHEFeats</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Produce a one-hot-encoding from a list of features and an OHE dictionary.</span>

<span class="sd">    Note:</span>
<span class="sd">        If a (featureID, value) tuple doesn&#39;t have a corresponding key in OHEDict it should be</span>
<span class="sd">        ignored.</span>

<span class="sd">    Args:</span>
<span class="sd">        rawFeats (list of (int, str)): The features corresponding to a single observation.  Each</span>
<span class="sd">            feature consists of a tuple of featureID and the feature&#39;s value. (e.g. sampleOne)</span>
<span class="sd">        OHEDict (dict): A mapping of (featureID, value) to unique integer.</span>
<span class="sd">        numOHEFeats (int): The total number of unique OHE features (combinations of featureID and</span>
<span class="sd">            value).</span>

<span class="sd">    Returns:</span>
<span class="sd">        SparseVector: A SparseVector of length numOHEFeats with indicies equal to the unique</span>
<span class="sd">            identifiers for the (featureID, value) combinations that occur in the observation and</span>
<span class="sd">            with values equal to 1.0.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">SparseVector</span><span class="p">(</span><span class="n">numOHEFeats</span><span class="p">,</span> 
                        <span class="nb">sorted</span><span class="p">([</span><span class="n">OHEDict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">rawFeats</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">OHEDict</span><span class="p">]),</span> 
                        <span class="p">[</span><span class="mi">1</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">rawFeats</span> <span class="k">if</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">OHEDict</span><span class="p">])</span>

<span class="n">OHEValidationData</span> <span class="o">=</span> <span class="n">rawValidationData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">point</span><span class="p">:</span> <span class="n">parseOHEPoint</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">ctrOHEDict</span><span class="p">,</span> <span class="n">numCtrOHEFeats</span><span class="p">))</span>
<span class="n">OHEValidationData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="k">print</span> <span class="n">OHEValidationData</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[LabeledPoint(0.0, (233286,[7576,9187,15510,21585,31213,36164,39525,49198,61786,66603,67218,68211,68311,73035,76672,81329,81396,91981,96929,98450,109699,110946,117015,121552,141711,146496,147649,171128,184132,184687,185498,194763,198537,201039,210717,213588,222162,222626,227709],[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0])), LabeledPoint(0.0, (233286,[7576,8264,8862,16881,21585,31213,36164,39525,43029,43297,55168,63379,65724,66736,71098,72327,77213,81396,86545,89865,109699,114086,114499,114713,117015,122902,140620,148971,156111,182640,185498,186074,188160,190575,197510,200292,206564,229942],[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]))]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[56]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Handling unseen features (3e)</span>
<span class="n">numNZVal</span> <span class="o">=</span> <span class="p">(</span><span class="n">OHEValidationData</span>
            <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">indices</span><span class="p">))</span>
            <span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">numNZVal</span><span class="p">,</span> <span class="mi">372080</span><span class="p">,</span> <span class="s">&#39;incorrect number of features&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="-Part-4:-CTR-prediction-and-logloss-evaluation-"><strong> Part 4: CTR prediction and logloss evaluation </strong><a class="anchor-link" href="#-Part-4:-CTR-prediction-and-logloss-evaluation-">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(4a)-Logistic-regression-"><strong> (4a) Logistic regression </strong><a class="anchor-link" href="#-(4a)-Logistic-regression-">&#182;</a></h4><h4 id="We-are-now-ready-to-train-our-first-CTR-classifier.--A-natural-classifier-to-use-in-this-setting-is-logistic-regression,-since-it-models-the-probability-of-a-click-through-event-rather-than-returning-a-binary-response,-and-when-working-with-rare-events,-probabilistic-predictions-are-useful.--First-use-LogisticRegressionWithSGD-to-train-a-model-using-OHETrainData-with-the-given-hyperparameter-configuration.--LogisticRegressionWithSGD-returns-a-LogisticRegressionModel.--Next,-use-the-LogisticRegressionModel.weights-and-LogisticRegressionModel.intercept-attributes-to-print-out-the-model's-parameters.--Note-that-these-are-the-names-of-the-object's-attributes-and-should-be-called-using-a-syntax-like-model.weights-for-a-given-model.">We are now ready to train our first CTR classifier.  A natural classifier to use in this setting is logistic regression, since it models the probability of a click-through event rather than returning a binary response, and when working with rare events, probabilistic predictions are useful.  First use <a href="https://spark.apache.org/docs/latest/api/python/pyspark.mllib.html#pyspark.mllib.classification.LogisticRegressionWithSGD">LogisticRegressionWithSGD</a> to train a model using <code>OHETrainData</code> with the given hyperparameter configuration.  <code>LogisticRegressionWithSGD</code> returns a <a href="https://spark.apache.org/docs/latest/api/python/pyspark.mllib.html#pyspark.mllib.regression.LogisticRegressionModel">LogisticRegressionModel</a>.  Next, use the <code>LogisticRegressionModel.weights</code> and <code>LogisticRegressionModel.intercept</code> attributes to print out the model's parameters.  Note that these are the names of the object's attributes and should be called using a syntax like <code>model.weights</code> for a given <code>model</code>.<a class="anchor-link" href="#We-are-now-ready-to-train-our-first-CTR-classifier.--A-natural-classifier-to-use-in-this-setting-is-logistic-regression,-since-it-models-the-probability-of-a-click-through-event-rather-than-returning-a-binary-response,-and-when-working-with-rare-events,-probabilistic-predictions-are-useful.--First-use-LogisticRegressionWithSGD-to-train-a-model-using-OHETrainData-with-the-given-hyperparameter-configuration.--LogisticRegressionWithSGD-returns-a-LogisticRegressionModel.--Next,-use-the-LogisticRegressionModel.weights-and-LogisticRegressionModel.intercept-attributes-to-print-out-the-model's-parameters.--Note-that-these-are-the-names-of-the-object's-attributes-and-should-be-called-using-a-syntax-like-model.weights-for-a-given-model.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[61]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">pyspark.mllib.classification</span> <span class="kn">import</span> <span class="n">LogisticRegressionWithSGD</span>

<span class="c"># fixed hyperparameters</span>
<span class="n">numIters</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">stepSize</span> <span class="o">=</span> <span class="mf">10.</span>
<span class="n">regParam</span> <span class="o">=</span> <span class="mf">1e-6</span>
<span class="n">regType</span> <span class="o">=</span> <span class="s">&#39;l2&#39;</span>
<span class="n">includeIntercept</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[62]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">model0</span> <span class="o">=</span> <span class="n">LogisticRegressionWithSGD</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">OHETrainData</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="n">numIters</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="n">stepSize</span><span class="p">,</span> 
                                   <span class="n">regParam</span><span class="o">=</span><span class="n">regParam</span><span class="p">,</span> <span class="n">regType</span><span class="o">=</span><span class="n">regType</span><span class="p">,</span> <span class="n">intercept</span><span class="o">=</span><span class="n">includeIntercept</span><span class="p">)</span>
<span class="n">sortedWeights</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">model0</span><span class="o">.</span><span class="n">weights</span><span class="p">)</span>
<span class="k">print</span> <span class="n">sortedWeights</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span> <span class="n">model0</span><span class="o">.</span><span class="n">intercept</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[-0.45899236853575615, -0.37973707648623961, -0.3699655826675331, -0.36934962879928257, -0.32697945415010637] 0.56455084025
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[63]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Logistic regression (4a)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">model0</span><span class="o">.</span><span class="n">intercept</span><span class="p">,</span>  <span class="mf">0.56455084025</span><span class="p">),</span> <span class="s">&#39;incorrect value for model0.intercept&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">sortedWeights</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">],</span>
                <span class="p">[</span><span class="o">-</span><span class="mf">0.45899236853575609</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.37973707648623956</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.36996558266753304</span><span class="p">,</span>
                 <span class="o">-</span><span class="mf">0.36934962879928263</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.32697945415010637</span><span class="p">]),</span> <span class="s">&#39;incorrect value for model0.weights&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(4b)-Log-loss-"><strong> (4b) Log loss </strong><a class="anchor-link" href="#-(4b)-Log-loss-">&#182;</a></h4><h4>Throughout this lab, we will use log loss to evaluate the quality of models.  Log loss is defined as: $$  \begin{align} \scriptsize \ell_{log}(p, y) = \begin{cases} -\log (p) & \text{if } y = 1 \\\ -\log(1-p) & \text{if } y = 0 \end{cases} \end{align} $$ where $ \scriptsize p$ is a probability between 0 and 1 and $ \scriptsize y$ is a label of either 0 or 1. Log loss is a standard evaluation criterion when predicting rare-events such as click-through rate prediction (it is also the criterion used in the <a href="https://www.kaggle.com/c/criteo-display-ad-challenge">Criteo Kaggle competition</a>).  Write a function to compute log loss, and evaluate it on some sample inputs.</h4>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[64]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span>

<span class="k">def</span> <span class="nf">computeLogLoss</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculates the value of log loss for a given probabilty and label.</span>

<span class="sd">    Note:</span>
<span class="sd">        log(0) is undefined, so when p is 0 we need to add a small value (epsilon) to it</span>
<span class="sd">        and when p is 1 we need to subtract a small value (epsilon) from it.</span>

<span class="sd">    Args:</span>
<span class="sd">        p (float): A probabilty between 0 and 1.</span>
<span class="sd">        y (int): A label.  Takes on the values 0 and 1.</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: The log loss value.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">epsilon</span> <span class="o">=</span> <span class="mf">10e-12</span>
    <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">+</span> <span class="n">epsilon</span>
    <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">-</span> <span class="n">epsilon</span>
    <span class="k">return</span> <span class="o">-</span><span class="p">(</span><span class="n">y</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">p</span><span class="p">))</span>

<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mi">99</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mi">99</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mo">01</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mo">01</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="k">print</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.69314718056
0.69314718056
0.0100503358535
4.60517018599
4.60517018599
0.0100503358535
25.3284360229
1.00000008275e-11
25.3284359402
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[65]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Log loss (4b)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">([</span><span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mo">01</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="o">.</span><span class="mo">01</span><span class="p">,</span> <span class="mi">1</span><span class="p">)],</span>
                            <span class="p">[</span><span class="mf">0.69314718056</span><span class="p">,</span> <span class="mf">0.0100503358535</span><span class="p">,</span> <span class="mf">4.60517018599</span><span class="p">]),</span>
                <span class="s">&#39;computeLogLoss is not correct&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">([</span><span class="n">computeLogLoss</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)],</span>
                            <span class="p">[</span><span class="mf">25.3284360229</span><span class="p">,</span> <span class="mf">1.00000008275e-11</span><span class="p">,</span> <span class="mf">25.3284360229</span><span class="p">]),</span>
                <span class="s">&#39;computeLogLoss needs to bound p away from 0 and 1 by epsilon&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(4c)--Baseline-log-loss-"><strong> (4c)  Baseline log loss </strong><a class="anchor-link" href="#-(4c)--Baseline-log-loss-">&#182;</a></h4><h4 id="Next-we-will-use-the-function-we-wrote-in-Part-(4b)-to-compute-the-baseline-log-loss-on-the-training-data.-A-very-simple-yet-natural-baseline-model-is-one-where-we-always-make-the-same-prediction-independent-of-the-given-datapoint,-setting-the-predicted-value-equal-to-the-fraction-of-training-points-that-correspond-to-click-through-events-(i.e.,-where-the-label-is-one).-Compute-this-value-(which-is-simply-the-mean-of-the-training-labels),-and-then-use-it-to-compute-the-training-log-loss-for-the-baseline-model.--The-log-loss-for-multiple-observations-is-the-mean-of-the-individual-log-loss-values.">Next we will use the function we wrote in Part (4b) to compute the baseline log loss on the training data. A very simple yet natural baseline model is one where we always make the same prediction independent of the given datapoint, setting the predicted value equal to the fraction of training points that correspond to click-through events (i.e., where the label is one). Compute this value (which is simply the mean of the training labels), and then use it to compute the training log loss for the baseline model.  The log loss for multiple observations is the mean of the individual log loss values.<a class="anchor-link" href="#Next-we-will-use-the-function-we-wrote-in-Part-(4b)-to-compute-the-baseline-log-loss-on-the-training-data.-A-very-simple-yet-natural-baseline-model-is-one-where-we-always-make-the-same-prediction-independent-of-the-given-datapoint,-setting-the-predicted-value-equal-to-the-fraction-of-training-points-that-correspond-to-click-through-events-(i.e.,-where-the-label-is-one).-Compute-this-value-(which-is-simply-the-mean-of-the-training-labels),-and-then-use-it-to-compute-the-training-log-loss-for-the-baseline-model.--The-log-loss-for-multiple-observations-is-the-mean-of-the-individual-log-loss-values.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[66]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="c"># Note that our dataset has a very high click-through rate by design</span>
<span class="c"># In practice click-through rate can be one to two orders of magnitude lower</span>
<span class="n">classOneFracTrain</span> <span class="o">=</span> <span class="n">OHETrainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">OHETrainData</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="k">print</span> <span class="n">classOneFracTrain</span>

<span class="n">logLossTrBase</span> <span class="o">=</span> <span class="n">OHETrainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="n">classOneFracTrain</span><span class="p">,</span> <span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">OHETrainData</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&#39;Baseline Train Logloss = {0:.3f}</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">logLossTrBase</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>0.22717773523
Baseline Train Logloss = 0.536

</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[67]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Baseline log loss (4c)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">classOneFracTrain</span><span class="p">,</span> <span class="mf">0.22717773523</span><span class="p">),</span> <span class="s">&#39;incorrect value for classOneFracTrain&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">logLossTrBase</span><span class="p">,</span> <span class="mf">0.535844</span><span class="p">),</span> <span class="s">&#39;incorrect value for logLossTrBase&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(4d)-Predicted-probability-"><strong> (4d) Predicted probability </strong><a class="anchor-link" href="#-(4d)-Predicted-probability-">&#182;</a></h4><h4 id="In-order-to-compute-the-log-loss-for-the-model-we-trained-in-Part-(4a),-we-need-to-write-code-to-generate-predictions-from-this-model.-Write-a-function-that-computes-the-raw-linear-prediction-from-this-logistic-regression-model-and-then-passes-it-through-a-sigmoid-function-$-\scriptsize-\sigma(t)-=-(1+-e^{-t})^{-1}-$-to-return-the-model's-probabilistic-prediction.-Then-compute-probabilistic-predictions-on-the-training-data.">In order to compute the log loss for the model we trained in Part (4a), we need to write code to generate predictions from this model. Write a function that computes the raw linear prediction from this logistic regression model and then passes it through a <a href="http://en.wikipedia.org/wiki/Sigmoid_function">sigmoid function</a> $ \scriptsize \sigma(t) = (1+ e^{-t})^{-1} $ to return the model's probabilistic prediction. Then compute probabilistic predictions on the training data.<a class="anchor-link" href="#In-order-to-compute-the-log-loss-for-the-model-we-trained-in-Part-(4a),-we-need-to-write-code-to-generate-predictions-from-this-model.-Write-a-function-that-computes-the-raw-linear-prediction-from-this-logistic-regression-model-and-then-passes-it-through-a-sigmoid-function-$-\scriptsize-\sigma(t)-=-(1+-e^{-t})^{-1}-$-to-return-the-model's-probabilistic-prediction.-Then-compute-probabilistic-predictions-on-the-training-data.">&#182;</a></h4><h4 id="Note-that-when-incorporating-an-intercept-into-our-predictions,-we-simply-add-the-intercept-to-the-value-of-the-prediction-obtained-from-the-weights-and-features.--Alternatively,-if-the-intercept-was-included-as-the-first-weight,-we-would-need-to-add-a-corresponding-feature-to-our-data-where-the-feature-has-the-value-one.--This-is-not-the-case-here.">Note that when incorporating an intercept into our predictions, we simply add the intercept to the value of the prediction obtained from the weights and features.  Alternatively, if the intercept was included as the first weight, we would need to add a corresponding feature to our data where the feature has the value one.  This is not the case here.<a class="anchor-link" href="#Note-that-when-incorporating-an-intercept-into-our-predictions,-we-simply-add-the-intercept-to-the-value-of-the-prediction-obtained-from-the-weights-and-features.--Alternatively,-if-the-intercept-was-included-as-the-first-weight,-we-would-need-to-add-a-corresponding-feature-to-our-data-where-the-feature-has-the-value-one.--This-is-not-the-case-here.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[68]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">exp</span> <span class="c">#  exp(-t) = e^-t</span>

<span class="k">def</span> <span class="nf">getP</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">intercept</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculate the probability for an observation given a set of weights and intercept.</span>

<span class="sd">    Note:</span>
<span class="sd">        We&#39;ll bound our raw prediction between 20 and -20 for numerical purposes.</span>

<span class="sd">    Args:</span>
<span class="sd">        x (SparseVector): A vector with values of 1.0 for features that exist in this</span>
<span class="sd">            observation and 0.0 otherwise.</span>
<span class="sd">        w (DenseVector): A vector of weights (betas) for the model.</span>
<span class="sd">        intercept (float): The model&#39;s intercept.</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: A probability between 0 and 1.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">rawPrediction</span> <span class="o">=</span> <span class="n">x</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="o">+</span> <span class="n">intercept</span>

    <span class="c"># Bound the raw prediction value</span>
    <span class="n">rawPrediction</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">rawPrediction</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">rawPrediction</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">rawPrediction</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">rawPrediction</span><span class="p">))</span>

<span class="n">trainingPredictions</span> <span class="o">=</span> <span class="n">OHETrainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">getP</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="p">,</span> <span class="n">model0</span><span class="o">.</span><span class="n">weights</span><span class="p">,</span> <span class="n">model0</span><span class="o">.</span><span class="n">intercept</span><span class="p">))</span>

<span class="k">print</span> <span class="n">trainingPredictions</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[0.3026288202391113, 0.10362661997434088, 0.28363424783875607, 0.17846102057880114, 0.5389775379218853]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[69]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Predicted probability (4d)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">trainingPredictions</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="mf">18135.4834348</span><span class="p">),</span>
                <span class="s">&#39;incorrect value for trainingPredictions&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(4e)-Evaluate-the-model-"><strong> (4e) Evaluate the model </strong><a class="anchor-link" href="#-(4e)-Evaluate-the-model-">&#182;</a></h4><h4 id="We-are-now-ready-to-evaluate-the-quality-of-the-model-we-trained-in-Part-(4a).-To-do-this,-first-write-a-general-function-that-takes-as-input-a-model-and-data,-and-outputs-the-log-loss.--Then-run-this-function-on-the-OHE-training-data,-and-compare-the-result-with-the-baseline-log-loss.">We are now ready to evaluate the quality of the model we trained in Part (4a). To do this, first write a general function that takes as input a model and data, and outputs the log loss.  Then run this function on the OHE training data, and compare the result with the baseline log loss.<a class="anchor-link" href="#We-are-now-ready-to-evaluate-the-quality-of-the-model-we-trained-in-Part-(4a).-To-do-this,-first-write-a-general-function-that-takes-as-input-a-model-and-data,-and-outputs-the-log-loss.--Then-run-this-function-on-the-OHE-training-data,-and-compare-the-result-with-the-baseline-log-loss.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[70]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="k">def</span> <span class="nf">evaluateResults</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculates the log loss for the data given the model.</span>

<span class="sd">    Args:</span>
<span class="sd">        model (LogisticRegressionModel): A trained logistic regression model.</span>
<span class="sd">        data (RDD of LabeledPoint): Labels and features for each observation.</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: Log loss for the data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">labelPredictions</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="p">(</span><span class="n">getP</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">weights</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">intercept</span><span class="p">),</span> <span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">labelPredictions</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">l</span><span class="p">):</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">l</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">labelPredictions</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="n">logLossTrLR0</span> <span class="o">=</span> <span class="n">evaluateResults</span><span class="p">(</span><span class="n">model0</span><span class="p">,</span> <span class="n">OHETrainData</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&#39;OHE Features Train Logloss:</span><span class="se">\n\t</span><span class="s">Baseline = {0:.3f}</span><span class="se">\n\t</span><span class="s">LogReg = {1:.3f}&#39;</span>
       <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">logLossTrBase</span><span class="p">,</span> <span class="n">logLossTrLR0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>OHE Features Train Logloss:
	Baseline = 0.536
	LogReg = 0.457
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[71]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Evaluate the model (4e)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">logLossTrLR0</span><span class="p">,</span> <span class="mf">0.456903</span><span class="p">),</span> <span class="s">&#39;incorrect value for logLossTrLR0&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(4f)-Validation-log-loss-"><strong> (4f) Validation log loss </strong><a class="anchor-link" href="#-(4f)-Validation-log-loss-">&#182;</a></h4><h4 id="Next,-following-the-same-logic-as-in-Parts-(4c)-and-4(e),-compute-the-validation-log-loss-for-both-the-baseline-and-logistic-regression-models.-Notably,-the-baseline-model-for-the-validation-data-should-still-be-based-on-the-label-fraction-from-the-training-dataset.">Next, following the same logic as in Parts (4c) and 4(e), compute the validation log loss for both the baseline and logistic regression models. Notably, the baseline model for the validation data should still be based on the label fraction from the training dataset.<a class="anchor-link" href="#Next,-following-the-same-logic-as-in-Parts-(4c)-and-4(e),-compute-the-validation-log-loss-for-both-the-baseline-and-logistic-regression-models.-Notably,-the-baseline-model-for-the-validation-data-should-still-be-based-on-the-label-fraction-from-the-training-dataset.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[72]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">logLossValBase</span> <span class="o">=</span> <span class="n">OHEValidationData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="n">classOneFracTrain</span><span class="p">,</span> <span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">OHEValidationData</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="n">logLossValLR0</span> <span class="o">=</span> <span class="n">evaluateResults</span><span class="p">(</span><span class="n">model0</span><span class="p">,</span> <span class="n">OHEValidationData</span><span class="p">)</span>
<span class="k">print</span> <span class="p">(</span><span class="s">&#39;OHE Features Validation Logloss:</span><span class="se">\n\t</span><span class="s">Baseline = {0:.3f}</span><span class="se">\n\t</span><span class="s">LogReg = {1:.3f}&#39;</span>
       <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">logLossValBase</span><span class="p">,</span> <span class="n">logLossValLR0</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>OHE Features Validation Logloss:
	Baseline = 0.528
	LogReg = 0.457
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[73]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Validation log loss (4f)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">logLossValBase</span><span class="p">,</span> <span class="mf">0.527603</span><span class="p">),</span> <span class="s">&#39;incorrect value for logLossValBase&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">logLossValLR0</span><span class="p">,</span> <span class="mf">0.456957</span><span class="p">),</span> <span class="s">&#39;incorrect value for logLossValLR0&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Visualization-2:-ROC-curve-"><strong>Visualization 2: ROC curve </strong><a class="anchor-link" href="#Visualization-2:-ROC-curve-">&#182;</a></h4><h4 id="We-will-now-visualize-how-well-the-model-predicts-our-target.--To-do-this-we-generate-a-plot-of-the-ROC-curve.--The-ROC-curve-shows-us-the-trade-off-between-the-false-positive-rate-and-true-positive-rate,-as-we-liberalize-the-threshold-required-to-predict-a-positive-outcome.--A-random-model-is-represented-by-the-dashed-line.">We will now visualize how well the model predicts our target.  To do this we generate a plot of the ROC curve.  The ROC curve shows us the trade-off between the false positive rate and true positive rate, as we liberalize the threshold required to predict a positive outcome.  A random model is represented by the dashed line.<a class="anchor-link" href="#We-will-now-visualize-how-well-the-model-predicts-our-target.--To-do-this-we-generate-a-plot-of-the-ROC-curve.--The-ROC-curve-shows-us-the-trade-off-between-the-false-positive-rate-and-true-positive-rate,-as-we-liberalize-the-threshold-required-to-predict-a-positive-outcome.--A-random-model-is-represented-by-the-dashed-line.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[74]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">labelsAndScores</span> <span class="o">=</span> <span class="n">OHEValidationData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span>
                                            <span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">getP</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="p">,</span> <span class="n">model0</span><span class="o">.</span><span class="n">weights</span><span class="p">,</span> <span class="n">model0</span><span class="o">.</span><span class="n">intercept</span><span class="p">)))</span>
<span class="n">labelsAndWeights</span> <span class="o">=</span> <span class="n">labelsAndScores</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>
<span class="n">labelsAndWeights</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span> <span class="n">v</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">labelsByWeight</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">k</span> <span class="k">for</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">labelsAndWeights</span><span class="p">])</span>

<span class="n">length</span> <span class="o">=</span> <span class="n">labelsByWeight</span><span class="o">.</span><span class="n">size</span>
<span class="n">truePositives</span> <span class="o">=</span> <span class="n">labelsByWeight</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
<span class="n">numPositive</span> <span class="o">=</span> <span class="n">truePositives</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">falsePositives</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">1.</span><span class="p">)</span> <span class="o">-</span> <span class="n">truePositives</span>

<span class="n">truePositiveRate</span> <span class="o">=</span> <span class="n">truePositives</span> <span class="o">/</span> <span class="n">numPositive</span>
<span class="n">falsePositiveRate</span> <span class="o">=</span> <span class="n">falsePositives</span> <span class="o">/</span> <span class="p">(</span><span class="n">length</span> <span class="o">-</span> <span class="n">numPositive</span><span class="p">)</span>

<span class="c"># Generate layout and plot data</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">preparePlot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="o">-.</span><span class="mo">05</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">),</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="o">-.</span><span class="mo">05</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;True Positive Rate (Sensitivity)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;False Positive Rate (1 - Specificity)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">falsePositiveRate</span><span class="p">,</span> <span class="n">truePositiveRate</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;#8cbfd0&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">3.</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">),</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;--&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;#d6ebf2&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">2.</span><span class="p">)</span>  <span class="c"># Baseline model</span>
<span class="k">pass</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Part-5:-Reduce-feature-dimension-via-feature-hashing"><strong>Part 5: Reduce feature dimension via feature hashing</strong><a class="anchor-link" href="#Part-5:-Reduce-feature-dimension-via-feature-hashing">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(5a)-Hash-function-"><strong> (5a) Hash function </strong><a class="anchor-link" href="#-(5a)-Hash-function-">&#182;</a></h4><h4 id="As-we-just-saw,-using-a-one-hot-encoding-featurization-can-yield-a-model-with-good-statistical-accuracy.--However,-the-number-of-distinct-categories-across-all-features-is-quite-large----recall-that-we-observed-233K-categories-in-the-training-data-in-Part-(3c).--Moreover,-the-full-Kaggle-training-dataset-includes-more-than-33M-distinct-categories,-and-the-Kaggle-dataset-itself-is-just-a-small-subset-of-Criteo's-labeled-data.--Hence,-featurizing-via-a-one-hot-encoding-representation-would-lead-to-a-very-large-feature-vector.-To-reduce-the-dimensionality-of-the-feature-space,-we-will-use-feature-hashing.">As we just saw, using a one-hot-encoding featurization can yield a model with good statistical accuracy.  However, the number of distinct categories across all features is quite large -- recall that we observed 233K categories in the training data in Part (3c).  Moreover, the full Kaggle training dataset includes more than 33M distinct categories, and the Kaggle dataset itself is just a small subset of Criteo's labeled data.  Hence, featurizing via a one-hot-encoding representation would lead to a very large feature vector. To reduce the dimensionality of the feature space, we will use feature hashing.<a class="anchor-link" href="#As-we-just-saw,-using-a-one-hot-encoding-featurization-can-yield-a-model-with-good-statistical-accuracy.--However,-the-number-of-distinct-categories-across-all-features-is-quite-large----recall-that-we-observed-233K-categories-in-the-training-data-in-Part-(3c).--Moreover,-the-full-Kaggle-training-dataset-includes-more-than-33M-distinct-categories,-and-the-Kaggle-dataset-itself-is-just-a-small-subset-of-Criteo's-labeled-data.--Hence,-featurizing-via-a-one-hot-encoding-representation-would-lead-to-a-very-large-feature-vector.-To-reduce-the-dimensionality-of-the-feature-space,-we-will-use-feature-hashing.">&#182;</a></h4><h4 id="Below-is-the-hash-function-that-we-will-use-for-this-part-of-the-lab.--We-will-first-use-this-hash-function-with-the-three-sample-data-points-from-Part-(1a)-to-gain-some-intuition.--Specifically,-run-code-to-hash-the-three-sample-points-using-two-different-values-for-numBuckets-and-observe-the-resulting-hashed-feature-dictionaries.">Below is the hash function that we will use for this part of the lab.  We will first use this hash function with the three sample data points from Part (1a) to gain some intuition.  Specifically, run code to hash the three sample points using two different values for <code>numBuckets</code> and observe the resulting hashed feature dictionaries.<a class="anchor-link" href="#Below-is-the-hash-function-that-we-will-use-for-this-part-of-the-lab.--We-will-first-use-this-hash-function-with-the-three-sample-data-points-from-Part-(1a)-to-gain-some-intuition.--Specifically,-run-code-to-hash-the-three-sample-points-using-two-different-values-for-numBuckets-and-observe-the-resulting-hashed-feature-dictionaries.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[75]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">import</span> <span class="nn">hashlib</span>

<span class="k">def</span> <span class="nf">hashFunction</span><span class="p">(</span><span class="n">numBuckets</span><span class="p">,</span> <span class="n">rawFeats</span><span class="p">,</span> <span class="n">printMapping</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculate a feature dictionary for an observation&#39;s features based on hashing.</span>

<span class="sd">    Note:</span>
<span class="sd">        Use printMapping=True for debug purposes and to better understand how the hashing works.</span>

<span class="sd">    Args:</span>
<span class="sd">        numBuckets (int): Number of buckets to use as features.</span>
<span class="sd">        rawFeats (list of (int, str)): A list of features for an observation.  Represented as</span>
<span class="sd">            (featureID, value) tuples.</span>
<span class="sd">        printMapping (bool, optional): If true, the mappings of featureString to index will be</span>
<span class="sd">            printed.</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict of int to float:  The keys will be integers which represent the buckets that the</span>
<span class="sd">            features have been hashed to.  The value for a given key will contain the count of the</span>
<span class="sd">            (featureID, value) tuples that have hashed to that key.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mapping</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">rawFeats</span><span class="p">:</span>
        <span class="n">featureString</span> <span class="o">=</span> <span class="n">category</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">ind</span><span class="p">)</span>
        <span class="n">mapping</span><span class="p">[</span><span class="n">featureString</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">(</span><span class="n">featureString</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">(),</span> <span class="mi">16</span><span class="p">)</span> <span class="o">%</span> <span class="n">numBuckets</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">printMapping</span><span class="p">):</span> <span class="k">print</span> <span class="n">mapping</span>
    <span class="n">sparseFeatures</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">bucket</span> <span class="ow">in</span> <span class="n">mapping</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">sparseFeatures</span><span class="p">[</span><span class="n">bucket</span><span class="p">]</span> <span class="o">+=</span> <span class="mf">1.0</span>
    <span class="k">return</span> <span class="nb">dict</span><span class="p">(</span><span class="n">sparseFeatures</span><span class="p">)</span>

<span class="c"># Reminder of the sample values:</span>
<span class="c"># sampleOne = [(0, &#39;mouse&#39;), (1, &#39;black&#39;)]</span>
<span class="c"># sampleTwo = [(0, &#39;cat&#39;), (1, &#39;tabby&#39;), (2, &#39;mouse&#39;)]</span>
<span class="c"># sampleThree =  [(0, &#39;bear&#39;), (1, &#39;black&#39;), (2, &#39;salmon&#39;)]</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[76]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="c"># Use four buckets</span>
<span class="n">sampOneFourBuckets</span> <span class="o">=</span> <span class="n">hashFunction</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">sampleOne</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">sampTwoFourBuckets</span> <span class="o">=</span> <span class="n">hashFunction</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">sampleTwo</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">sampThreeFourBuckets</span> <span class="o">=</span> <span class="n">hashFunction</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">sampleThree</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<span class="c"># Use one hundred buckets</span>
<span class="n">sampOneHundredBuckets</span> <span class="o">=</span> <span class="n">hashFunction</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">sampleOne</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">sampTwoHundredBuckets</span> <span class="o">=</span> <span class="n">hashFunction</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">sampleTwo</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="n">sampThreeHundredBuckets</span> <span class="o">=</span> <span class="n">hashFunction</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">sampleThree</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;</span><span class="se">\t\t</span><span class="s"> 4 Buckets </span><span class="se">\t\t\t</span><span class="s"> 100 Buckets&#39;</span>
<span class="k">print</span> <span class="s">&#39;SampleOne:</span><span class="se">\t</span><span class="s"> {0}</span><span class="se">\t\t</span><span class="s"> {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sampOneFourBuckets</span><span class="p">,</span> <span class="n">sampOneHundredBuckets</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;SampleTwo:</span><span class="se">\t</span><span class="s"> {0}</span><span class="se">\t\t</span><span class="s"> {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sampTwoFourBuckets</span><span class="p">,</span> <span class="n">sampTwoHundredBuckets</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;SampleThree:</span><span class="se">\t</span><span class="s"> {0}</span><span class="se">\t</span><span class="s"> {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sampThreeFourBuckets</span><span class="p">,</span> <span class="n">sampThreeHundredBuckets</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>{&apos;black1&apos;: 2, &apos;mouse0&apos;: 3}
{&apos;cat0&apos;: 0, &apos;tabby1&apos;: 0, &apos;mouse2&apos;: 2}
{&apos;bear0&apos;: 0, &apos;black1&apos;: 2, &apos;salmon2&apos;: 1}
{&apos;black1&apos;: 14, &apos;mouse0&apos;: 31}
{&apos;cat0&apos;: 40, &apos;tabby1&apos;: 16, &apos;mouse2&apos;: 62}
{&apos;bear0&apos;: 72, &apos;black1&apos;: 14, &apos;salmon2&apos;: 5}
		 4 Buckets 			 100 Buckets
SampleOne:	 {2: 1.0, 3: 1.0}		 {14: 1.0, 31: 1.0}
SampleTwo:	 {0: 2.0, 2: 1.0}		 {40: 1.0, 16: 1.0, 62: 1.0}
SampleThree:	 {0: 1.0, 1: 1.0, 2: 1.0}	 {72: 1.0, 5: 1.0, 14: 1.0}
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[77]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Hash function (5a)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">sampOneFourBuckets</span><span class="p">,</span> <span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span> <span class="s">&#39;incorrect value for sampOneFourBuckets&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">sampThreeHundredBuckets</span><span class="p">,</span> <span class="p">{</span><span class="mi">72</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mi">14</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">},</span>
                  <span class="s">&#39;incorrect value for sampThreeHundredBuckets&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(5b)-Creating-hashed-features-"><strong> (5b) Creating hashed features </strong><a class="anchor-link" href="#-(5b)-Creating-hashed-features-">&#182;</a></h4><h4 id="Next-we-will-use-this-hash-function-to-create-hashed-features-for-our-CTR-datasets.-First-write-a-function-that-uses-the-hash-function-from-Part-(5a)-with-numBuckets-=-$-\scriptsize-2^{15}-\approx-33K-$-to-create-a-LabeledPoint-with-hashed-features-stored-as-a-SparseVector.--Then-use-this-function-to-create-new-training,-validation-and-test-datasets-with-hashed-features.-Hint:-parsedHashPoint-is-similar-to-parseOHEPoint-from-Part-(3d).">Next we will use this hash function to create hashed features for our CTR datasets. First write a function that uses the hash function from Part (5a) with numBuckets = $ \scriptsize 2^{15} \approx 33K $ to create a <code>LabeledPoint</code> with hashed features stored as a <code>SparseVector</code>.  Then use this function to create new training, validation and test datasets with hashed features. Hint: <code>parsedHashPoint</code> is similar to <code>parseOHEPoint</code> from Part (3d).<a class="anchor-link" href="#Next-we-will-use-this-hash-function-to-create-hashed-features-for-our-CTR-datasets.-First-write-a-function-that-uses-the-hash-function-from-Part-(5a)-with-numBuckets-=-$-\scriptsize-2^{15}-\approx-33K-$-to-create-a-LabeledPoint-with-hashed-features-stored-as-a-SparseVector.--Then-use-this-function-to-create-new-training,-validation-and-test-datasets-with-hashed-features.-Hint:-parsedHashPoint-is-similar-to-parseOHEPoint-from-Part-(3d).">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[78]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="k">def</span> <span class="nf">parseHashPoint</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">numBuckets</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a LabeledPoint for this observation using hashing.</span>

<span class="sd">    Args:</span>
<span class="sd">        point (str): A comma separated string where the first value is the label and the rest are</span>
<span class="sd">            features.</span>
<span class="sd">        numBuckets: The number of buckets to hash to.</span>

<span class="sd">    Returns:</span>
<span class="sd">        LabeledPoint: A LabeledPoint with a label (0.0 or 1.0) and a SparseVector of hashed</span>
<span class="sd">            features.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">point</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">feature_list</span> <span class="o">=</span> <span class="n">parsePoint</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
    <span class="n">dict_hashed_features</span> <span class="o">=</span> <span class="n">hashFunction</span><span class="p">(</span><span class="n">numBuckets</span><span class="p">,</span> <span class="n">feature_list</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">LabeledPoint</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">SparseVector</span><span class="p">(</span><span class="n">numBuckets</span><span class="p">,</span> <span class="n">dict_hashed_features</span><span class="p">))</span>

<span class="n">numBucketsCTR</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">**</span> <span class="mi">15</span>
<span class="n">hashTrainData</span> <span class="o">=</span> <span class="n">rawTrainData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">point</span><span class="p">:</span> <span class="n">parseHashPoint</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">numBucketsCTR</span><span class="p">))</span>
<span class="n">hashTrainData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="n">hashValidationData</span> <span class="o">=</span> <span class="n">rawValidationData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">point</span><span class="p">:</span> <span class="n">parseHashPoint</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">numBucketsCTR</span><span class="p">))</span>
<span class="n">hashValidationData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>
<span class="n">hashTestData</span> <span class="o">=</span> <span class="n">rawTestData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">point</span><span class="p">:</span> <span class="n">parseHashPoint</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">numBucketsCTR</span><span class="p">))</span>
<span class="n">hashTestData</span><span class="o">.</span><span class="n">cache</span><span class="p">()</span>

<span class="k">print</span> <span class="n">hashTrainData</span><span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>[LabeledPoint(0.0, (32768,[1305,2883,3807,4814,4866,4913,6952,7117,9985,10316,11512,11722,12365,13893,14735,15816,16198,17761,19274,21604,22256,22563,22785,24855,25202,25533,25721,26487,26656,27668,28211,29152,29402,29873,30039,31484,32493,32708],[1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0]))]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[79]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Creating hashed features (5b)</span>
<span class="n">hashTrainDataFeatureSum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">hashTrainData</span>
                           <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">indices</span><span class="p">))</span>
                           <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="n">hashTrainDataLabelSum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">hashTrainData</span>
                         <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
                         <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="n">hashValidationDataFeatureSum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">hashValidationData</span>
                                <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">indices</span><span class="p">))</span>
                                <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="n">hashValidationDataLabelSum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">hashValidationData</span>
                              <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
                              <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="n">hashTestDataFeatureSum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">hashTestData</span>
                          <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">indices</span><span class="p">))</span>
                          <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="n">hashTestDataLabelSum</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">hashTestData</span>
                        <span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">)</span>
                        <span class="o">.</span><span class="n">take</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>

<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">hashTrainDataFeatureSum</span><span class="p">,</span> <span class="mi">772</span><span class="p">,</span> <span class="s">&#39;incorrect number of features in hashTrainData&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">hashTrainDataLabelSum</span><span class="p">,</span> <span class="mf">24.0</span><span class="p">,</span> <span class="s">&#39;incorrect labels in hashTrainData&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">hashValidationDataFeatureSum</span><span class="p">,</span> <span class="mi">776</span><span class="p">,</span>
                  <span class="s">&#39;incorrect number of features in hashValidationData&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">hashValidationDataLabelSum</span><span class="p">,</span> <span class="mf">16.0</span><span class="p">,</span> <span class="s">&#39;incorrect labels in hashValidationData&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">hashTestDataFeatureSum</span><span class="p">,</span> <span class="mi">774</span><span class="p">,</span> <span class="s">&#39;incorrect number of features in hashTestData&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertEquals</span><span class="p">(</span><span class="n">hashTestDataLabelSum</span><span class="p">,</span> <span class="mf">23.0</span><span class="p">,</span> <span class="s">&#39;incorrect labels in hashTestData&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
1 test passed.
1 test passed.
1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(5c)-Sparsity-"><strong> (5c) Sparsity </strong><a class="anchor-link" href="#-(5c)-Sparsity-">&#182;</a></h4><h4 id="Since-we-have-33K-hashed-features-versus-233K-OHE-features,-we-should-expect-OHE-features-to-be-sparser.-Verify-this-hypothesis-by-computing-the-average-sparsity-of-the-OHE-and-the-hashed-training-datasets.">Since we have 33K hashed features versus 233K OHE features, we should expect OHE features to be sparser. Verify this hypothesis by computing the average sparsity of the OHE and the hashed training datasets.<a class="anchor-link" href="#Since-we-have-33K-hashed-features-versus-233K-OHE-features,-we-should-expect-OHE-features-to-be-sparser.-Verify-this-hypothesis-by-computing-the-average-sparsity-of-the-OHE-and-the-hashed-training-datasets.">&#182;</a></h4><h4 id="Note-that-if-you-have-a-SparseVector-named-sparse,-calling-len(sparse)-returns-the-total-number-of-features,-not-the-number-features-with-entries.--SparseVector-objects-have-the-attributes-indices-and-values-that-contain-information-about-which-features-are-nonzero.--Continuing-with-our-example,-these-can-be-accessed-using-sparse.indices-and-sparse.values,-respectively.">Note that if you have a <code>SparseVector</code> named <code>sparse</code>, calling <code>len(sparse)</code> returns the total number of features, not the number features with entries.  <code>SparseVector</code> objects have the attributes <code>indices</code> and <code>values</code> that contain information about which features are nonzero.  Continuing with our example, these can be accessed using <code>sparse.indices</code> and <code>sparse.values</code>, respectively.<a class="anchor-link" href="#Note-that-if-you-have-a-SparseVector-named-sparse,-calling-len(sparse)-returns-the-total-number-of-features,-not-the-number-features-with-entries.--SparseVector-objects-have-the-attributes-indices-and-values-that-contain-information-about-which-features-are-nonzero.--Continuing-with-our-example,-these-can-be-accessed-using-sparse.indices-and-sparse.values,-respectively.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[80]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="k">def</span> <span class="nf">computeSparsity</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Calculates the average sparsity for the features in an RDD of LabeledPoints.</span>

<span class="sd">    Args:</span>
<span class="sd">        data (RDD of LabeledPoint): The LabeledPoints to use in the sparsity calculation.</span>
<span class="sd">        d (int): The total number of features.</span>
<span class="sd">        n (int): The number of observations in the RDD.</span>

<span class="sd">    Returns:</span>
<span class="sd">        float: The average of the ratio of features in a point to total features.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">data</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lp</span><span class="o">.</span><span class="n">features</span><span class="o">.</span><span class="n">values</span><span class="p">)</span> <span class="o">*</span> <span class="mf">1.0</span><span class="p">)</span> <span class="o">/</span> <span class="n">d</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">n</span>

<span class="n">averageSparsityHash</span> <span class="o">=</span> <span class="n">computeSparsity</span><span class="p">(</span><span class="n">hashTrainData</span><span class="p">,</span> <span class="n">numBucketsCTR</span><span class="p">,</span> <span class="n">nTrain</span><span class="p">)</span>
<span class="n">averageSparsityOHE</span> <span class="o">=</span> <span class="n">computeSparsity</span><span class="p">(</span><span class="n">OHETrainData</span><span class="p">,</span> <span class="n">numCtrOHEFeats</span><span class="p">,</span> <span class="n">nTrain</span><span class="p">)</span>

<span class="k">print</span> <span class="s">&#39;Average OHE Sparsity: {0:.7e}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">averageSparsityOHE</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Average Hash Sparsity: {0:.7e}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">averageSparsityHash</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Average OHE Sparsity: 1.6717749e-04
Average Hash Sparsity: 1.1805561e-03
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[81]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Sparsity (5c)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">averageSparsityOHE</span><span class="p">,</span> <span class="mf">1.6717677e-04</span><span class="p">),</span>
                <span class="s">&#39;incorrect value for averageSparsityOHE&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">averageSparsityHash</span><span class="p">,</span> <span class="mf">1.1805561e-03</span><span class="p">),</span>
                <span class="s">&#39;incorrect value for averageSparsityHash&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test passed.
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(5d)-Logistic-model-with-hashed-features-"><strong> (5d) Logistic model with hashed features </strong><a class="anchor-link" href="#-(5d)-Logistic-model-with-hashed-features-">&#182;</a></h4><h4 id="Now-let's-train-a-logistic-regression-model-using-the-hashed-features.-Run-a-grid-search-to-find-suitable-hyperparameters-for-the-hashed-features,-evaluating-via-log-loss-on-the-validation-data.-Note:-This-may-take-a-few-minutes-to-run.-Use-1-and-10-for-stepSizes-and-1e-6-and-1e-3-for-regParams.">Now let's train a logistic regression model using the hashed features. Run a grid search to find suitable hyperparameters for the hashed features, evaluating via log loss on the validation data. Note: This may take a few minutes to run. Use <code>1</code> and <code>10</code> for <code>stepSizes</code> and <code>1e-6</code> and <code>1e-3</code> for <code>regParams</code>.<a class="anchor-link" href="#Now-let's-train-a-logistic-regression-model-using-the-hashed-features.-Run-a-grid-search-to-find-suitable-hyperparameters-for-the-hashed-features,-evaluating-via-log-loss-on-the-validation-data.-Note:-This-may-take-a-few-minutes-to-run.-Use-1-and-10-for-stepSizes-and-1e-6-and-1e-3-for-regParams.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[92]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="n">numIters</span> <span class="o">=</span> <span class="mi">500</span>
<span class="n">regType</span> <span class="o">=</span> <span class="s">&#39;l2&#39;</span>
<span class="n">includeIntercept</span> <span class="o">=</span> <span class="bp">True</span>

<span class="c"># Initialize variables using values from initial model training</span>
<span class="n">bestModel</span> <span class="o">=</span> <span class="bp">None</span>
<span class="n">bestLogLoss</span> <span class="o">=</span> <span class="mf">1e10</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[93]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="n">stepSizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="n">regParams</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1e-6</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">]</span>
<span class="k">for</span> <span class="n">stepSize</span> <span class="ow">in</span> <span class="n">stepSizes</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">regParam</span> <span class="ow">in</span> <span class="n">regParams</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="p">(</span><span class="n">LogisticRegressionWithSGD</span>
                 <span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">hashTrainData</span><span class="p">,</span> <span class="n">numIters</span><span class="p">,</span> <span class="n">stepSize</span><span class="p">,</span> <span class="n">regParam</span><span class="o">=</span><span class="n">regParam</span><span class="p">,</span> <span class="n">regType</span><span class="o">=</span><span class="n">regType</span><span class="p">,</span>
                        <span class="n">intercept</span><span class="o">=</span><span class="n">includeIntercept</span><span class="p">))</span>
        <span class="n">logLossVa</span> <span class="o">=</span> <span class="n">evaluateResults</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">hashValidationData</span><span class="p">)</span>
        <span class="k">print</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\t</span><span class="s">stepSize = {0:.1f}, regParam = {1:.0e}: logloss = {2:.3f}&#39;</span>
               <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">stepSize</span><span class="p">,</span> <span class="n">regParam</span><span class="p">,</span> <span class="n">logLossVa</span><span class="p">))</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">logLossVa</span> <span class="o">&lt;</span> <span class="n">bestLogLoss</span><span class="p">):</span>
            <span class="n">bestModel</span> <span class="o">=</span> <span class="n">model</span>
            <span class="n">bestLogLoss</span> <span class="o">=</span> <span class="n">logLossVa</span>

<span class="k">print</span> <span class="p">(</span><span class="s">&#39;Hashed Features Validation Logloss:</span><span class="se">\n\t</span><span class="s">Baseline = {0:.3f}</span><span class="se">\n\t</span><span class="s">LogReg = {1:.3f}&#39;</span>
       <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">logLossValBase</span><span class="p">,</span> <span class="n">bestLogLoss</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>	stepSize = 1.0, regParam = 1e-06: logloss = 0.475
	stepSize = 1.0, regParam = 1e-03: logloss = 0.475
	stepSize = 10.0, regParam = 1e-06: logloss = 0.450
	stepSize = 10.0, regParam = 1e-03: logloss = 0.452
Hashed Features Validation Logloss:
	Baseline = 0.528
	LogReg = 0.450
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[88]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Logistic model with hashed features (5d)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">bestLogLoss</span><span class="p">,</span> <span class="mf">0.4481683608</span><span class="p">),</span> <span class="s">&#39;incorrect value for bestLogLoss&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test failed. incorrect value for bestLogLoss
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Visualization-3:-Hyperparameter-heat-map"><strong>Visualization 3: Hyperparameter heat map</strong><a class="anchor-link" href="#Visualization-3:-Hyperparameter-heat-map">&#182;</a></h4><h4 id="We-will-now-perform-a-visualization-of-an-extensive-hyperparameter-search.--Specifically,-we-will-create-a-heat-map-where-the-brighter-colors-correspond-to-lower-values-of-logLoss.">We will now perform a visualization of an extensive hyperparameter search.  Specifically, we will create a heat map where the brighter colors correspond to lower values of <code>logLoss</code>.<a class="anchor-link" href="#We-will-now-perform-a-visualization-of-an-extensive-hyperparameter-search.--Specifically,-we-will-create-a-heat-map-where-the-brighter-colors-correspond-to-lower-values-of-logLoss.">&#182;</a></h4><h4 id="The-search-was-run-using-six-step-sizes-and-six-values-for-regularization,-which-required-the-training-of-thirty-six-separate-models.--We-have-included-the-results-below,-but-omitted-the-actual-search-to-save-time.">The search was run using six step sizes and six values for regularization, which required the training of thirty-six separate models.  We have included the results below, but omitted the actual search to save time.<a class="anchor-link" href="#The-search-was-run-using-six-step-sizes-and-six-values-for-regularization,-which-required-the-training-of-thirty-six-separate-models.--We-have-included-the-results-below,-but-omitted-the-actual-search-to-save-time.">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[89]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="kn">from</span> <span class="nn">matplotlib.colors</span> <span class="kn">import</span> <span class="n">LinearSegmentedColormap</span>

<span class="c"># Saved parameters and results.  Eliminate the time required to run 36 models</span>
<span class="n">stepSizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">]</span>
<span class="n">regParams</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1e-7</span><span class="p">,</span> <span class="mf">1e-6</span><span class="p">,</span> <span class="mf">1e-5</span><span class="p">,</span> <span class="mf">1e-4</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">,</span> <span class="mf">1e-2</span><span class="p">]</span>
<span class="n">logLoss</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="mf">0.45808431</span><span class="p">,</span>  <span class="mf">0.45808493</span><span class="p">,</span>  <span class="mf">0.45809113</span><span class="p">,</span>  <span class="mf">0.45815333</span><span class="p">,</span>  <span class="mf">0.45879221</span><span class="p">,</span>  <span class="mf">0.46556321</span><span class="p">],</span>
                    <span class="p">[</span> <span class="mf">0.45188196</span><span class="p">,</span>  <span class="mf">0.45188306</span><span class="p">,</span>  <span class="mf">0.4518941</span><span class="p">,</span>   <span class="mf">0.4520051</span><span class="p">,</span>   <span class="mf">0.45316284</span><span class="p">,</span>  <span class="mf">0.46396068</span><span class="p">],</span>
                    <span class="p">[</span> <span class="mf">0.44886478</span><span class="p">,</span>  <span class="mf">0.44886613</span><span class="p">,</span>  <span class="mf">0.44887974</span><span class="p">,</span>  <span class="mf">0.44902096</span><span class="p">,</span>  <span class="mf">0.4505614</span><span class="p">,</span>   <span class="mf">0.46371153</span><span class="p">],</span>
                    <span class="p">[</span> <span class="mf">0.44706645</span><span class="p">,</span>  <span class="mf">0.4470698</span><span class="p">,</span>   <span class="mf">0.44708102</span><span class="p">,</span>  <span class="mf">0.44724251</span><span class="p">,</span>  <span class="mf">0.44905525</span><span class="p">,</span>  <span class="mf">0.46366507</span><span class="p">],</span>
                    <span class="p">[</span> <span class="mf">0.44588848</span><span class="p">,</span>  <span class="mf">0.44589365</span><span class="p">,</span>  <span class="mf">0.44590568</span><span class="p">,</span>  <span class="mf">0.44606631</span><span class="p">,</span>  <span class="mf">0.44807106</span><span class="p">,</span>  <span class="mf">0.46365589</span><span class="p">],</span>
                    <span class="p">[</span> <span class="mf">0.44508948</span><span class="p">,</span>  <span class="mf">0.44509474</span><span class="p">,</span>  <span class="mf">0.44510274</span><span class="p">,</span>  <span class="mf">0.44525007</span><span class="p">,</span>  <span class="mf">0.44738317</span><span class="p">,</span>  <span class="mf">0.46365405</span><span class="p">]])</span>

<span class="n">numRows</span><span class="p">,</span> <span class="n">numCols</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">stepSizes</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">regParams</span><span class="p">)</span>
<span class="n">logLoss</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">logLoss</span><span class="p">)</span>
<span class="n">logLoss</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="n">numRows</span><span class="p">,</span> <span class="n">numCols</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">preparePlot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">numCols</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">numRows</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span>
                      <span class="n">hideLabels</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">gridWidth</span><span class="o">=</span><span class="mf">0.</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">regParams</span><span class="p">),</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">stepSizes</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;Regularization Parameter&#39;</span><span class="p">),</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;Step Size&#39;</span><span class="p">)</span>

<span class="n">colors</span> <span class="o">=</span> <span class="n">LinearSegmentedColormap</span><span class="o">.</span><span class="n">from_list</span><span class="p">(</span><span class="s">&#39;blue&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;#0022ff&#39;</span><span class="p">,</span> <span class="s">&#39;#000055&#39;</span><span class="p">],</span> <span class="n">gamma</span><span class="o">=.</span><span class="mi">2</span><span class="p">)</span>
<span class="n">image</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">logLoss</span><span class="p">,</span><span class="n">interpolation</span><span class="o">=</span><span class="s">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s">&#39;auto&#39;</span><span class="p">,</span>
                    <span class="n">cmap</span> <span class="o">=</span> <span class="n">colors</span><span class="p">)</span>
<span class="k">pass</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>


<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
j3sarjWPpxuhBmbw4DPqSCSiI0eOqL6+XiUlJTPeuvJx/H7/tEBGIpFHHjMwMKC6ujodPHhQKSkp
sRt0PDzLTHp7e3X+/Hm99957sSP1H3/8Ufv27VNOTo4aGxvV0dERe/x8Pw9/+HF+vz+2bLbPcJ95
5pnYW/sPtvHUqVM6ePCgwuFw7GY1DyQnJ8f++9SpU3rxxRdVVFSkjo4OnT9/PvZ7SUlJsXU/mOPB
rx/s05ycHL3//vtzbsfjHvfwPIBFnEwGPEYgENDWrVtVV1enQCAw460rJWn58uWx5U1NTbHnp6en
q7+/X5OTkxobG5sWzgcmJiaUnJys5ORkDQ8Pq62t7bEz+Xw+jY2NqaqqSm+88ca0+zBPTEwoNTVV
0Wg0dis/aSpG4+Pjj7xOdna27t+/r4GBAUnS9evXlZ+f/0d20SMeRDkYDGpiYiK2Xx54+B8u4+Pj
sfsFP7hl5e8fM5vs7GyNjIyoq6tL0v98Vi9N396srKxZHwckAo6ogTnk5uYqJydHTU1N2r17t06e
PKmLFy/Gbl25dOlSbdmyRdXV1bp06ZJWrVoV+ypXenq61qxZo0OHDikjIyN2O72HLV26VEuXLtWn
n36q9PR0PfPMM3PO1NLSosHBwdgJZZJi97j+97//rVAopLy8PE1MTEiaenv3xIkTqq+v1549e2LP
SUpK0s6dO3Xs2LHYyWQPbgX4e/M9Ig8GgyotLdWhQ4eUmpqqvLy8WV+nvLxcx44dUzAY1IoVKzQ4
ODjvdfn9fu3du1e1tbUaHx9XNBpVWVmZlixZonXr1unEiROxk8lmexyQCLjNJbAAIpFI7C3q3377
Tc3NzXrzzTc9ngrA04AjamAB9PT06NSpU3IcR8FgMHZGMQA8KY6oAQAwjJPJAAAwjFADAGAYoQYA
wDBCDQCAYYQaAADD/h8lc7IH8XamfAAAAABJRU5ErkJggg==
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-(5e)-Evaluate-on-the-test-set-"><strong> (5e) Evaluate on the test set </strong><a class="anchor-link" href="#-(5e)-Evaluate-on-the-test-set-">&#182;</a></h4><h4 id="Finally,-evaluate-the-best-model-from-Part-(5d)-on-the-test-set.--Compare-the-resulting-log-loss-with-the-baseline-log-loss-on-the-test-set,-which-can-be-computed-in-the-same-way-that-the-validation-log-loss-was-computed-in-Part-(4f).">Finally, evaluate the best model from Part (5d) on the test set.  Compare the resulting log loss with the baseline log loss on the test set, which can be computed in the same way that the validation log loss was computed in Part (4f).<a class="anchor-link" href="#Finally,-evaluate-the-best-model-from-Part-(5d)-on-the-test-set.--Compare-the-resulting-log-loss-with-the-baseline-log-loss-on-the-test-set,-which-can-be-computed-in-the-same-way-that-the-validation-log-loss-was-computed-in-Part-(4f).">&#182;</a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[90]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TODO: Replace &lt;FILL IN&gt; with appropriate code</span>
<span class="c"># Log loss for the best model from (5d)</span>
<span class="n">logLossTest</span> <span class="o">=</span> <span class="n">evaluateResults</span><span class="p">(</span><span class="n">bestModel</span><span class="p">,</span> <span class="n">hashTestData</span><span class="p">)</span>

<span class="c"># Log loss for the baseline model</span>
<span class="n">logLossTestBaseline</span> <span class="o">=</span> <span class="n">hashTestData</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">lp</span><span class="p">:</span> <span class="n">computeLogLoss</span><span class="p">(</span><span class="n">classOneFracTrain</span><span class="p">,</span> <span class="n">lp</span><span class="o">.</span><span class="n">label</span><span class="p">))</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">hashTestData</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="k">print</span> <span class="p">(</span><span class="s">&#39;Hashed Features Test Log Loss:</span><span class="se">\n\t</span><span class="s">Baseline = {0:.3f}</span><span class="se">\n\t</span><span class="s">LogReg = {1:.3f}&#39;</span>
       <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">logLossTestBaseline</span><span class="p">,</span> <span class="n">logLossTest</span><span class="p">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>Hashed Features Test Log Loss:
	Baseline = 0.537
	LogReg = 0.457
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[91]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre><span class="c"># TEST Evaluate on the test set (5e)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">logLossTestBaseline</span><span class="p">,</span> <span class="mf">0.537438</span><span class="p">),</span>
                <span class="s">&#39;incorrect value for logLossTestBaseline&#39;</span><span class="p">)</span>
<span class="n">Test</span><span class="o">.</span><span class="n">assertTrue</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">logLossTest</span><span class="p">,</span> <span class="mf">0.455616931</span><span class="p">),</span> <span class="s">&#39;incorrect value for logLossTest&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 test passed.
1 test failed. incorrect value for logLossTest
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[&nbsp;]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython2"><pre> 
</pre></div>

</div>
</div>
</div>

</div>
    </div>
  </div>
</body>
</html>
